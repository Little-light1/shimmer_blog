{"meta":{"title":"Shimmer","subtitle":"é»‘æš—ä¸­å¯»å…‰çš„äºº","description":"","author":"Shimmer","url":"https://gitee.com/shimmer612/myBlog","root":"/myBlog/"},"pages":[{"title":"ç›¸å†Œ","date":"2022-01-01T14:51:23.123Z","updated":"2022-01-01T14:51:23.123Z","comments":true,"path":"photos/index.html","permalink":"https://gitee.com/shimmer612/myBlog/photos/index.html","excerpt":"","text":""},{"title":"ç•™è¨€æ¿","date":"2021-03-17T01:52:41.653Z","updated":"2021-03-17T01:52:41.653Z","comments":true,"path":"message/index.html","permalink":"https://gitee.com/shimmer612/myBlog/message/index.html","excerpt":"","text":""},{"title":"tags","date":"2021-02-23T09:07:02.000Z","updated":"2021-02-23T09:08:25.950Z","comments":true,"path":"tags/index.html","permalink":"https://gitee.com/shimmer612/myBlog/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"2022å¹´æ¥å•¦","slug":"2022","date":"2021-12-31T16:00:00.000Z","updated":"2022-01-01T14:38:19.748Z","comments":true,"path":"2022/01/01/2022/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2022/01/01/2022/","excerpt":"","text":"2022å¹´å…ƒæ—¦æ–°çš„ä¸€å¹´åˆåˆ°æ¥äº† å·¥ä½œçš„æ—¶é—´è¿‡çš„é£å¿«ï¼Œè½¬çœ¼é—´å·²ç»å½“äº†ä¸€å¹´çš„æ‰“å·¥äººäº†ã€‚ è¿™ä¸€å¹´ç»å†äº†å¾ˆå¤šï¼Œå®ä¹ ã€æ¯•ä¸šã€å·¥ä½œã€æ—…æ¸¸ã€éš”ç¦»ã€åŠ ç­ã€‚ æ¯•ä¸šåä¸€ä¸ªäººç•™åœ¨äº†å¸¸å·ï¼Œå¼€å§‹æ²¡ä»€ä¹ˆæœ‹å‹ï¼Œè¿‡çš„å¾ˆçƒ¦é—·å’Œç—›è‹¦ã€‚ è™½ç„¶å·¥ä½œä¸­é‡åˆ°äº†å‡ ä¸ªåŒäº‹ä¸å¥½å‹ï¼Œä½†æ˜¯äººçš„å–œå¥½å¹¶ä¸ç›¸åŒã€‚ ä½†ä¹Ÿæ˜¯å¾ˆå¼€å¿ƒçš„ã€‚è‡³å°‘å·¥ä½œä¸­åˆå¾ˆå¤šæ¬¢ä¹ã€‚ ç»å†äº†å¾ˆå¤šä¹Ÿæ”¶è·äº†å¾ˆå¤šï¼Œä»ä¸€å¼€å§‹çš„å†™ä¸€äº›å°éœ€æ±‚ï¼Œåˆ°ç°åœ¨å¼€å‘æ•´ä¸ªç‰ˆæœ¬ï¼Œè°ƒç ”æ–°çš„æŠ€æœ¯ã€‚ ç°åœ¨åº”è¯¥ç®—ä¸€ä¸ªçœŸæ­£çš„å‰ç«¯ç¨‹åºå‘˜äº†å§ã€‚ å°±æ˜¯è‡ªå·±æŠ€æœ¯çš„å¹¿åº¦æ²¡å¤šå¤§æå‡ã€‚ æ¯å¤©ä»æ—©å†™åˆ°æ™šï¼Œä¸‹ç­æˆ–è€…æ”¾å‡çš„æ—¶å€™å­¦ä¹ æ–°æŠ€æœ¯æ˜¯å¯ä»¥å±ˆæŒ‡å¯æ•°çš„ã€‚ ä»Šå¹´æ…¢æ…¢åŠ æ²¹å§ã€‚ ä»Šå¤©å…ƒæ—¦ï¼Œåå§é‚€è¯·æˆ‘å»å¥¹å®¶åƒé¥­ï¼Œä½†æ˜¯è¿˜è¦æˆ‘è‡ªå·±çƒ§é¥­ï¼Œè¿˜æ˜¯å¾ˆå¿«ä¹çš„ï¼Œåªæ˜¯æ²¡æœ‰å‘æŒ¥å¥½ï¼Œæœ€åå‡ºé”…å¿˜è®°äº†æ”¾ç›ï¼Œæ²¡æœ‰åå§åšçš„å¥½åƒã€‚é¥­åæ‰“æ‰“ç‰Œï¼Œåšåšå°æ¸¸æˆï¼Œç¾ä¸­ä¸è¶³æ˜¯æ²¡æœ‰æ‰“åˆ°ç¾½æ¯›çƒã€‚ å‘¨æœ«èƒ½å’Œå¥½æœ‹å‹ä»¬ä¸€èµ·ç©ä¸€ç©çœŸçš„æŒºæ£’çš„ï¼Œä¸ä¼šé‚£ä¹ˆçƒ¦é—·ã€‚ æ–°çš„ä¸€å¹´ç»§ç»­åŠ æ²¹ã€‚ å¸Œæœ›ä»Šå¹´çˆ¶æ¯å¥åº·ï¼Œä¸€åˆ‡éƒ½å¥½ã€‚ è‡ªå·±ä¸€åˆ‡éƒ½å¥½ï¼Œæˆ‘çˆ±çš„äººå’Œçˆ±æˆ‘çš„äººä¸€åˆ‡éƒ½å¥½ã€‚ æ–°å¹´å¿«ä¹ï¼","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"è¡¨å•æ·»åŠ å¤šç»„è§„åˆ™","slug":"2021-07-30-è¡¨å•æ·»åŠ å¤šç»„è§„åˆ™","date":"2021-07-29T16:00:00.000Z","updated":"2021-07-30T14:25:10.210Z","comments":true,"path":"2021/07/30/2021-07-30-è¡¨å•æ·»åŠ å¤šç»„è§„åˆ™/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/07/30/2021-07-30-%E8%A1%A8%E5%8D%95%E6%B7%BB%E5%8A%A0%E5%A4%9A%E7%BB%84%E8%A7%84%E5%88%99/","excerpt":"","text":"èµ·å›  æ¡†æ¶react+ant3ï¼ˆè€é¡¹ç›®é‡æ„å¾ˆéš¾ï¼‰ æ–°ç‰ˆæœ¬ä¸€ä¸ªéœ€æ±‚åŸå‹å¦‚ä¸‹ï¼š[ å¯ä»¥æœ‰å¤šä¸ªè§„åˆ™ï¼Œä¸”è§„åˆ™ä¹‹é—´æ—¶é—´éœ€è¦è¿ç»­ã€‚ä¸Šä¸€ä¸ªç»“æŸæ—¶é—´çš„ç¬¬äºŒå¤©è¦æ˜¯ä¸‹ä¸€ä¸ªè§„åˆ™çš„å¼€å§‹æ—¶é—´ã€‚ å¦‚æœç¬¬ä¸€ä¸ªç»“æŸæ—¶é—´æ˜¯7æœˆ30å·,ä¸‹ä¸ªæœˆçš„å¼€å§‹æ—¶é—´è¦æ˜¯7.31å·ã€‚ä¾æ¬¡ç±»æ¨ã€‚ è¿˜è¦å¯ä»¥æ‰¹é‡è®¾ç½®ã€‚å°±æ˜¯ä¸€æ¬¡æ€§è®¾ç½®å¤šä¸ªã€‚ é¦–å…ˆè‚¯å®šæƒ³åˆ°çš„æ˜¯ç”¨æ•°ç»„map,ç”¨çš„formè¡¨å•ã€‚å°±æ–°å»ºä¸€ä¸ªæ•°ç»„arr=[0],ç‚¹å‡»æ·»åŠ æŒ‰é’®çš„æ—¶å€™å°±å†pushä¸€ä¸ª0ï¼Œåˆ é™¤æŒ‰é’®å°±arr.splice(index,1),indexæ˜¯å½“å‰å…ƒç´ ä¸‹æ ‡ã€‚ä½†æ˜¯form.itemçš„ä¾èµ–å­—æ®µä¼šé‡å¤ã€‚ ç„¶ååªèƒ½è‡ªå·±ç”¨datePickerã€Inputè¿˜æœ‰æ¡†æ¶å°è£…å¥½çš„è·å–ä¼ä¸šIdçš„æ¨¡ç³ŠæŸ¥è¯¢çš„ç»„ä»¶ã€‚ ä¸”æœ‰è§„åˆ™åå†ä¿®æ”¹å¯ä»¥å›æ˜¾æ•°æ®ã€‚ å¦‚ä¸‹ï¼š è¿™æ˜¯å¤–å±‚çš„Modal: å› ä¸ºæ‰¹é‡å¤šä¸ªå‚æ•°é€—å·åˆ†éš”ã€‚ åˆå§‹åŒ–indexOfåˆ¤æ–­æœ‰æ²¡æœ‰é€—å·ï¼Œæ˜¯å•ä¸ªè¿˜æ˜¯æ‰¹é‡ï¼Œå•ä¸ªçš„è¯å°±è·å–æ•°æ®ï¼Œä¸”æŠŠè·å–åˆ°çš„æ•°æ®é€šè¿‡propsä¼ åˆ°å­ç»„ä»¶å½“ä¸­ã€‚å› ä¸ºrenderæ˜¯å…ˆrenderã€‚æ‰€ä»¥è¿™é‡Œç”¨ä¸ªflagã€‚ä¿è¯è·å–åˆ°çš„æ•°æ®å¯ä»¥ä¼ åˆ°å­ç»„ä»¶ã€‚ å†æŠŠéœ€è¦çš„ä¸€äº›æ–¹æ³•ä¼ åˆ°å­ç»„ä»¶å½“ä¸­ã€‚ å­ç»„ä»¶ä¸­ï¼Œé€šè¿‡onChangeè·å–åˆ°å€¼æ”¾åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­æ·»åŠ åˆ°æ•°ç»„é‡Œã€‚ æ·»åŠ çš„æ—¶å€™è·å–åˆ°å½“å‰çš„ç»“æŸæ—¶é—´ã€‚é€šè¿‡moment().add(1,&#39;day&#39;)å½“ç„¶è¿™é‡Œè¦åˆ¤æ–­æ˜¯ä¸æ˜¯æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ª è¿˜æœ‰å°±æ˜¯å¯¹æ—¶é—´çš„åˆ¤æ–­ã€‚ å› ä¸ºæ—¶é—´çš„è¿ç»­çš„åˆ é™¤åªèƒ½åˆ é™¤æœ€åä¸€ä¸ªã€‚ åŸºæœ¬å®Œæˆäº†åŠŸèƒ½ï¼Œä½†æ˜¯æ„Ÿè§‰å¾ˆå†—ä½™ï¼Œè¿˜è¦ä¿®æ”¹ï¼Œä¸€äº›ç»†èŠ‚è¿˜è¦å®Œå–„ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165import React,&#123;Component&#125; from &#39;react&#39;import &#123; Form, Button, Input, message &#125; from &quot;antd&quot;import fetchHandler from &#39;@&#x2F;fetch&#x2F;fetchHandler&#39;import TrusteeshipForm from &#39;.&#x2F;TrusteeshipForm&#39;;import moment from &#39;moment&#39;;import &#123;settlementSetting,getSettlementSetting&#125; from &#39;@&#x2F;fetch&#x2F;fetchApi&#39;class Trusteeship extends Component &#123; constructor(props) &#123; super(props) this.props &#x3D; props this.state &#x3D; &#123; domArr : [], stubId:this.props.stubId, info:[], flag:true &#125; &#125; componentWillMount() &#123; this.getInfo() &#125; async getInfo () &#123; if(this.props.stubId.indexOf(&#39;,&#39;)&gt;0) &#123; return &#125; this.setState(&#123; flag:false &#125;) await fetchHandler(getSettlementSetting,&#123; stubId:this.props.stubId &#125;).then( (res)&#x3D;&gt;&#123; if(res&amp;&amp;res.code&#x3D;&#x3D;&#x3D;&#39;success&#39;) &#123; const domArr &#x3D; [] res.data.map((item,index)&#x3D;&gt;&#123; let obj &#x3D; &#123;&#125; obj.unitPrice &#x3D; item.unitPrice obj.paymentCompanyId&#x3D;item.paymentCompanyId obj.startDate &#x3D; moment(item.startDate).format(&quot;YYYY-MM-DD&quot;) obj.endDate &#x3D; moment(item.endDate).format(&quot;YYYY-MM-DD&quot;) obj.companyName &#x3D; item.companyName domArr.push(obj) &#125;) this.setState(&#123; domArr, info:res.data, flag:true &#125;) &#125; &#125;) &#125; onAdd &#x3D; (newArr)&#x3D;&gt;&#123; this.setState(&#123; domArr:newArr &#125;)&#125; onDel &#x3D; ()&#x3D;&gt;&#123; const domArr &#x3D; this.state.domArr domArr.splice(domArr.length-1,1) this.setState(&#123; domArr &#125;) &#125;&#x2F;&#x2F; åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ç©ºå€¼ getDetaios(arr) &#123; for (var i in arr) &#123; if (arr[i] &#x3D;&#x3D; null) &#123; return true &#125; &#125; return false &#125; onChange &#x3D; (obj)&#x3D;&gt;&#123; this.props.form.setFieldsValue(&#123; stubPeriodSetting: obj &#125;) &#125;onFinish &#x3D; (e) &#x3D;&gt; &#123; const domArr &#x3D; this.state.domArr const isNull &#x3D; this.getDetaios(domArr[domArr.length-1]) console.log(domArr); if(isNull) &#123; message.warning(&quot;å­˜åœ¨æœªå¡«é¡¹æˆ–å¼€å§‹æ—¶é—´åœ¨ç»“æŸæ—¶é—´ä¹‹å‰ï¼Œè¯·æ£€æŸ¥&quot;) return &#125; e.preventDefault(); this.props.form.validateFields((err, values) &#x3D;&gt; &#123; if (!err) &#123; values.stubIds &#x3D; this.state.stubId fetchHandler(settlementSetting,values ).then((res) &#x3D;&gt; &#123; console.log(res); if (res.code &#x3D;&#x3D;&#x3D; &quot;success&quot;) &#123; message.success(&quot;ä¿å­˜æˆåŠŸï¼&quot;) this.props.fresh() this.props.onCancel() &#125; &#125;) &#125; &#125;);&#125;;setFlag () &#123; this.setState(&#123; flag:true &#125;)&#125;render () &#123; const &#123;getFieldDecorator&#125; &#x3D; this.props.form const &#123;domArr,flag,info&#125; &#x3D; this.state console.log(domArr); console.log(info); return ( &lt;Form name&#x3D;&quot;basic&quot; onSubmit&#x3D;&#123;this.onFinish&#125; &gt; &lt;h5&gt;æ”¶è´¹è§„åˆ™&lt;&#x2F;h5&gt; &#123;flag? &lt;div&gt;&lt;Form.Item label&#x3D;&quot;åˆåŒç¼–å·&quot; style&#x3D;&#123;&#123; display:&quot;flex&quot; &#125;&#125; &gt; &#123;getFieldDecorator(&#39;concatNo&#39;, &#123; rules: [&#123; required: true, message: &#39;è¯¥é¡¹æ˜¯å¿…å¡«é¡¹&#39; &#125;], initialValue: (info.length!&#x3D;&#x3D;0)?info[0].concatNo:&quot;&quot; &#125;)( &lt;Input style&#x3D;&#123;&#123; &#39;width&#39;: &#39;300px&#39; &#125;&#125; placeholder&#x3D;&quot;è¯·è¾“å…¥åˆåŒç¼–å·&quot; &#x2F;&gt;, )&#125; &lt;&#x2F;Form.Item&gt; &lt;Form.Item&gt; &#123;getFieldDecorator(&#39;stubPeriodSetting&#39;, &#123; rules: [&#123; required: true, message: &#39;è¯¥é¡¹æ˜¯å¿…å¡«é¡¹&#39;,type: &#39;array&#39; &#125;], initialValue: &quot;&quot; &#125;)( &lt;TrusteeshipForm setFlag&#x3D;&#123;()&#x3D;&gt;&#123;this.setFlag&#125;&#125; domArr&#x3D;&#123;domArr&#125; onAdd &#x3D; &#123;this.onAdd&#125; onDel&#x3D;&#123;this.onDel&#125; onChange&#x3D;&#123;this.onChange&#125; &#x2F;&gt;, )&#125; &lt;&#x2F;Form.Item&gt;&lt;&#x2F;div&gt;:&quot;&quot;&#125; &lt;Form.Item style&#x3D;&#123;&#123;display: &quot;flex&quot;,justifyContent:&quot;center&quot;&#125;&#125;&gt; &lt;Button type&#x3D;&quot;dashed&quot; htmlType&#x3D;&quot;submit&quot;&gt; ä¿å­˜ &lt;&#x2F;Button&gt; &lt;&#x2F;Form.Item&gt; &lt;&#x2F;Form&gt; )&#125; &#125;Trusteeship &#x3D; Form.create(&#123;&#125;)(Trusteeship)export default Trusteeship 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225&#x2F;&#x2F; å¼•å…¥reactimport React, &#123; PureComponent&#125; from &#39;react&#39;;import &#123; Form, Button, Input, message,DatePicker &#125; from &quot;antd&quot;import fetchHandler from &#39;@&#x2F;fetch&#x2F;fetchHandler&#39;import &#123;companyList &#125; from &#39;@&#x2F;fetch&#x2F;fetchApi&#39;import AutoSearch from &#39;@&#x2F;components&#x2F;display&#x2F;input&#x2F;AutoSearch&#39;;import moment from &#39;moment&#39;;class TrusteeshipForm extends PureComponent &#123; constructor(props) &#123; super(props); this.props &#x3D; props this.state &#x3D; &#123; domArr :this.props.domArr &#125; &#125; style &#x3D; &#123; display: &#39;flex&#39;, alignItems:&quot;center&quot;, marginBottom:&quot;20px&quot; &#125; &#x2F;&#x2F; åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜åœ¨ç©ºå€¼ getDetaios(arr) &#123; for (var i in arr) &#123; if (arr[i] &#x3D;&#x3D; null) &#123; return true &#125; &#125; return false &#125;componentDidMount () &#123; this.props.onChange(this.state.domArr)&#125; onAdd &#x3D; ()&#x3D;&gt;&#123; const &#123;domArr&#125; &#x3D; this.state this.props.setFlag() if(domArr.length&gt;&#x3D;10) &#123; message.warning(&quot;æœ€å¤šæ·»åŠ 10æ¡ï¼&quot;) return &#125; if(this.getDetaios(domArr[domArr.length-1])) &#123; message.warning(&quot;å­˜åœ¨æœªå¡«é¡¹æˆ–æ•°æ®ä¸æ­£ç¡®ï¼Œè¯·æ£€æŸ¥ï¼&quot;) return &#125; let nextStartDate &#x3D; moment(new Date()).format(&quot;YYYY-MM-DD&quot;) let nextEndDate &#x3D; moment(new Date()).add(7,&#39;day&#39;).format(&quot;YYYY-MM-DD&quot;) if(domArr.length&gt;0) &#123; nextStartDate &#x3D; moment(domArr[domArr.length-1].endDate).add(1,&#39;day&#39;).format(&quot;YYYY-MM-DD&quot;) nextEndDate &#x3D; moment(nextStartDate).add(7,&#39;day&#39;).format(&quot;YYYY-MM-DD&quot;) &#125; const obj &#x3D;&#123; unitPrice:null, paymentCompanyId:null, startDate:nextStartDate, endDate: nextEndDate, &#125; domArr.push(obj) this.setState(&#123; domArr, &#125;,()&#x3D;&gt;&#123; this.props.onAdd(domArr) &#125; ) &#125; startChange (startDate,index) &#123; const domArr &#x3D; this.state.domArr const time &#x3D; moment(startDate).diff(moment(domArr[index].endDate)) if(time&gt;0) &#123; message.warning(&quot;å¼€å§‹æ—¶é—´å¿…é¡»åœ¨ç»“æŸæ—¶é—´ä¹‹å‰ï¼&quot;) return &#125; domArr[index].startDate &#x3D; startDate this.setState(&#123; domArr &#125;,()&#x3D;&gt;&#123; const domArr &#x3D; this.state.domArr this.props.onChange(domArr) this.props.onAdd(domArr) &#125;) &#125; endChange (endDate,index) &#123; const domArr &#x3D; this.state.domArr let time if( domArr[index+1]) &#123; time &#x3D; moment(endDate).diff(moment(domArr[index+1].endDate)) &#125; if(time&gt;0||time&#x3D;&#x3D;&#x3D;0) &#123; domArr.forEach((item,i)&#x3D;&gt;&#123; if(i&gt;index) &#123; item.endDate &#x3D; null item.startDate &#x3D; null &#125; &#125;) &#125; if(domArr[index+1]) &#123; domArr[index+1].startDate &#x3D; moment(endDate).add(1,&#39;day&#39;).format(&quot;YYYY-MM-DD&quot;) &#125; domArr[index].endDate &#x3D; endDate this.setState(&#123; domArr &#125;,()&#x3D;&gt;&#123; const domArr &#x3D; this.state.domArr this.props.onChange(domArr) this.props.onAdd(domArr) &#125;) &#125; feeChange (fee,index) &#123; const domArr &#x3D; this.state.domArr domArr[index].unitPrice &#x3D; fee this.setState(&#123; domArr &#125;,()&#x3D;&gt;&#123; const domArr &#x3D; this.state.domArr this.props.onChange(domArr) this.props.onAdd(domArr) &#125;) &#125; companyChange (e,index) &#123; const domArr &#x3D; this.state.domArr domArr[index].paymentCompanyId &#x3D; e this.setState(&#123; domArr &#125;,()&#x3D;&gt;&#123; const domArr &#x3D; this.state.domArr this.props.onChange(domArr) this.props.onAdd(domArr) &#125;) &#125; render() &#123; const &#123;domArr&#125; &#x3D; this.state return &lt;div style&#x3D;&#123;&#123;width:&quot;552px&quot;&#125;&#125;&gt; &#123;domArr&amp;&amp;domArr.map((item,index)&#x3D;&gt;&#123; return &lt;div key&#x3D;&#123;index&#125;&gt; &lt;div style&#x3D;&#123;this.style&#125;&gt; &lt;label&gt;&lt;span style&#x3D;&#123;&#123;color:&quot;red&quot;&#125;&#125;&gt;*&lt;&#x2F;span&gt; æ—¶é—´å‘¨æœŸï¼š&lt;&#x2F;label&gt; &lt;DatePicker placeholder&#x3D;&quot;å¼€å§‹æ—¶é—´&quot; disabled&#x3D;&#123;index!&#x3D;&#x3D;0&#125; value &#x3D; &#123;moment(item.startDate,&quot;YYYY-MM-DD&quot;)&#125; onChange&#x3D;&#123;(e,date)&#x3D;&gt;&#123; this.startChange(date,index) &#125;&#125;&#x2F;&gt; &lt;span&gt;â€”&lt;&#x2F;span&gt; &lt;DatePicker placeholder&#x3D;&quot;ç»“æŸæ—¶é—´&quot; defaultValue&#x3D;&#123;moment(item.endDate,&quot;YYYY-MM-DD&quot;)&#125; disabledDate&#x3D;&#123;(current)&#x3D;&gt; &#123; return current &amp;&amp; current &lt;moment(item.startDate) &#125;&#125; onChange&#x3D;&#123;(e,date)&#x3D;&gt;&#123; this.endChange(date,index) &#125;&#125; &#x2F;&gt; &lt;&#x2F;div&gt; &lt;div style&#x3D;&#123;this.style&#125;&gt; &lt;label&gt;&lt;span style&#x3D;&#123;&#123;color:&quot;red&quot;&#125;&#125;&gt;*&lt;&#x2F;span&gt; æ‰˜ç®¡è´¹ç”¨ï¼š&lt;&#x2F;label&gt; &lt;Input defaultValue&#x3D;&#123;item.unitPrice&#125; type&#x3D;&quot;number&quot; style&#x3D;&#123;&#123; &#39;width&#39;: &#39;300px&#39; &#125;&#125; onChange&#x3D;&#123;(e)&#x3D;&gt;&#123; this.feeChange(e.target.value,index) &#125;&#125; placeholder&#x3D;&quot;è¯·è¾“å…¥æ‰˜ç®¡è´¹ç”¨&quot; addonAfter&#x3D;&quot;å…ƒ&#x2F;å¹´&quot; &#x2F;&gt; &lt;&#x2F;div&gt; &lt;div style&#x3D;&#123;this.style&#125;&gt; &lt;label&gt;&lt;span style&#x3D;&#123;&#123;color:&quot;red&quot;&#125;&#125;&gt;*&lt;&#x2F;span&gt; æ‰¿æ‹…ä¼ä¸šï¼š&lt;&#x2F;label&gt; &lt;AutoSearch key&#x3D;&#123;item.companyName||&#39;add&#39;&#125; placeholder&#x3D;&#39;è¯·è¾“å…¥å•†æˆ·åç§°æ¨¡ç³Šæœç´¢&#39; config&#x3D;&#123;&#123; allowClear: true,&#x2F;&#x2F;æ˜¯å¦å…è®¸æ¸…é™¤, showParam: &#39;companyName&#39;, &#x2F;&#x2F; å±•ç¤ºçš„æ¡ç›®å‚æ•° choseParam: &#39;companyId&#39;, &#x2F;&#x2F; é€‰ä¸­çš„å‚æ•° sourceApi: companyList, &#x2F;&#x2F; é€‰é¡¹æ¥å£ initialValue: item.companyName, fetchParams:&#123; status:1 &#125; &#125;&#125; module&#x3D;&#39;company&#39; setValue&#x3D;&#123;(e) &#x3D;&gt; &#123; this.companyChange(e,index) &#125;&#125; &#x2F;&gt; &lt;&#x2F;div&gt; &lt;hr&#x2F;&gt; &lt;&#x2F;div&gt; &#125;) &#125; &lt;div style&#x3D;&#123;&#123;display: &quot;flex&quot;,justifyContent:&quot;center&quot;&#125;&#125;&gt; &lt;Button type&#x3D;&quot;primary&quot; onClick&#x3D;&#123;()&#x3D;&gt;&#123; this.onAdd() &#125;&#125;&gt; æ·»åŠ è§„åˆ™&lt;&#x2F;Button&gt; &#123;domArr&amp;&amp;domArr.length!&#x3D;&#x3D;0? &lt;Button style&#x3D;&#123;&#123;marginLeft:&quot;20px&quot;&#125;&#125; type&#x3D;&quot;primary&quot; onClick&#x3D;&#123;()&#x3D;&gt;&#123; this.props.onDel() &#125;&#125;&gt;åˆ é™¤&lt;&#x2F;Button&gt;:&quot;&quot;&#125; &lt;&#x2F;div&gt; &lt;&#x2F;div&gt; &#125;&#125;TrusteeshipForm &#x3D; Form.create(&#123;&#125;)(TrusteeshipForm)export default TrusteeshipForm;","categories":[],"tags":[{"name":"antd","slug":"antd","permalink":"https://gitee.com/shimmer612/myBlog/tags/antd/"}]},{"title":"æ˜Ÿçƒç©ºé—´ç«™é¡¹ç›®æ€»ç»“","slug":"2021-06-30-æ˜Ÿçƒç©ºé—´ç«™é¡¹ç›®æ€»ç»“","date":"2021-06-29T16:00:00.000Z","updated":"2021-06-30T14:10:40.226Z","comments":true,"path":"2021/06/30/2021-06-30-æ˜Ÿçƒç©ºé—´ç«™é¡¹ç›®æ€»ç»“/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/06/30/2021-06-30-%E6%98%9F%E7%90%83%E7%A9%BA%E9%97%B4%E7%AB%99%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/","excerpt":"","text":"â€œæ˜Ÿçƒç©ºé—´ç«™â€é¡¹ç›®æ€»ç»“æ˜Ÿçƒç©ºé—´ç«™æ˜¯OMSé¡¹ç›®çš„3.0ç‰ˆæœ¬ï¼Œå…¥èŒä»¥æ¥ï¼Œéƒ½æ˜¯åœ¨è€é¡¹ç›®ä¸­å†™é¡µé¢ï¼Œä¸Šä¸€ä¸ªé¡¹ç›®ç»„ä¸­çš„æ–°é¡¹ç›®ã€Šé‡å¡æ¢ç”µã€‹åœºç«™ç®¡ç†ç³»ç»Ÿï¼Œåšåˆ°80%,å°±è¢«è°ƒèµ°äº†ï¼Œä¸è¿‡ä¹Ÿåªæ˜¯å†™å†™é¡µé¢ï¼Œé¡¹ç›®éƒ½æ˜¯å¥å“¥æ­çš„umijs æ˜Ÿçƒç©ºé—´ç«™ç®—æ˜¯ç¬¬ä¸€ä¸ªå…¨éƒ¨ç”±æˆ‘å¼€å‘çš„é¡¹ç›®ã€‚è™½ç„¶åªç®—æ˜¯OMSçš„ä¸€ä¸ªå¯¼èˆªé¡µé¢ã€‚ä¸è¿‡å¯¹äºæˆ‘æ¥è¯´ï¼Œä¹Ÿæ˜¯å¾ˆå¥½çš„é”»ç‚¼äº†ã€‚ ä»Šå¤©æŠŠé‡åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹è®°å½•ä¸€ä¸‹ã€‚ æœ€ç»ˆå›¾å·®ä¸å¤šå¦‚ä¸‹ã€‚ å¦‚ä¸‹ 1ã€é¦–é¡µæœ‰ä¸‰ä¸ªechartså›¾è¡¨ï¼Œä¸€ä¸ªæ›²çº¿æŠ˜çº¿å›¾ã€‚ä¸¤ä¸ªç¯å½¢å›¾ã€‚ â€‹ è¿™ä¸ªæ¯”è¾ƒç®€å•ä¸€äº›ï¼Œå› ä¸ºä¹‹å‰æœ‰recatå¼•ç”¨echartsçš„ç»éªŒï¼Œæ‰€ä»¥å®˜ç½‘æ‰¾åˆ°ç›¸å…³çš„ç¤ºä¾‹ã€‚ åªæ˜¯æ”¹æ ·å¼æ¯”è¾ƒéº»çƒ¦ã€‚åªèƒ½æ…¢æ…¢æ‰¾é…ç½®é¡¹ã€‚ è¿™é‡Œè®°å½•ä¸€ä¸‹ç”¨åˆ°çš„é…ç½®é¡¹ï¼Œé‡Œé¢è¯¦ç»†çš„é…ç½®å°±ä¸è®°å½•äº†ã€‚ é…ç½®é¡¹çš„åœ°å€å¦‚ä¸‹ https://echarts.apache.org/zh/option.html 1234567legend å›¾ä¾‹ã€‚dataZoom ç”¨äºåŒºåŸŸç¼©æ”¾ï¼Œå°±æ˜¯å›¾è¡¨å¯ä»¥æ”¾å¤§ç¼©å°ï¼Œå·¦å³æ»‘åŠ¨tooltipæç¤ºæ¡†ã€‚ é¼ æ ‡ç§»åˆ°è¡¨æ ¼ä¸Šå¯ä»¥æç¤ºæ•°æ®seriesç³»åˆ—åˆ—è¡¨ã€‚æ¯ä¸ªç³»åˆ—é€šè¿‡ type å†³å®šè‡ªå·±çš„å›¾è¡¨ç±»å‹ï¼Œæ”¾æ•°æ®ä»¥åŠæ•°æ®æ€ä¹ˆå±•ç¤ºçš„åœ°æ–¹xAxis ç›´è§’åæ ‡è½´ xè½´yAxis ç›´è§’åæ ‡è½´ yè½´ ç­‰ç­‰ ç„¶åè¿˜æœ‰çš„å°±æ˜¯ã€‚echartsçš„åŠ è½½ã€æ•°æ®åŠ¨æ€ç»‘å®šç­‰ï¼Œå¤§å°éšçª—å£å˜åŒ–ç­‰è¦æ³¨æ„çš„åœ°æ–¹ 2ã€ä¸‹é¢å¯¼èˆªæŒ‰é’®å›¾æ ‡ä½¿ç”¨iconfont ä¹‹å‰ä½¿ç”¨iconfontéƒ½æ˜¯ä¸‹è½½çš„pngå›¾ç‰‡ï¼Œè¿™é‡Œè¦ç”¨ä»£ç å¼•å…¥ ä¸€å¼€å§‹ä½¿ç”¨çš„csså¼•å…¥å‘ç°å›¾æ ‡æ²¡æœ‰é¢œè‰²éƒ½æ˜¯é»‘çš„ï¼Œé—®äº†ä¸€ä¸‹ï¼Œè¦ç”¨symbol æ–¹å¼å¼•å…¥ï¼Œå°±æ˜¯jsæ–¹å¼ï¼š 1ï¼šæˆ‘æ˜¯å…ˆæ–°å»ºäº†ä¸€ä¸ªiconfontçš„jsæ–‡ä»¶ 12345678910 import &#123; Icon &#125; from &#x27;antd&#x27;; const IconFont = Icon.createFromIconfontCN(&#123; scriptUrl: &#x27;symbolæ–¹å¼åœ¨çº¿åœ°å€&#x27; &#125;); export default IconFont; 2ï¼šä½¿ç”¨ï¼Œtypeå°±æ˜¯å›¾æ ‡çš„å 1&lt;IconFont type=&quot;icon-ali-pay&quot; style=&#123;&#123; fontSize: &#x27;16px&#x27;, color: &#x27;lightblue&#x27; &#125;&#125; /&gt; 3ã€æ—¥å†ç»„ä»¶ æœ€çƒ¦çš„å°±æ˜¯è¿™ä¸ªèŠ±äº†æˆ‘å¤§é‡çš„æ—¶é—´ï¼Œæœ¬æ¥æƒ³ä½¿ç”¨antçš„ç°æˆç»„ä»¶ï¼Œå¯æ˜¯ä¸ä¼šå¤å†™æ ·å¼ï¼Œè€Œä¸”ä¹Ÿéº»çƒ¦ï¼Œå¿ƒä¸€æ¨ªæ‰‹å†™å§ã€‚ å› ä¸ºä¹‹å‰åœ¨å°ç¨‹åºä¸­å†™è¿‡ï¼Œè·å–åˆ°å½“æœˆçš„å¤©æ•°ï¼Œç„¶åé€šè¿‡ç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ ï¼Œæ¥åˆ¤æ–­ä¸Šæœˆæ˜¾ç¤ºå‡ å¤©ï¼Œä¸‹æœˆæ˜¾ç¤ºå‡ å¤©ã€‚æˆ‘è¿™é‡Œç¬¬ä¸€å¤©æ˜¯å…´è¶£ä¸€ï¼Œè¦æ˜¯ä¸Šä¸ªæœˆæœ€åä¸€å¤©æ˜¯æ˜ŸæœŸå¤©å°±ä¸ç”¨æ˜¾ç¤ºäº†ã€‚æ˜¯æ˜ŸæœŸä¸€çš„è¯å°±æ˜¾ç¤ºæœ€åä¸€å¤©ï¼Œæ˜ŸæœŸäºŒæœ€å2å¤©ä»¥æ­¤ç±»æ¨ã€‚ä¸‹ä¸ªæœˆå°±æ˜¯ä¸‹ä¸ªæœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸä¸€å°±ä¸ç”¨æ˜¾ç¤ºã€‚æ˜ŸæœŸå¤©å°±æ˜¾ç¤ºä¸‹ä¸ªæœˆç¬¬ä¸€å¤©ã€‚æ˜ŸæœŸäºŒå°±æ˜¾ç¤ºä¸‹ä¸ªæœˆä¸€äºŒä¸¤å¤©ï¼Œä¾æ¬¡ç±»æ¨ã€‚ ç„¶åä¸‰ä¸ªæ•°ç»„æ‹¼æˆä¸€ä¸ªæ•°ç»„ç”¨arr.concat()è¿æ¥æ•°ç»„ã€‚ åˆå› ä¸ºæ—¥æœŸè¦å¯ä»¥ç‚¹å‡»ï¼Œæ ·å¼äº§ç”Ÿå˜åŒ–ï¼Œè€Œä¸”å¯ä»¥è·å–åˆ°å½“å‰æ—¥æœŸï¼Œ æ—¥æœŸæ•°ç»„ä¸­ï¼Œæ¯ä¸€é¡¹çš„ç»“æ„å¦‚ä¸‹, flagæ˜¯åˆ¤æ–­å½“å‰å“ªä¸ªæ—¥æœŸè¢«é€‰ä¸­äº†ï¼Œåˆå§‹åŒ–å½“å¤©çš„flagä¸ºtrue isActivityæ˜¯åˆ¤æ–­å½“å‰æ—¥å‰æœ‰æ²¡æœ‰æ´»åŠ¨ 1234567[&#123;year:2021,monthï¼š6,day:30,flag:true,isActivity:true&#125;] ç„¶åå°±æ˜¯ç‚¹å‡»ä¸Šæœˆæ—¥æœŸå’Œä¸‹æœˆæ—¥æœŸåˆ‡æ¢æœˆä»½ã€‚ åˆ¤æ–­å½“å‰ç‚¹å‡»çš„æ—¥æœŸæœˆä»½ã€‚ selectæ¡†ä¹Ÿæ˜¯å’Œæ•°æ®ç»‘å®šï¼Œ éœ€è¦è€ƒè™‘çš„å°±æ˜¯setState()æ˜¯å¼‚æ­¥çš„ï¼Œéœ€è¦åœ¨setState()çš„å›è°ƒä¸­ï¼Œæˆ–è€…setTimeout()è°ƒç”¨ç›¸å…³çš„æ–¹æ³•,ä»¥åŠæ–¹æ³•çš„ä¼ å‚ç­‰ç­‰ã€‚ 4ã€ä¸»è¦çš„å°±æ˜¯è¿™äº›ï¼Œè¿˜æœ‰çš„å°±æ˜¯è·¯ç”±ä¼ å€¼ã€è·³è½¬ï¼Œå› ä¸ºomsæ²¡æœ‰è·¯ç”±é€šè¿‡tabsé¡µç­¾åˆ‡æ¢é¡µé¢çš„ï¼Œå§tabçš„ keyä¼ è¿‡å»ç­‰ çˆ¶ç»„ä»¶ä¸­è·³è½¬ä¼ å‚ 12345this.props.history.push(&#123; pathname:&quot;/index&quot;, name:&quot;xxx&quot;,//å‚æ•° age:&quot;18&quot;&#125;) å­ç»„ä»¶ä¸­ï¼š 12345678//çˆ¶ç»„ä»¶é€šè¿‡propsä¼ ç»™å­ç»„ä»¶&lt;Child history=&#123;this.props.history&#125;/&gt; this.props.history.push(&#123; pathname:&quot;/index&quot;, name:&quot;xxx&quot;,//å‚æ•° age:&quot;18&quot;&#125;) æ¥æ”¶åœ¨locationï¼š 12this.props.history.location.namethis.props.history.location.age è¿˜æœ‰å°±æ˜¯moment.jsè®¡ç®—ä¸¤å¤©æŸå¤©ç›¸å·®å¤šå°‘å¤©,å€’è®¡æ—¶ moment(endTime).diff(moment(startTime),&#39;day&#39;) å¤© moment(endTime).diff(moment(startTime),&#39;month&#39;)æœˆ moment(endTime).diff(moment(startTime),&#39;year&#39;) å¹´ è¿˜æœ‰å°±æ˜¯ä¸€äº›å¸ƒå±€æ–¹é¢æ³¨æ„çš„ä¸œè¥¿ã€‚","categories":[],"tags":[{"name":"react","slug":"react","permalink":"https://gitee.com/shimmer612/myBlog/tags/react/"}]},{"title":"èŠæ¬¡éƒçš„å¤å¤©è§‚åæ„Ÿ","slug":"2021-06-12-èŠæ¬¡éƒçš„å¤å¤©è§‚åæ„Ÿ","date":"2021-06-11T16:00:00.000Z","updated":"2021-06-12T09:56:33.113Z","comments":true,"path":"2021/06/12/2021-06-12-èŠæ¬¡éƒçš„å¤å¤©è§‚åæ„Ÿ/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/06/12/2021-06-12-%E8%8F%8A%E6%AC%A1%E9%83%8E%E7%9A%84%E5%A4%8F%E5%A4%A9%E8%A7%82%E5%90%8E%E6%84%9F/","excerpt":"","text":"ã€ŠèŠæ¬¡éƒçš„å¤å¤©ã€‹è§‚åæ„Ÿ1ã€ã€ŠèŠæ¬¡éƒçš„å¤å¤©ã€‹è¿™éƒ¨ç”µå½±è¯„åˆ†å¾ˆé«˜ ä¹…çŸ³è®©ç»™ç”µå½±é…ä¹ å°±ç®—ä½ ä¸çŸ¥é“è¿™éƒ¨ç”µå½± ä¹Ÿåº”è¯¥å¬è¿‡ è®©äººå¾ˆèˆ’æœçš„æ›²å­ å‰§ä¸­å¤§å”èŠæ¬¡éƒå¸®æ­£å¤ªæ‰¾å¦ˆå¦ˆ ç»“æœæ­£å¤ªçš„å¦ˆå¦ˆæœ‰äº†æ–°çš„å®¶åº­ â€åœ°æ–¹å¯¹äº†ï¼Œäººä¸å¯¹â€œ æ¬¢ç¬‘ä¸­è§æ¸©æƒ… å‰§ä¸­ä»–ä»¬é‡åˆ°çš„äººéƒ½å¾ˆæ¸©æŸ” å°æƒ…ä¾£ã€æ‘©æ‰˜äºŒäººç»„ã€åŸæ¸¸è¯—äºº å…¶å®è¿™ä¸ªç”µå½±å°±æ˜¯è¯´å¤§å”èŠæ¬¡éƒå°æ—¶å€™çš„æ•…äº‹ ç†Ÿæ‚‰çš„éŸ³ä¹å¼€å§‹ ç†Ÿæ‚‰çš„éŸ³ä¹ç»“æŸ åªæ˜¯ç‰‡å°¾çš„éŸ³ä¹å¤šäº†ä¸€ä¸è½»å¿«ä¸æ„‰æ‚¦ æ¸©é¦¨çš„éŸ³ä¹ï¼Œ åƒå¤å¤©å‚æ™šå¾®å‡‰çš„é£è¿é¢å¹æ¥ï¼Œçœ‹ç€å¤§æµ· è¿™æ ·çš„éŸ³ä¹ å´ä¸ç»æ„å°±è®©äººæ¹¿äº†çœ¼çœ¶ 2ã€å…¶å®å¾ˆæ€€å¿µå‰§ä¸­çš„å¤å¤© è°çš„ç«¥å¹´ä¸æ›¾æœ‰è¿‡é‚£æ ·çš„ä¸€ä¸ªç±»ä¼¼çš„æš‘å‡å‘¢ åªæ˜¯ç°åœ¨å°±ç®—å›åˆ°äº†ç«¥å¹´çš„åœºæ™¯ ä¹Ÿä¸æœ‰å½“æ—¶çš„äººäº† é‚£æ—¶çš„æ™¯é‚£æ—¶çš„äºº åœç•™åœ¨é‚£æ—¶ç©ºäº† 3ã€æœ€è¿‘å¾ˆé—² æœ‰ä¸ªåå¤©å·¦å³çš„æ—¶é—´ ä¸ç”¨ä¸Šç­ å¾ˆé—² ä¹åç‚¹å°±ç¡è§‰ï¼Œäº”å…­ç‚¹å°±èµ·åºŠ ç¡å¾—æ—©ã€èµ·çš„æ—© åƒä¸ªè€å¹´äºº æƒ³æƒ³äººç”Ÿçš„å‰å‡ ä¸ªé˜¶æ®µ æˆ‘å¥½åƒä¸æ˜¯ä¸€ä¸ªå–„äºç»´æŠ¤å…³ç³»çš„äºº æ¯ä¸€ä¸ªé˜¶æ®µçœ‹èµ·æ¥éƒ½å’Œèº«è¾¹çš„äººç©çš„å¾ˆå¥½ å½“é‚£ä¸ªé˜¶æ®µç»“æŸ å°±ä»æ¥ä¸è”ç³»äº† ä»¿ä½›è¿™ä¸ªäººæ²¡æœ‰åœ¨æˆ‘çš„ç”Ÿå‘½ä¸­å‡ºç°è¿‡ä¸€æ · æˆ‘æ€»ä»¥ä¸º è¯¥åœ¨çš„äººï¼Œæ€»ä¼šä¸€ç›´åœ¨é‚£çš„ æ— éœ€è”ç³» éœ€è¦è”ç³»æˆ‘ä¹Ÿä¸çŸ¥é“è”ç³»ä»€ä¹ˆ æˆ‘æœ¬æ˜¯ä¸€ä¸ªæ— è¶£çš„äºº ç”Ÿæ´»ä¸­è§ä¸èµ·ä»€ä¹ˆæ³¢æ¾œ ä¹Ÿæ²¡æœ‰ä»€ä¹ˆåˆ†äº«æ¬² æŒ‰ç†è¯´æˆ‘åº”è¯¥å¾ˆåˆé€‚ä¸€ä¸ªäººçš„ ä½†æ˜¯æˆ‘æœ‰å¸Œæœ›æ—¶ä¸æ—¶èƒ½æœ‰ä¸ªäººé™ªæˆ‘ä¸€èµ·å»å¹²ç‚¹ä»€ä¹ˆ å…¶å®æ¯ä¸ªäººèº«è¾¹éƒ½åº”è¯¥æœ‰ä¸€ä¸¤ä¸ªå¥½æœ‹å‹çš„ å¯æˆ‘æ²¡æœ‰ æŒ‰ç†è¯´æˆ‘å…¶å®ä¹Ÿä¸å·® åšäº‹æƒ…ä»æ¥ä¸ä¼šæƒ³å¤ªå¤š ç›´è¨€ç›´è¯­ å¯ä¸ºä»€ä¹ˆæœ‰äººèƒŒåè¯´æˆ‘æœ‰å¿ƒæœºå¤ªé‡ å¾ˆè«åå…¶å¦™","categories":[],"tags":[{"name":"è§‚åæ„Ÿ","slug":"è§‚åæ„Ÿ","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E8%A7%82%E5%90%8E%E6%84%9F/"}]},{"title":"æ‚è®°07(å†è§æˆ‘çš„å­¦ç”Ÿæ—¶ä»£)","slug":"2021-06-10-æ‚è®°07(å†è§æˆ‘çš„å­¦ç”Ÿæ—¶ä»£)","date":"2021-06-09T16:00:00.000Z","updated":"2021-06-10T04:13:52.028Z","comments":true,"path":"2021/06/10/2021-06-10-æ‚è®°07(å†è§æˆ‘çš„å­¦ç”Ÿæ—¶ä»£)/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/06/10/2021-06-10-%E6%9D%82%E8%AE%B007(%E5%86%8D%E8%A7%81%E6%88%91%E7%9A%84%E5%AD%A6%E7%94%9F%E6%97%B6%E4%BB%A3)/","excerpt":"","text":"å’Œå­¦ç”Ÿçš„èº«ä»½è¯´å†è§æ—¶é—´çœŸçš„è¿‡çš„å¾ˆå¿« æ›¾ç»é¥é¥æ— æœŸçš„æ¯•ä¸š ä¹Ÿæ¥åˆ°äº†çœ¼å‰ è¿™æ¬¡çš„æ¯•ä¸šä¹ŸçœŸæ­£çš„è¦ä¸å­¦ç”Ÿçš„èº«ä»½è¯´å†è§äº† ä»¥å‰æ€»æ˜¯æƒ³å°½å¿«çš„å‘Šåˆ«å­¦ç”Ÿçš„èº«ä»½ èµ°è¿›ç¤¾ä¼šå¹²ä¸€ç•ªå¤§äº‹ä¸š å½“è¿™ä¸ªæ—¶é—´ç‚¹çœŸå®çš„åˆ°è¾¾çœ¼å‰ å´æƒ³ç€æ—¶é—´ä½ èƒ½ä¸èƒ½å†æ…¢ä¸€ç‚¹ å°å­¦ã€åˆä¸­ã€é«˜ä¸­ä»¥å¾€çš„æ¯•ä¸šæ€»æ˜¯ç¦»åˆ«ä¸­å¸¦ç€ä¸€ä¸è½»æ¾æ„‰å¿«çš„ è€ƒå®Œè¯•ï¼Œå°±æ˜¯æ¼«é•¿çš„å‡æœŸï¼Œä¸ç´§ä¸æ…¢ æœ‰å¤§æŠŠçš„æ—¶é—´èƒ½è®©æˆ‘ä»¬å»è¿æ¥ä¸‹ä¸€é˜¶æ®µçš„ç”Ÿæ´» å¤§å­¦æ¯•ä¸šå´æ˜¯ç´§è¿«çš„ å®ä¹ çš„æˆ‘ï¼ŒåŠåªè„šå·²ç»è¸å…¥ç¤¾ä¼š è¯·å‡ç­”è¾©äº¤ææ–™ èšä¼šã€ç¦»åˆ« ç§Ÿæˆ¿ã€æ¬å®¶ åœ¨ä¸€å¤©å¤©çš„å¿™ç¢Œä¸­ æˆ‘ç¦»å¼€äº†æ ¡å›­ è‡ªç”±å´åˆæŸç¼š ä¸åƒæˆ‘æƒ³çš„é‚£æ ·ç¾å¥½ ç§Ÿæˆ¿ç¡®å®ç»™äº†è‡ªå·±ä¸€æ–¹å¤©åœ° æˆ‘å…»äº†çŒ« åå­—å« æ‹¾æœˆ æ˜¯ä¸ªæ©˜çŒ«å¦¹å¦¹ è¿™ä¸ªå°å®¶ä¼™ ç»™æˆ‘çš„ç”Ÿæ´»å¸¦æ¥äº†å¾ˆå¤šçš„æƒŠå–œ åŒæ—¶ä¹Ÿå¾ˆé—¹å¿ƒ å°±å’Œå…»ä¸€ä¸ªå­©å­ä¸€æ · æˆ‘ä¸æ˜¯ä¸€ä¸ªå¾ˆä¹è§‚çš„äºº ä½†æ€»æ˜¯ä¼šåœ¨æ‚²è§‚çš„æƒ…ç»ªä¸­ç»™è‡ªå·±ä¸€ç‚¹æš—ç¤º ä¼šå¥½èµ·æ¥çš„ æœ€å å†è§æˆ‘çš„å­¦ç”Ÿæ—¶ä»£ ï¼ˆç¡è§‰çš„æ‹¾æœˆï¼‰","categories":[],"tags":[{"name":"éšæ„Ÿ","slug":"éšæ„Ÿ","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E9%9A%8F%E6%84%9F/"}]},{"title":"æ‚è®°06ï¼ˆæ¯•ä¸šï¼‰","slug":"2021-05-31-æ‚è®°06ï¼ˆæ¯•ä¸šï¼‰","date":"2021-05-30T16:00:00.000Z","updated":"2021-05-31T05:42:20.000Z","comments":true,"path":"2021/05/31/2021-05-31-æ‚è®°06ï¼ˆæ¯•ä¸šï¼‰/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/05/31/2021-05-31-%E6%9D%82%E8%AE%B006%EF%BC%88%E6%AF%95%E4%B8%9A%EF%BC%89/","excerpt":"","text":"æ¯•ä¸šä»Šå¤©è®ºæ–‡ç»ˆäºæ”¹å¥½äº† é‡åˆ°äº†ä¸€ä¸ªç‰¹åˆ«å‚»é€¼çš„å¯¼å¸ˆ è‡ªå·±ä»€ä¹ˆéƒ½ä¸ä¼šï¼Œæ°´å¹³åƒåœ¾ å››åå¤šå²è¿˜åªæ˜¯ä¸€ä¸ªè®²å¸ˆ è¿™ä¹ˆå¤šå¹´å°±å‘è¡¨äº†ä¸€ç¯‡è®ºæ–‡ï¼Œä»–ä¼šå†™ä»€ä¹ˆè®ºæ–‡ï¼Ÿ ä¸€ç›´æŒ‘æ¯›ç—… è¯è¯´ä½ è¦æ˜¯å­¦æœ¯ä¸¥è°¨ï¼Œä»–å¦ˆçš„ä¹Ÿå°±ç®—äº† å…³é”®å°¼ç›çš„æˆ‘æ•´ä¸ªç³»ç»Ÿæ²¡ç”¨åˆ°J2EEï¼Œéå«æˆ‘åŠ ä¸ªJ2EE è€å­ç”¨çš„Vueã€Reactã€Nodeã€Expressã€MongoDB ä½ è‡ªå·±ä»€ä¹ˆéƒ½ä¸æ‡‚ï¼Œå°±åªçŸ¥é“è‡ªå·±çš„é‚£ä¸€å¥— çœŸçš„æ˜¯å¾ˆå¯æ‚² ç”šè‡³å¯æ€œäº† æŠ€æœ¯æŠ€æœ¯ä¸æ‡‚ã€æ•°æ®åº“æ•°æ®åº“ä¸æ‡‚ ä½ éº»ç—¹ä½ æ‰¹è®ºæ–‡ï¼Œä»€ä¹ˆåœ°æ–¹é”™äº†ï¼Œä½ ä¸è¯´ä»€ä¹ˆæ”¹ å°±ç”»ä¸ªçº¢åœˆ æ˜¯å°¼ç›ä»€ä¹ˆåŠæ„æ€å•Šï¼Ÿ é—®ä½ å“ªé‡Œé”™äº†æ€ä¹ˆä¿®æ”¹ï¼Œ å’Œä½ å¦ˆæ­»äººä¸€æ ·ï¼Œå«æˆ‘è‡ªå·±æƒ³ è¯´å‡ºæ¥æ€ä¹ˆä¿®æ”¹ï¼Œæ˜¯ä¸æ˜¯è¦å°¼ç›çš„å‘½å•Š è¿˜æ˜¯æŠ˜å°¼ç›çš„é˜³å¯¿ çœŸçš„å°¼ç›é€¼ç¦»è°±åˆ°å®¶ ç½‘ç»œä¸Šçš„å–·å­ å¤©å¤©æ¯•è®¾ç¾¤é‡Œ@ @ @ ä½ @å°¼ç›çš„è‡­Bå•Š çœŸçš„æ¯•ä¸šæœ¬æ¥å°±çƒ¦ è¿˜è¢«ä½ ä¸ªç•œç”Ÿå¤©å¤©æå¿ƒæ€ æœ¬æ¥éƒ½è¯´è€å­è®ºæ–‡å¥½äº† ç»“æœå› ä¸ºè´¨ç–‘äº†ä½ ï¼Œä¿®æ”¹çš„ä¸œè¥¿ ä¸€ä¸ªæ•°æ®åº“ï¼Œææˆ‘åå¤©ï¼Ÿ è‰ å¤©å¤©ä¸Šç­å°±ç»™ä½ ä¸ªé€¼å…»çš„æ”¹è®ºæ–‡ åæœŸçœ‹åˆ°ä½ @ å¬åˆ°ä½ åå­— å¬åˆ°è®ºæ–‡ä¸¤ä¸ªå­— å¿ƒæƒ…ç¬é—´å°±ä¸å¥½äº† è¦æ˜¯ä¸€ä¸ªäººæœ‰é—®é¢˜ é‚£æ˜¯å­¦ç”Ÿçš„èƒ½åŠ›é—®é¢˜ éƒ½æœ‰é—®é¢˜å°±æ˜¯ä½ å¦ˆçš„ä½ ä¸ªè‡­ç‹—çš„é—®é¢˜ â›ğŸˆ²ğŸ„ ä¸€æ¡è‡­ç‹— åŠå¤§çš„è‡­ç‹—","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"æŠŠå¤šå±‚åµŒå¥—çš„ä¸€å±‚æ•°æ®ç»“æ„è½¬æ¢æˆåŸæœ¬çš„å¤šå±‚","slug":"2021-04-20-æŠŠå¤šå±‚åµŒå¥—çš„ä¸€å±‚æ•°æ®ç»“æ„è½¬æ¢æˆåŸæœ¬çš„å¤šå±‚","date":"2021-04-19T16:00:00.000Z","updated":"2021-04-21T00:44:36.572Z","comments":true,"path":"2021/04/20/2021-04-20-æŠŠå¤šå±‚åµŒå¥—çš„ä¸€å±‚æ•°æ®ç»“æ„è½¬æ¢æˆåŸæœ¬çš„å¤šå±‚/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/20/2021-04-20-%E6%8A%8A%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%E7%9A%84%E4%B8%80%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%BD%AC%E6%8D%A2%E6%88%90%E5%8E%9F%E6%9C%AC%E7%9A%84%E5%A4%9A%E5%B1%82/","excerpt":"","text":"èƒŒæ™¯ä¸€ä¸ªå¤šå±‚åµŒå¥—è¯„è®ºå›å¤çš„åœºæ™¯ï¼Œä½†æ˜¯å­¤å„¿åç«¯ï¼ŒæŠŠæ‰€æœ‰çš„å›å¤æ•°æ®ï¼Œæ”¾åˆ°ä¸€ä¸ªæ•°ç»„é‡Œè¿”å›ç»™æˆ‘ï¼Œåªæœ‰ä¸€å±‚ï¼Œæˆ‘è¦ç»™æ•°æ®è½¬æ¢æˆåŸå…ˆçš„å¤šå±‚åµŒå¥—çš„æ¨¡å¼ã€‚ æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748//commitIdæ˜¯æœ€å¤–å±‚çš„è¯„è®ºID//idæ˜¯æ¯æ¡å›å¤è‡ªå·±çš„ID//replyIdæ˜¯å›å¤çˆ¶çº§çš„Id//ç°åœ¨è¦æŠŠæ¯ä¸ªå­çº§å›å¤æ”¾åˆ°çˆ¶çº§å›å¤çš„childé‡Œé¢let data = [ &#123; commentId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, id: &quot;da642ba6-52b2-4965-bf39-c21f8f2ceaf0&quot;, replyId: &quot;fb0a7604-68cb-45c7-b149-99dceb5a6004&quot;, replyMsg: &quot;1-1-1&quot;, child: [] &#125;, &#123; commentId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, id: &quot;e5def846-c747-496b-9ab8-270655bc269b&quot;, replyId: &quot;a583dd34-ff71-44dd-9eaa-5b753501b9a6&quot;, replyMsg: &quot;2-1&quot;, child: [] &#125;, &#123; commentId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, id: &quot;a583dd34-ff71-44dd-9eaa-5b753501b9a6&quot;, replyId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, replyMsg: &quot;2&quot;, child: [] &#125;, &#123; commentId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, id: &quot;9de4bb96-16e5-4570-b03f-60ac2beb8965&quot;, replyId: &quot;f7788b92-66cf-4463-ac44-5da0fcd95aa0&quot;, replyMsg: &quot;1-2&quot;, child: [] &#125;, &#123; commentId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, id: &quot;fb0a7604-68cb-45c7-b149-99dceb5a6004&quot;, replyId: &quot;f7788b92-66cf-4463-ac44-5da0fcd95aa0&quot;, replyMsg: &quot;1-1&quot;, child: [] &#125;, &#123; commentId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, id: &quot;f7788b92-66cf-4463-ac44-5da0fcd95aa0&quot;, replyId: &quot;5786ea2a-7921-4d2e-bb1e-fc8ddb69d2b4&quot;, replyMsg: &quot;1&quot;, child: [] &#125;] çœ‹åˆ°è¿™ä¸ªåœºæ™¯ï¼Œç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„å°±æ˜¯é€’å½’ã€‚ ä½†æ˜¯é€»è¾‘æƒ³äº†å¾ˆä¹…æ‰æƒ³å‡ºæ¥ã€‚ å…¶å®å¾ˆç®€å•ï¼Œæƒ³ä¸é€šï¼Œæƒ³æ­»äº†éƒ½æƒ³ä¸å‡ºæ¥ã€‚ æƒ³é€šäº†å°±å¾ˆç®€å•ã€‚ 12345678910111213function dg(id) &#123; let arr = [] for(let i = 0;i&lt;data.length;i++) &#123; if(data[i].replyId === id)&#123; arr.push(data[i]) data[i].child = dg(data[i].id) &#125; &#125; return arr&#125; å¦‚ä¸‹ tips:ä»Šå¤©æ˜¯å¥¹çš„ç”Ÿæ—¥ï¼Œæˆ‘ä»€ä¹ˆéƒ½æ²¡å¹²ï¼Œå¤ªæ£’äº†ï¼","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"}]},{"title":"é€’å½’å®ç°å¤šå±‚è¯„è®º","slug":"2021-04-19-é€’å½’å®ç°å¤šå±‚è¯„è®º","date":"2021-04-18T16:00:00.000Z","updated":"2021-04-19T09:12:22.880Z","comments":true,"path":"2021/04/19/2021-04-19-é€’å½’å®ç°å¤šå±‚è¯„è®º/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/19/2021-04-19-%E9%80%92%E5%BD%92%E5%AE%9E%E7%8E%B0%E5%A4%9A%E5%B1%82%E8%AF%84%E8%AE%BA/","excerpt":"","text":"å¤šå±‚è¯„è®ºé€’å½’åµŒå¥—é€’å½’å‡½æ•°ä¸¤éƒ¨æ›² 1ï¼šæ‰¾è§„å¾‹ 2ï¼šæ‰¾å‡ºå£ æ•°æ®æ ¼å¼ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687const obj = [ &#123; commentId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, commentIdList: null, commentReplyId: &quot;c800325e-e123-4ac3-81cf-a24c8ba54d5f&quot;, replyId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, replyImg: null, replyMsg: &quot;å“¦çœ‹çœ‹&quot;, replyTargetUserId: null, replyTargetUserName: null, replyTime: &quot;2021.04.15 17:02:26&quot;, replyUserAvatar: &quot;https://app-cdn.starcharge.com/32360E48-6011-47CA-99BE-171AD0B555AC-iOS.jpg&quot;, replyUserId: &quot;6266ff37-29fb-46fe-b8a3-76e1b5da75dc&quot;, replyUserName: &quot;03591çš„æ˜µç§°çœŸçš„å¾ˆé•¿å“¦çœ‹â¤ï¸è¿™é‡Œ&quot;, replyUserType: null, childCommentReplyBo: [ &#123; commentId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, commentIdList: null, commentReplyId: &quot;c800325e-e123-4ac3-81cf-a24c8ba54d5f&quot;, replyId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, replyImg: null, replyMsg: &quot;å“¦çœ‹çœ‹&quot;, replyTargetUserId: null, replyTargetUserName: null, replyTime: &quot;2021.04.15 17:02:26&quot;, replyUserAvatar: &quot;https://app-cdn.starcharge.com/32360E48-6011-47CA-99BE-171AD0B555AC-iOS.jpg&quot;, replyUserId: &quot;6266ff37-29fb-46fe-b8a3-76e1b5da75dc&quot;, replyUserName: &quot;03591çš„æ˜µç§°çœŸçš„å¾ˆé•¿å“¦çœ‹â¤ï¸è¿™é‡Œ&quot;, replyUserType: null, childCommentReplyBo: [ &#123; commentId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, commentIdList: null, commentReplyId: &quot;c800325e-e123-4ac3-81cf-a24c8ba54d5f&quot;, replyId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, replyImg: null, replyMsg: &quot;å“¦çœ‹çœ‹&quot;, replyTargetUserId: null, replyTargetUserName: null, replyTime: &quot;2021.04.15 17:02:26&quot;, replyUserAvatar: &quot;https://app-cdn.starcharge.com/32360E48-6011-47CA-99BE-171AD0B555AC-iOS.jpg&quot;, replyUserId: &quot;6266ff37-29fb-46fe-b8a3-76e1b5da75dc&quot;, replyUserName: &quot;03591çš„æ˜µç§°çœŸçš„å¾ˆé•¿å“¦çœ‹â¤ï¸è¿™é‡Œ&quot;, replyUserType: null, childCommentReplyBo: [] &#125;, &#123; commentId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, commentIdList: null, commentReplyId: &quot;c800325e-e123-4ac3-81cf-a24c8ba54d5f&quot;, replyId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, replyImg: null, replyMsg: &quot;å“¦çœ‹çœ‹&quot;, replyTargetUserId: null, replyTargetUserName: null, replyTime: &quot;2021.04.15 17:02:26&quot;, replyUserAvatar: &quot;https://app-cdn.starcharge.com/32360E48-6011-47CA-99BE-171AD0B555AC-iOS.jpg&quot;, replyUserId: &quot;6266ff37-29fb-46fe-b8a3-76e1b5da75dc&quot;, replyUserName: &quot;03591çš„æ˜µç§°çœŸçš„å¾ˆé•¿å“¦çœ‹â¤ï¸è¿™é‡Œ&quot;, replyUserType: null, childCommentReplyBo: [ &#123; commentId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, commentIdList: null, commentReplyId: &quot;c800325e-e123-4ac3-81cf-a24c8ba54d5f&quot;, replyId: &quot;6cfc5ff4-2af1-4621-bc52-b3d6ff22973c&quot;, replyImg: null, replyMsg: &quot;å“¦çœ‹çœ‹&quot;, replyTargetUserId: null, replyTargetUserName: null, replyTime: &quot;2021.04.15 17:02:26&quot;, replyUserAvatar: &quot;https://app-cdn.starcharge.com/32360E48-6011-47CA-99BE-171AD0B555AC-iOS.jpg&quot;, replyUserId: &quot;6266ff37-29fb-46fe-b8a3-76e1b5da75dc&quot;, replyUserName: &quot;03591çš„æ˜µç§°çœŸçš„å¾ˆé•¿å“¦çœ‹â¤ï¸è¿™é‡Œ&quot;, replyUserType: null, childCommentReplyBo: [] &#125;, ] &#125; ] &#125; ] &#125;] 1234567891011121314151617181920212223242526272829303132333435363738394041// è¯„è®ºé€’å½’ repleyRecursion = (k) =&gt; &#123; const &#123; replyArr &#125; = this.state if (k.length !== 0) &#123; k.map((item, index) =&gt; &#123; replyArr.push(&lt;div style=&#123;&#123; width: &quot;700px&quot;, display: &quot;flex&quot;, justifyContent: &quot;space-between&quot;, alignItems: &quot;center&quot;, marginBottom: &quot;10px&quot; &#125;&#125;&gt; &lt;span&gt;ç”¨æˆ·è´¦å·ï¼š&#123;item.replyUserName&#125;&lt;/span&gt; &lt;span&gt;å›å¤æ—¶é—´: &#123;item.replyTime&#125;&lt;/span&gt; &lt;span&gt;å›å¤å†…å®¹ï¼š&#123;item.replyMsg&#125;&lt;/span&gt; &lt;div&gt; &lt;Button type=&quot;primary&quot; onClick=&#123;() =&gt; &#123; this.setState(&#123; replyVisible: true, commentId: item.commentReplyId, userId: item.replyUserId &#125;) &#125;&#125;&gt;å›å¤&lt;/Button&gt; &lt;Popconfirm title=&quot;ç¡®è®¤åˆ é™¤è¯„è®ºå—ï¼Ÿ&quot; onConfirm=&#123;() =&gt; &#123; this.deleteReply(item.commentId) &#125;&#125; onCancel=&#123;&quot;&quot;&#125; okText=&quot;ç¡®å®š&quot; cancelText=&quot;å–æ¶ˆ&quot; &gt; &lt;Button type=&quot;primary&quot;&gt;åˆ é™¤&lt;/Button&gt; &lt;/Popconfirm&gt; &lt;/div&gt; &lt;/div&gt;) this.repleyRecursion(item.childCommentReplyBo) &#125;) &#125; else &#123; return replyArr.map((item, i) =&gt; &#123; return item &#125;) &#125; &#125;","categories":[],"tags":[{"name":"-javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"}]},{"title":"javascriptæ’åºç®—æ³•01","slug":"2021-04-15-javascriptæ’åºç®—æ³•01","date":"2021-04-14T16:00:00.000Z","updated":"2021-04-15T09:42:04.768Z","comments":true,"path":"2021/04/15/2021-04-15-javascriptæ’åºç®—æ³•01/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/15/2021-04-15-javascript%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%9501/","excerpt":"","text":"å†’æ³¡æ’åºä¸¤ä¸¤å¯¹æ¯”ï¼Œå¦‚æœné¡¹å¤§äºn+1é¡¹ï¼Œå°±äº¤æ¢ä½ç½®ã€‚ åŸºæœ¬çš„ forEachæ‰§è¡Œå°±æ˜¯æ‰€æœ‰å¾ªç¯ç»“æŸï¼Œä¸èƒ½breakã€‚mapåŒç† 12345678910111213141516171819const arr = [90, 33, 23, 43, 54, 123, 78, 56, 76, 112]// const arr = [1, 2, 3, 4, 5, 6, 7]let a = 0//åŸºæœ¬ arr.forEach(() =&gt; &#123; arr.forEach((k, i) =&gt; &#123; const count = arr[i + 1] if (arr[i] &gt; arr[i + 1]) &#123; arr[i + 1] = arr[i] arr[i] = count &#125; &#125;) &#125;)console.log(a);console.log(arr); //[ 23, 33, 43, 54, 56, 76, 78, 90, 112, 123 ] ä¼˜åŒ–ç‰ˆ 123456789101112131415161718192021// ä¼˜åŒ–const arr = [90, 33, 23, 43, 54, 123, 78, 56, 76, 112]for (var i = 0; i &lt; arr.length - 1; i++) &#123; var flag = false; for (var j = 0; j &lt; arr.length - i - 1; j++) &#123; a++ if (arr[j] &gt; arr[j + 1]) &#123; var temp = arr[j]; arr[j] = arr[j + 1]; arr[j + 1] = temp; flag = true; &#125; &#125; if (flag == false) &#123; break; &#125;&#125;console.log(arr); //[ 23, 33, 43, 54, 56, 76, 78, 90, 112, 123 ] é€‰æ‹©æ’åºæ¯æ¬¡æ’åºæŠŠæœ€å¤§çš„æˆ–è€…æœ€å°çš„æ”¾åˆ°å¼€å¤´æˆ–è€…æœ«å°¾ 1234567891011121314151617181920212223const arr = [90, 33, 23, 43, 54, 123, 78, 56, 76, 112]function selectSort(arr) &#123; let minIndex, temp for (let i = 0; i &lt; arr.length - 1; i++) &#123; // ä¿å­˜å½“å‰ä¸‹æ ‡ minIndex = i // æ‰¾åˆ°æœ€å°çš„æ•°çš„ä¸‹æ ‡ for (let j = i + 1; j &lt; arr.length; j++) &#123; if (arr[j] &lt; arr[minIndex]) &#123; minIndex = j &#125; &#125; // æ¯æ¬¡æ‰¾å‡ºçš„æœ€å°æ•°å’Œå½“å‰çš„æ•°äº¤æ¢ä½ç½® temp = arr[i]; arr[i] = arr[minIndex]; arr[minIndex] = temp; &#125; return arr&#125;selectSort(arr)console.log(arr);//[ 23, 33, 43, 54, 56, 76, 78, 90, 112, 123 ] æ’å…¥æ’åºä»ç¬¬äºŒä¸ªæ•°å¼€å§‹ï¼Œå¦‚æœå½“å‰æ•°å¤§äºæˆ–è€…å°äºå‰ä¸€ä¸ªæ•°ï¼Œå°±äº¤æ¢ä½ç½® 123456789101112131415161718192021222324252627282930313233343536const arr = [90, 33, 23, 43, 54, 123, 78, 56, 76, 112]function insertSort(arr) &#123; var len = arr.length; for (var i = 1; i &lt; len; i++) &#123; //keyä¸ºå½“å‰æ•° var key = arr[i]; // jä¸ºå‰ä¸€ä¸ªæ•°çš„ä¸‹æ ‡ var j = i - 1; //å¦‚æœå‰ä¸€ä¸ªæ•°å¤§äºå½“å‰æ•° while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) &#123; //å½“å‰æ•°ç­‰äºå‰ä¸€ä¸ªæ•° arr[j + 1] = arr[j]; //jå‡ä¸€ j--; &#125; //æ»¡è¶³æ¡ä»¶çš„æœ€å‰é¢çš„æ•°ç­‰äºå½“å‰æ•° arr[j + 1] = key; &#125; return arr;&#125;insertSort(arr)console.log(arr); //[ 23, 33, 43, 54, 56, 76, 78, 90, 112, 123 ]","categories":[],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ’åº","slug":"æ’åº","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E6%8E%92%E5%BA%8F/"}]},{"title":"èŠå¤©æ¡†è‡ªåŠ¨å®šä½åˆ°æœ€åº•éƒ¨","slug":"2021-04-12-èŠå¤©æ¡†è‡ªåŠ¨å®šä½åˆ°æœ€åº•éƒ¨","date":"2021-04-11T16:00:00.000Z","updated":"2021-04-12T08:52:27.818Z","comments":true,"path":"2021/04/12/2021-04-12-èŠå¤©æ¡†è‡ªåŠ¨å®šä½åˆ°æœ€åº•éƒ¨/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/12/2021-04-12-%E8%81%8A%E5%A4%A9%E6%A1%86%E8%87%AA%E5%8A%A8%E5%AE%9A%E4%BD%8D%E5%88%B0%E6%9C%80%E5%BA%95%E9%83%A8/","excerpt":"","text":"ä»‹ç»æœ€è¿‘é€šè¿‡webSocketå®ç°äº†å®¢æœèŠå¤©çš„åŠŸèƒ½ï¼Œä½†æ˜¯å½“æ¶ˆæ¯è¶…å‡ºèŠå¤©æ¡†çš„æ—¶å€™ï¼Œæ¶ˆæ¯æ¡†å¹¶ä¸ä¼šè‡ªåŠ¨æ»šåˆ°åˆ°æœ€æ–°æ¶ˆæ¯çš„åœ°æ–¹ã€‚è¦æ‰‹åŠ¨æ»šåŠ¨ï¼Œå¾ˆè ¢ã€‚ è€Œä¸”ä¸€å¼€å§‹çš„æ»šåŠ¨æ¡å¾ˆä¸‘ï¼Œé¡ºä¾¿ç¾åŒ–äº†ä¸€ä¸‹æ»šåŠ¨æ¡ã€‚ vueä¸­å†™åœ¨updatedçš„ç”Ÿå‘½å‘¨æœŸé‡Œ/reactå†™åœ¨componentDidUpdateç”Ÿå‘½å‘¨æœŸé‡Œ 1234567updated () &#123; // èŠå¤©å®šä½åˆ°åº•éƒ¨ this.$nextTick(() =&gt; &#123; const msg = document.getElementsByClassName(&#x27;chat-info&#x27;) // è·å–å¯¹è±¡ msg[0].scrollTop = msg[0].scrollHeight // æ»šåŠ¨é«˜åº¦ &#125;) &#125;, css 1234567891011::-webkit-scrollbar &#123; // display: none; width: 5px; height: 100%; background: rgb(239, 239, 239); border-radius: 2px;&#125;::-webkit-scrollbar-thumb &#123; background: #bfbfbf; border-radius: 10px;&#125;","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"},{"name":"css","slug":"css","permalink":"https://gitee.com/shimmer612/myBlog/tags/css/"}]},{"title":"express-wså®ç°webSocketé€šä¿¡","slug":"2021-04-10-express-wså®ç°webSocketé€šä¿¡","date":"2021-04-09T16:00:00.000Z","updated":"2021-04-12T00:42:03.873Z","comments":true,"path":"2021/04/10/2021-04-10-express-wså®ç°webSocketé€šä¿¡/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/10/2021-04-10-express-ws%E5%AE%9E%E7%8E%B0webSocket%E9%80%9A%E4%BF%A1/","excerpt":"","text":"å‰è¨€æœ€è¿‘è¦ç»™è‡ªå·±å†™çš„é¡¹ç›®ä¸­åŠ ä¸€ä¸ªå®¢æœèŠå¤©çš„åŠŸèƒ½ã€‚å°±æ˜¯å‰ç«¯å•†åŸå’Œåå°ç®¡ç†ç³»ç»Ÿé€šä¿¡ã€‚ä½†æ˜¯æ˜¯ä¸¤ä¸ªä¸åŒçš„ç«¯å£ã€‚ ç™¾åº¦äº†ä¸€ä¸‹å°±æ‰¾åˆ°äº†webSocketã€‚ ä»€ä¹ˆæ˜¯webSocketï¼ŸWebSocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚ WebSocket ä½¿å¾—å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®äº¤æ¢å˜å¾—æ›´åŠ ç®€å•ï¼Œå…è®¸æœåŠ¡ç«¯ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®ã€‚åœ¨ WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦å®Œæˆä¸€æ¬¡æ¡æ‰‹ï¼Œä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥åˆ›å»ºæŒä¹…æ€§çš„è¿æ¥ï¼Œå¹¶è¿›è¡ŒåŒå‘æ•°æ®ä¼ è¾“ã€‚ åœ¨ WebSocket API ä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨åªéœ€è¦åšä¸€ä¸ªæ¡æ‰‹çš„åŠ¨ä½œï¼Œç„¶åï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å°±å½¢æˆäº†ä¸€æ¡å¿«é€Ÿé€šé“ã€‚ä¸¤è€…ä¹‹é—´å°±ç›´æ¥å¯ä»¥æ•°æ®äº’ç›¸ä¼ é€ã€‚(æ¥è‡ªèœé¸Ÿæ•™ç¨‹ï¼šhttps://www.runoob.com/html/html5-websocket.html) express-wså®ç°1ã€é¦–å…ˆåœ¨expressé¡¹ç›®ä¸­å®‰è£…express-ws npm i express-ws --save 2ã€ç„¶åå¼•å…¥ 123456const express = require(&#x27;express&#x27;)const app = express()// å¼•å…¥WebSocketconst ws = require(&quot;express-ws&quot;)// å°†webSocketæœåŠ¡æ··å…¥appï¼Œç›¸å½“äºä¸ºappæ·»åŠ .wsæ–¹æ³•ws(app) 3ã€å¯åŠ¨æœåŠ¡ 12345678910111213141516171819202122232425//ä¸ºäº†è·å–åˆ°æ‰€ä»¥çš„å®¢æˆ·ç«¯const wss = ws(app).getWss(&#x27;/&#x27;)// å»ºç«‹webSocketæœåŠ¡app.ws(&#x27;/&#x27;, (ws, req) =&gt; &#123; console.log(&quot;è¿æ¥æˆåŠŸï¼&quot;); // sendç»™å®¢æˆ·ç«¯å‘æ¶ˆæ¯ // onæ˜¯ç›‘å¬äº‹ä»¶ // messageè¡¨ç¤ºæœåŠ¡ç«¯ä¼ æ¥çš„æ•°æ® ws.on(&quot;message&quot;, (msg) =&gt; &#123; // ç»™æ‰€æœ‰çš„å®¢æˆ·ç«¯å¹¿æ’­æ¶ˆæ¯ wss.clients.forEach((e) =&gt; &#123; e.send(msg) &#125;) &#125;) // close äº‹ä»¶è¡¨ç¤ºå®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•° ws.on(&#x27;close&#x27;, function (e) &#123; console.log(&#x27;close connection&#x27;) &#125;) &#125;)app.listen(3002, () =&gt; &#123; console.log(&#x27;success in port 3002ï¼ŒæœåŠ¡å·²ç»è·‘èµ·æ¥å•¦&#x27;);&#125;) æ­¤æ—¶æœåŠ¡å·²ç»åœ¨3002ç«¯å£è·‘èµ·æ¥äº† å‰ç«¯æ¥æ”¶æ¶ˆæ¯1ã€vueä¸­ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475&lt;script&gt; //è¿æ¥webSocketconst ws = new WebSocket(&#x27;ws://localhost:3002&#x27;)export default &#123; data () &#123; return &#123; msg: &#x27;&#x27;, msgList: [] &#125; &#125;, mounted () &#123; // ç»‘å®šwebSocketäº‹ä»¶ //è¿æ¥æˆåŠŸçš„å›è°ƒ ws.addEventListener(&#x27;open&#x27;, this.handleWsOpen.bind(this), false) //å…³é—­çš„å›è°ƒ ws.addEventListener(&#x27;close&#x27;, this.handleWsClose.bind(this), false) //è¿æ¥é”™è¯¯çš„å›è°ƒ ws.addEventListener(&#x27;error&#x27;, this.handleWsError.bind(this), false) //æ¥æ”¶å‘é€æ¶ˆæ¯çš„å›è°ƒ ws.addEventListener(&#x27;message&#x27;, this.handleWsMessage.bind(this), false) &#125;, methods: &#123; sendMessage () &#123; const currentY = new Date().getFullYear() let currentM = new Date().getMonth() + 1 let currentD = new Date().getDate() let currentH = new Date().getHours() let currentMin = new Date().getMinutes() let currentS = new Date().getSeconds() if (currentM &lt; 10) &#123; currentM = `0$&#123;currentM&#125;` &#125; if (currentD &lt; 10) &#123; currentD = `0$&#123;currentD&#125;` &#125; if (currentH &lt; 10) &#123; currentH = `0$&#123;currentH&#125;` &#125; if (currentMin &lt; 10) &#123; currentMin = `0$&#123;currentMin&#125;` &#125; if (currentS &lt; 10) &#123; currentS = `0$&#123;currentS&#125;` &#125; const date = `$&#123;currentY&#125;-$&#123;currentM&#125;-$&#123;currentD&#125; $&#123;currentH&#125;:$&#123;currentMin&#125;:$&#123;currentS&#125;` const name = window.sessionStorage.getItem(&#x27;nickname&#x27;) const msg = JSON.stringify(&#123; msg: this.msg, name: name, date: date, left: true &#125;) ws.send(msg) // å‘é€å®Œæ¸…ç©ºèŠå¤©æ¡† this.msg = &#x27;&#x27; &#125;, handleWsOpen () &#123; console.log(&#x27;èŠå¤©å·²ç»å¯åŠ¨ï¼&#x27;) &#125;, handleWsClose () &#123; console.log(&#x27;èŠå¤©å·²ç»å…³é—­ï¼&#x27;) &#125;, handleWsError () &#123; console.log(&#x27;èŠå¤©å‡ºé”™ï¼&#x27;) &#125;, // æ”¶å‘æ¶ˆæ¯ handleWsMessage (e) &#123; console.log(e) const msg = JSON.parse(e.data) this.msgList.push(msg) &#125; &#125;&#125;&lt;/script&gt; 2ã€reactä¸­ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125const ws = new WebSocket(&#x27;ws://localhost:3002&#x27;)class Chat extends Component &#123; constructor(props) &#123; super(props) this.state = &#123; msg: &quot;&quot;, msgList:[] &#125; &#125; componentDidMount () &#123; ws.addEventListener(&#x27;open&#x27;, this.handleWsOpen.bind(this), false) ws.addEventListener(&#x27;close&#x27;, this.handleWsClose.bind(this), false) ws.addEventListener(&#x27;error&#x27;, this.handleWsError.bind(this), false) ws.addEventListener(&#x27;message&#x27;, this.handleWsMessage.bind(this), false) &#125; sendMessage = ()=&gt; &#123; const currentY = new Date().getFullYear() let currentM = new Date().getMonth() + 1 let currentD = new Date().getDate() let currentH = new Date().getHours() let currentMin = new Date().getMinutes() let currentS = new Date().getSeconds() if (currentM &lt; 10) &#123; currentM = `0$&#123;currentM&#125;` &#125; if (currentD &lt; 10) &#123; currentD = `0$&#123;currentD&#125;` &#125; if (currentH &lt; 10) &#123; currentH = `0$&#123;currentH&#125;` &#125; if (currentMin &lt; 10) &#123; currentMin = `0$&#123;currentMin&#125;` &#125; if (currentS &lt; 10) &#123; currentS = `0$&#123;currentS&#125;` &#125; const date = `$&#123;currentY&#125;-$&#123;currentM&#125;-$&#123;currentD&#125; $&#123;currentH&#125;:$&#123;currentMin&#125;:$&#123;currentS&#125;` const name = &quot;å®¢æœ&quot; const msg = JSON.stringify(&#123; msg: this.state.msg, name: name, date: date, left: false &#125;) ws.send(msg) // å‘é€å®Œæ¸…ç©ºèŠå¤©æ¡† this.setState(&#123; msg:&quot;&quot; &#125;) &#125; handleWsOpen () &#123; message.success(&quot;è¿æ¥æˆåŠŸ&quot;) &#125; handleWsClose () &#123; message.info(&quot;èŠå¤©ç»“æŸ&quot;) &#125; handleWsError () &#123; message.error(&quot;è¿æ¥å¤±è´¥&quot;) &#125; // æ”¶å‘æ¶ˆæ¯ handleWsMessage (e) &#123; const msg = JSON.parse(e.data) let arr = this.state.msgList arr.push(msg) this.setState(&#123; msgList:arr &#125;) &#125; render () &#123; const msgList = this.state.msgList return ( &lt;Content className=&quot;site-layout-background&quot; &gt; &lt;div className=&quot;chatBox&quot;&gt; &lt;div className=&quot;chat&quot;&gt; &#123;/* å±•ç¤ºæ¶ˆæ¯ */&#125; &lt;div className=&quot;chat-info&quot;&gt; &#123;msgList.map((item, k) =&gt; &#123; return &lt;div className=&quot;info-detail&quot;&gt; &lt;div className=&#123;item.left?&#x27;head-a&#x27;:&#x27;head&#x27;&#125;&gt; &lt;span className=&#123;item.left?&#x27;name-a&#x27;:&#x27;name&#x27;&#125;&gt;&#123;item.name&#125;&lt;/span&gt; &lt;span&gt;&#123;item.date&#125;&lt;/span&gt; &lt;/div&gt; &lt;div className=&#123;item.left?&#x27;info-main-a&#x27;:&#x27;info-main&#x27;&#125;&gt; &lt;span&gt;&#123;item.msg&#125;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &#125;) &#125; &lt;/div&gt; &#123;/* å‘é€æ¶ˆæ¯ */&#125; &lt;div className=&quot;send-msg&quot;&gt; &lt;Input value=&#123;this.state.msg&#125; onChange=&#123;(e) =&gt; &#123; this.setState(&#123; msg:e.target.value &#125;) &#125;&#125; placeholder=&quot;è¯·è¾“å…¥...&quot; style=&#123;&#123; width: &quot;350px&quot;, marginRight: &quot;10px&quot; &#125;&#125; onPressEnter=&#123;() =&gt; &#123; this.sendMessage() &#125;&#125; &gt; &lt;/Input&gt; &lt;Button type=&quot;primary&quot; onClick=&#123;() =&gt; &#123; this.sendMessage() &#125;&#125;&gt; å‘é€ &lt;/Button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/Content &gt; ) &#125;&#125; æ•ˆæœå¦‚ä¸‹ï¼š vueå…¨éƒ¨ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151&lt;template&gt; &lt;div class=&quot;chat&quot;&gt; &lt;div class=&quot;chat-box&quot;&gt; &lt;div class=&quot;chat-info&quot;&gt; &lt;div class=&quot;info-detail&quot; v-for=&quot;(item,k) in msgList&quot; :key=&quot;k&quot;&gt; &lt;div :class=&quot;item.left?&#x27;head&#x27;:&#x27;head-a&#x27;&quot;&gt; &lt;span class=&quot;name&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;/span&gt; &lt;span&gt;&#123;&#123;item.date&#125;&#125;&lt;/span&gt; &lt;/div&gt; &lt;div :class=&quot;item.left?&#x27;info-main&#x27;:&#x27;info-main-a&#x27;&quot;&gt; &lt;span&gt;&#123;&#123;item.msg&#125;&#125;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;chat-message&quot;&gt; &lt;el-input v-model=&quot;msg&quot; placeholder=&quot;è¯·è¾“å…¥å†…å®¹&quot; @keyup.enter.native=&quot;sendMessage&quot; &gt; &lt;el-button slot=&quot;append&quot; type=&quot;primary&quot; @click=&quot;sendMessage&quot; &gt;å‘é€&lt;/el-button&gt; &lt;/el-input&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;const ws = new WebSocket(&#x27;ws://localhost:3002&#x27;)export default &#123; data () &#123; return &#123; msg: &#x27;&#x27;, msgList: [] &#125; &#125;, mounted () &#123; // ç»‘å®šwebSocketäº‹ä»¶ ws.addEventListener(&#x27;open&#x27;, this.handleWsOpen.bind(this), false) ws.addEventListener(&#x27;close&#x27;, this.handleWsClose.bind(this), false) ws.addEventListener(&#x27;error&#x27;, this.handleWsError.bind(this), false) ws.addEventListener(&#x27;message&#x27;, this.handleWsMessage.bind(this), false) &#125;, methods: &#123; sendMessage () &#123; const currentY = new Date().getFullYear() let currentM = new Date().getMonth() + 1 let currentD = new Date().getDate() let currentH = new Date().getHours() let currentMin = new Date().getMinutes() let currentS = new Date().getSeconds() if (currentM &lt; 10) &#123; currentM = `0$&#123;currentM&#125;` &#125; if (currentD &lt; 10) &#123; currentD = `0$&#123;currentD&#125;` &#125; if (currentH &lt; 10) &#123; currentH = `0$&#123;currentH&#125;` &#125; if (currentMin &lt; 10) &#123; currentMin = `0$&#123;currentMin&#125;` &#125; if (currentS &lt; 10) &#123; currentS = `0$&#123;currentS&#125;` &#125; const date = `$&#123;currentY&#125;-$&#123;currentM&#125;-$&#123;currentD&#125; $&#123;currentH&#125;:$&#123;currentMin&#125;:$&#123;currentS&#125;` const name = window.sessionStorage.getItem(&#x27;nickname&#x27;) const msg = JSON.stringify(&#123; msg: this.msg, name: name, date: date, left: true &#125;) ws.send(msg) // å‘é€å®Œæ¸…ç©ºèŠå¤©æ¡† this.msg = &#x27;&#x27; &#125;, handleWsOpen () &#123; console.log(&#x27;èŠå¤©å·²ç»å¯åŠ¨ï¼&#x27;) &#125;, handleWsClose () &#123; console.log(&#x27;èŠå¤©å·²ç»å…³é—­ï¼&#x27;) &#125;, handleWsError () &#123; console.log(&#x27;èŠå¤©å‡ºé”™ï¼&#x27;) &#125;, // æ”¶å‘æ¶ˆæ¯ handleWsMessage (e) &#123; console.log(e) const msg = JSON.parse(e.data) this.msgList.push(msg) &#125; &#125;&#125;&lt;/script&gt;&lt;style lang=&quot;less&quot; scoped&gt;.chat &#123;padding: 100px 300px 0 300px;display: flex;justify-content: center;.chat-box&#123;margin-top: 20px;padding: 10px 10px 10px 10px;width: 400px;height: 600px;background-color: #fff;border-radius: 10px 10px 0 0 ;.chat-info&#123; height: 550px; overflow: auto; .info-detail&#123; margin-bottom: 5px; .head&#123; width: 100%; margin-bottom: 5px; display:flex; flex-direction: row-reverse; .name&#123; margin-left: 5px; color: rgb(240, 74, 74); &#125; &#125; .head-a&#123; width: 100%; margin-bottom: 5px; .name&#123; margin-right: 5px; color: rgb(22, 189, 240); &#125; &#125; .info-main-a&#123; font-size: 18px; font-family: æ¥·ä½“; &#125; .info-main&#123; font-size: 18px; font-family: æ¥·ä½“; display:flex; flex-direction: row-reverse; &#125; &#125;&#125;.chat-message&#123; height: 50px;&#125;&#125;&#125;&lt;/style&gt;","categories":[],"tags":[{"name":"express","slug":"express","permalink":"https://gitee.com/shimmer612/myBlog/tags/express/"},{"name":"webSocket","slug":"webSocket","permalink":"https://gitee.com/shimmer612/myBlog/tags/webSocket/"}]},{"title":"æœ€è¿‘é‡åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹","slug":"2021-04-07-æœ€è¿‘é‡åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹","date":"2021-04-06T16:00:00.000Z","updated":"2021-04-07T06:18:26.948Z","comments":true,"path":"2021/04/07/2021-04-07-æœ€è¿‘é‡åˆ°çš„ä¸€äº›çŸ¥è¯†ç‚¹/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/07/2021-04-07-%E6%9C%80%E8%BF%91%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"","text":"åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦ä¸ºç©º12345const arr = []if(arr.length===0) &#123; console.log(&quot;æ”¹æ•°ç»„æ˜¯ç©ºæ•°ç»„&quot;)&#125; åˆ¤æ–­ä¸€ä¸ªæ•°ç»„é‡Œæ˜¯å¦æœ‰é‡å¤å€¼1234567891011121314//å¾ªç¯æ·»åŠ åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œï¼Œåˆ¤æ–­å¯¹è±¡é‡Œæ˜¯å¦æœ‰è¿™ä¸ªå€¼var arr = [&quot;1111&quot;, &quot;222&quot;, &quot;333&quot;, &quot;111&quot;, &quot;222&quot;]function isRepeat(arr) &#123; var hash = &#123;&#125;; for (var i in arr) &#123; if (hash[arr[i]]) &#123; console.log(arr[i] + &quot;é‡å¤äº†&quot;) &#125; hash[arr[i]] = &quot;have&quot;; &#125; console.log(hash); return false;&#125;isRepeat(arr) ä¸¤ä¸ªå¯¹åº”çš„æ•°ç»„ï¼Œåˆ é™¤å¯¹åº”å€¼æ¯”å¦‚ä¸€ä¸ªæ•°ç»„æ˜¯[1,0,0,1,0,1,0,1,0,0]å¦å¤–ä¸€ä¸ªæ•°ç»„æ˜¯[a,b,c,d,e,f,g,h,i,j],è¦åˆ é™¤åä¸€ä¸ªæ•°ç»„ä¸­å¯¹åº”å‰ä¸€ä¸ªæ•°ç»„ä¸º1çš„å…ƒç´ ã€‚ æˆ‘ä¸€å¼€å§‹æƒ³çš„æ˜¯ç”¨æ‰¾å‡ºç¬¬ä¸€ä¸ªæ•°ç»„ä¸­å…ƒç´ 1ç›¸å¯¹äºçš„indexç„¶åç”¨spliceåˆ é™¤åä¸€ä¸ªæ•°ç»„ä¸­å¯¹åº”çš„é¡¹ã€‚ ä½†æ˜¯åˆ é™¤ä¸€æ¬¡åï¼Œæ•°ç»„çš„é•¿åº¦å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œå› ä¸ºspliceæ–¹æ³•ä¼šæ”¹å˜åŸæ•°ç»„ç¬¬äºŒä¸ªspliceåˆ é™¤çš„å°±ä¸æ˜¯æ­£ç¡®çš„äº†ã€‚æ­£ç¡®åšæ³•åº”è¯¥æ˜¯åˆ é™¤çš„æ—¶å€™ï¼Œå¾€åˆ é™¤çš„åœ°æ–¹æ·»åŠ ä¸€ä¸ªç©ºå€¼ï¼Œåˆ é™¤å®Œåï¼Œåˆ é™¤è¿™ä¸ªç©ºå€¼ã€‚ 1234567891011121314151617const a = [1,0,0,1,0,1,0,1,0,0]const b = [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;,&#x27;f&#x27;,&#x27;g&#x27;,&#x27;h&#x27;,&#x27;i&#x27;,&#x27;j&#x27;]a.map((k,i)=&gt;&#123; if(k===1) &#123; b.splice(i,1,&quot; &quot;) &#125;&#125;)let c = []b.map((k,i)=&gt;&#123; if(k !== &quot; &quot;)&#123; c.push(k) &#125;&#125;)console.log(c) //[ &#x27;b&#x27;, &#x27;c&#x27;, &#x27;e&#x27;, &#x27;g&#x27;, &#x27;i&#x27;, &#x27;j&#x27; ]//cæ•°ç»„å°±æ˜¯æœ€åçš„æ•°ç»„","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"}]},{"title":"reactç±»ç»„ä»¶çš„æ•°æ®é¡ºåº","slug":"2021-04-02-reactç±»ç»„ä»¶çš„æ•°æ®é¡ºåº","date":"2021-04-01T16:00:00.000Z","updated":"2021-04-02T04:00:31.357Z","comments":true,"path":"2021/04/02/2021-04-02-reactç±»ç»„ä»¶çš„æ•°æ®é¡ºåº/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/04/02/2021-04-02-react%E7%B1%BB%E7%BB%84%E4%BB%B6%E7%9A%84%E6%95%B0%E6%8D%AE%E9%A1%BA%E5%BA%8F/","excerpt":"","text":"æ˜¨æ—¥æ˜¨å¤©å†™ä»£ç çš„æ—¶å€™ï¼Œçˆ¶ç»„ä»¶é€šè¿‡propsä¼ å€¼ç»™å­ç»„ä»¶ã€‚æˆ‘åœ¨å­ç»„ä»¶ä¸­åœ¨ComponentDidMountä¸­ç”¨setStateèµ‹å€¼renderä¸­æ‹¿ä¸åˆ°ã€‚ ä»£ç å¦‚ä¸‹ 123456789101112131415161718192021class useDetail extends Component &#123; constructor(props) &#123; super(props) this.props = props this.state = &#123; useInfo: null &#125; &#125; componentDidMount () &#123; this.setState(&#123; useInfo:this.props.UseInfo &#125;) &#125; render() &#123; //æ‹¿ä¸åˆ°å€¼ const useInfo = this.state.useInfo const strategy = useInfo &amp;&amp; useInfo.strategy ? JSON.parse(useInfo.strategy.discountStrategy) : [] &#125; è¿™æ ·å°±èƒ½è·å–åˆ°å€¼ï¼Œrenderåœ¨componentDidMountä¹‹å‰,æ‰€ä»¥å€¼ä¸ºundefined,ä¼ å…¥çš„å€¼å¯ä»¥ç›´æ¥æ”¾åœ¨stateä¸­èµ‹å€¼ã€‚ 123456789101112class useDetail extends Component &#123; constructor(props) &#123; super(props) this.props = props this.state = &#123; useInfo: this.props.UseInfo &#125; &#125; render() &#123; const useInfo = this.state.useInfo const strategy = useInfo &amp;&amp; useInfo.strategy ? JSON.parse(useInfo.strategy.discountStrategy) : []&#125; over~","categories":[],"tags":[{"name":"react","slug":"react","permalink":"https://gitee.com/shimmer612/myBlog/tags/react/"}]},{"title":"react hooksç†è§£","slug":"2021-03-25-react-hooksç†è§£","date":"2021-03-24T16:00:00.000Z","updated":"2021-03-25T05:50:55.167Z","comments":true,"path":"2021/03/25/2021-03-25-react-hooksç†è§£/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/25/2021-03-25-react-hooks%E7%90%86%E8%A7%A3/","excerpt":"","text":"åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­å‘ç°äº†è¿™æ ·çš„ä¸€ä¸ªé—®é¢˜ï¼Œä»£ç å¦‚ä¸‹ã€‚æŒ‰ç†è¯´1å¤„æ‰“å°å‡ºæ¥çš„isShowåº”è¯¥ä¸ºtrueå¯æ˜¯å´æ˜¯false 2å¤„æ‰“å°å‡ºæ¥çš„æ˜¯true 12345678910111213const demo = ()=&gt; &#123; const [isShow, setIsShow] = useState(false) //2console.log(isShow) return ( &lt;button onClick=&#123;()=&gt;&#123; setIsShow(true) //1 console.log(isShow) &#125;&#125;&gt;æ–°å¢&lt;/button&gt; )&#125; å»ç™¾åº¦äº†ä¸€äº›èµ„æ–™ã€‚ åŸæ¥å‡½æ•°å¼ç»„ä»¶æ¯æ¬¡æ›´æ–°çš„æ—¶å€™éƒ½ä¼šé‡æ–°æ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼Œæ­¤æ—¶ 1å¤„æ‰“å°çš„isShowå…¶å®æ˜¯åˆå§‹çš„çŠ¶æ€çš„æ—§å€¼ã€‚å½¢æˆäº†é—­åŒ…ã€‚ 2å¤„å¤–å±‚èƒ½æ‰“å°å‡ºæ¥ï¼Œæ˜¯å› ä¸ºå‡½æ•°æ¯æ¬¡æ›´æ–°éƒ½è¦æ‰§è¡Œã€‚ åªæœ‰ç”¨useEffectæ‰èƒ½è·å–åˆ°,ç»‘å®šisShowä¸ºä¾èµ–ã€‚å¯ä»¥è¿™æ ·å†™: 123456789101112131415161718const demo = ()=&gt; &#123; const [isShow, setIsShow] = useState(false)useEffect(()=&gt;&#123; console.log(isShow)&#125;,[isShow]) //2console.log(isShow) return ( &lt;button onClick=&#123;()=&gt;&#123; setIsShow(true) //1 console.log(isShow) &#125;&#125;&gt;æ–°å¢&lt;/button&gt; )&#125; hooksæ˜¯æœ‰åºçš„ï¼Œä¼šè¢«reactä»ä¸Šåˆ°ä¸‹ä¾æ¬¡è¯»å–ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨æ¡ä»¶ä¸­ä½¿ç”¨ï¼Œè¿™æ ·ä¼šå¯¼è‡´è§£æçš„æ—¶å€™å‰åå£°æ˜é¡ºåºä¸ä¸€è‡´ã€‚hookså¿…é¡»æ”¾åœ¨å‡½æ•°å†…éƒ¨é¡¶å±‚ã€‚","categories":[],"tags":[{"name":"react hooks","slug":"react-hooks","permalink":"https://gitee.com/shimmer612/myBlog/tags/react-hooks/"}]},{"title":"react hooks useEffectçš„ä½¿ç”¨","slug":"2021-03-24-react-hooks-useEffectçš„ä½¿ç”¨","date":"2021-03-23T16:00:00.000Z","updated":"2021-03-24T05:47:33.481Z","comments":true,"path":"2021/03/24/2021-03-24-react-hooks-useEffectçš„ä½¿ç”¨/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/24/2021-03-24-react-hooks-useEffect%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"","text":"useEffectçš„tipsuseEffectçš„è¯­æ³•ï¼š 123useEffect(()=&gt;&#123;//é€»è¾‘&#125;,[]) å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªç©ºæ•°ç»„å‚æ•°ï¼ŒuseEffectå°±ä¼šåœ¨é¡µé¢çŠ¶æ€æ”¹å˜çš„æ—¶å€™æ‰§è¡Œï¼ŒåŠ äº†ç©ºæ•°ç»„å‚æ•°ï¼Œåªä¼šåœ¨é¡µé¢mountçš„æ—¶å€™æ›´æ–°ä¸€æ¬¡ã€‚ ä¼ ç¬¬äºŒä¸ªå‚æ•°ï¼šå¯ä»¥ç”¨ä½œé¡µé¢æ•°æ®åˆå§‹åŒ– ä¸ä¼ ç¬¬äºŒä¸ªå‚æ•° æŒ‰ç…§useEffectçš„è¿™ä¸ªåœ¨é¡µé¢çŠ¶æ€å˜åŒ–çš„æ—¶å€™è°ƒç”¨çš„ç‰¹æ€§ï¼Œå¯ä»¥åšå¾ˆå¤šä¸œè¥¿ã€‚ å¯ä»¥æ¯æ¬¡æ•°æ®å˜åŒ–çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®ä¼ ç»™åå°ï¼Œç›¸å½“äºç›‘å¬ã€‚ åˆ†æ•°å˜åŒ–çš„æ—¶å€™æ‰“å°å½“å‰å¾—äº†å¤šå°‘åˆ†ã€‚ 12345678910111213141516171819202122232425262728import React from &#x27;react&#x27;;import ReactDOM from &#x27;react-dom&#x27;;import &#123; useState, useEffect &#125; from &#x27;react&#x27;import &#x27;./index.css&#x27;;const Main = () =&gt; &#123; const [count, setCount] = useState(0); // ç›¸å½“äºcomponentDidMountå’ŒcomponentDidUpdate useEffect(() =&gt; &#123; // æ‰“å°ç‚¹å‡»çš„æ¬¡æ•° console.log(`å½“å‰å¾—åˆ†ä¸º$&#123;count&#125;`) &#125;) return ( &lt;div&gt; &lt;h1 onClick=&#123;() =&gt; &#123; setCount(count + 1) &#125;&#125;&gt;å½“å‰å¾—åˆ†ä¸ºï¼š&#123;count&#125;&lt;/h1&gt; &lt;/div&gt; )&#125;ReactDOM.render( &lt;Main /&gt;, document.getElementById(&#x27;root&#x27;)); useEffect ä¸åº”è¯¥è¿”å›ä»»ä½•å†…å®¹ä½†æ˜¯ä½¿ç”¨async await ä¼šè¿”å›ä¸€ä¸ªéšå¼çš„promise 1234//è¿™æ ·å†™æ˜¯é”™è¯¯çš„useEffect(async()=&gt; &#123; await ...... &#125;) åº”è¯¥æŠŠasync await å†™åœ¨useEffecté‡Œé¢ï¼Œå¦‚ï¼š 12345678//åº”è¯¥è¿™æ ·å†™useEffect(()=&gt; &#123; async () =&gt; &#123; await..... &#125; &#125;,[]) ä»Šå¤©å°±è®°å½•åˆ°è¿™ï¼Œé©¬ä¸Šæˆ‘æŠŠreact-reduxåœ¨å¤ä¹ ä¸€ä¸‹ã€‚å¥½ä¹…ä¸ç”¨éƒ½å¿˜çš„å·®ä¸å¤šäº†ã€‚","categories":[],"tags":[{"name":"react hooks","slug":"react-hooks","permalink":"https://gitee.com/shimmer612/myBlog/tags/react-hooks/"}]},{"title":"æ‚è®°02","slug":"2021-03-22-æ‚è®°02","date":"2021-03-21T16:00:00.000Z","updated":"2021-03-22T09:28:12.629Z","comments":true,"path":"2021/03/22/2021-03-22-æ‚è®°02/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/22/2021-03-22-%E6%9D%82%E8%AE%B002/","excerpt":"","text":"ä»Šå¤©ä¹Ÿæ²¡å­¦ä»€ä¹ˆæ–°ä¸œè¥¿ï¼Œä½†æ˜¯åšå®¢æ€»è¦ç‚¹æ–°çš„ä¸œè¥¿å§ã€‚å°±éšä¾¿å†™ä¸€ç‚¹å§ã€‚ ä»Šå¤©æƒ³ç»™è‡ªå·±çš„åœ¨çº¿è´­ç‰©å•†åŸåŠ ä¸€ä¸ªå®¢æœèŠå¤©åŠŸèƒ½ã€‚ç™¾åº¦äº†ä¸‹ç”¨socket.ioå¯ä»¥å®ç°ï¼Œä½†æ˜¯è‡ªå·±æŠ˜è…¾äº†åŠå¤©ä¹Ÿæ²¡æœ‰æˆåŠŸï¼Œå°±æ”¾å¼ƒäº†ã€‚ ä¸è¿‡ç»™è®¢å•é¡µé¢åŠ äº†ä¸€ä¸ªå¿«é€’æŸ¥è¯¢çš„åŠŸèƒ½ï¼Œç”¨çš„å‡æ•°æ®ï¼Œç‚¹å‡»ç›´æ¥è¿”å›ä¸€ä¸²å¿«é€’ä¿¡æ¯ï¼Œæ˜¯æˆ‘è‡ªå·±æ·˜å®ä¹°ä¸œè¥¿çš„ç‰©æµä¿¡æ¯ã€‚ç”¨element-uiçš„TimeLineå®ç°çš„ã€‚ å…¶å®æƒ³äº†å¾ˆå¤šåŠŸèƒ½ï¼Œå´ä¸çŸ¥é“æ€ä¹ˆå®ç°ï¼Œæ¯”å¦‚ç‚¹å‡»ä»˜æ¬¾æŒ‰é’®ï¼Œè·³å‡ºæ¥ä¸€ä¸ªäºŒç»´ç ï¼Œæ‰«æäºŒç»´ç ï¼Œè·³è½¬åˆ°è®¢å•é¡µé¢ï¼Œæ²¡æœ‰æ‰¾åˆ°ä»€ä¹ˆæ’ä»¶å¯ä»¥ç›‘å¬äºŒç»´ç çš„æ‰«æäº‹ä»¶ã€‚ç”¨çš„qrimageåªèƒ½ç”ŸæˆäºŒç»´ç ï¼Œæ‰«æè·³è½¬åˆ°è®¾ç½®ç‰¹å®šçš„é¡µé¢ã€‚ ç—›ç‚¹å¾ˆå¤šï¼Œè¦å­¦ä¹ çš„ä¸œè¥¿ä¹Ÿå¾ˆå¤šã€‚ æ€»æ„Ÿè§‰è‡ªå·±ä¸æ˜¯ä¸€ä¸ªåˆæ ¼çš„å‰ç«¯ã€‚ ä¸åŠ¡æ­£ä¸šå»å­¦äº†åå°ã€‚å†™äº†å‡ ä¸ªæ¥å£å­¦äº†mongo,ä¹Ÿæ»¡è¶³è‡ªå·±å¹³æ—¶å†™å†™å°é¡¹ç›®è‡ªå·±å†™åå°äº†ã€‚ä¹ŸæŒºä¸é”™çš„ã€‚expressçœŸçš„æŒºé¦™çš„ã€‚ æ˜¨å¤©å»æ»†æ¹–å…¬å›­æ”¾äº†é£ç­ï¼Œå¾ˆå¼€å¿ƒã€‚å’Œé«˜ä¸­åŒå­¦èŠèŠå¤©æ•£æ•£æ­¥çœŸçš„å¾ˆæ„‰å¿«ã€‚ è¿˜æ˜¯æ²¡äº‹å¤šå‡ºå»èµ°ä¸€èµ°ï¼Œå‘¼å¸å‘¼å¸æ–°é²œçš„ç©ºæ°”ã€‚ æ•´ä¸ªäººçš„ç²¾ç¥ä¼šå¥½å¾ˆå¤šã€‚ çœ‹ç€æ¼«å¤©çš„é£ç¿”çš„é£ç­ï¼ŒæŠ½èŠ½çš„æŸ³æ ‘ï¼Œç››å¼€çš„æ²¹èœèŠ±å’Œå®¶ä¹¡çš„Sakuraã€‚ é‚£æ—¶å€™ä¹‹å‰æ‰€æœ‰çš„çƒ¦é—·ä¸è‹¦ç—›å…¨éƒ¨æŠ›åœ¨è„‘åã€‚ çœŸå¥½ï¼","categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E9%9A%8F%E7%AC%94/"}]},{"title":"åˆ›å»ºä¸€ä¸ªvue3.0+element-plusé¡¹ç›®","slug":"2021-03-20-åˆ›å»ºä¸€ä¸ªvue3.0+element-plusé¡¹ç›®","date":"2021-03-19T16:00:00.000Z","updated":"2021-03-20T06:15:27.903Z","comments":true,"path":"2021/03/20/2021-03-20-åˆ›å»ºä¸€ä¸ªvue3.0+element-plusé¡¹ç›®/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/20/2021-03-20-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAvue3.0+element-plus%E9%A1%B9%E7%9B%AE/","excerpt":"","text":"åˆ›å»ºä¸€ä¸ªvue3.0+element-plusé¡¹ç›®é¦–å…ˆè¦ç¡®è®¤è‡ªå·±ç”µè„‘ä¸­çš„@vue/cli&gt;4.5 å¯ä»¥ç”¨vue -VæŸ¥çœ‹ æ²¡æœ‰çš„è¯å¯ä»¥ç”¨npm i -g @vue/cliå‡çº§ å‡çº§æˆåŠŸå **vue create my-pro**è¿™é‡Œé€‰æ‹©Vue 3çš„é¡¹ç›®ã€‚ åˆ›å»ºæˆåŠŸåã€‚ æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚ 12cd my-provue add element-plus å…¨å±€åŠ è½½å’ŒæŒ‰éœ€åŠ è½½è‡ªå·±é€‰æ‹©ã€‚ å®‰è£…æˆåŠŸåã€‚ npm run serve å‘ç°é¡¹ç›®è·‘èµ·æ¥äº†ã€‚ æŒ‰éœ€åŠ è½½çš„è¯ï¼Œéœ€è¦åœ¨src/plugins/element.jsæ–‡ä»¶é‡Œï¼Œå¼•å…¥è‡ªå·±æ‰€éœ€è¦çš„ç»„ä»¶å°±å¯ä»¥äº†ã€‚ 1234567import &#123; ElButton,ElTimeline &#125; from &#x27;element-plus&#x27;export default (app) =&gt; &#123; app.use(ElButton) app.use(ElTimeline)&#125;","categories":[],"tags":[{"name":"vue3","slug":"vue3","permalink":"https://gitee.com/shimmer612/myBlog/tags/vue3/"}]},{"title":"Vue3ä¸­è·¯ç”±çš„ç›¸å…³é…ç½®","slug":"Vue3ä¸­è·¯ç”±çš„ç›¸å…³é…ç½®","date":"2021-03-15T16:00:00.000Z","updated":"2021-03-17T01:25:00.647Z","comments":true,"path":"2021/03/16/Vue3ä¸­è·¯ç”±çš„ç›¸å…³é…ç½®/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/16/Vue3%E4%B8%AD%E8%B7%AF%E7%94%B1%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/","excerpt":"","text":"Vue3ä¸­è·¯ç”±çš„ç›¸å…³é…ç½®1ã€è·¯ç”±çš„é…ç½®åœ¨srcè·¯å¾„ä¸‹æ–°å»ºrouteræ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨è¯¥æ–‡ä»¶å¤¹æ–°å»ºindex.jsæ–‡ä»¶ å®‰è£…vue-router 1cnpm i vue-router@next --save index.jsæ–‡ä»¶é…ç½®å¦‚ä¸‹ã€‚ 12345678910111213141516171819202122232425262728import &#123; createRouter, createWebHistory &#125; from &quot;vue-router&quot;;const addCount = () =&gt; import(&#x27;../components/addCount.vue&#x27;)const Father = () =&gt; import(&#x27;../components/father.vue&#x27;)const routes = [ &#123; path: &quot;/&quot;, redirect: &#x27;/add&#x27; &#125;, &#123; path: &quot;/father&quot;, component: Father, &#125;, &#123; path: &quot;/add&quot;, component: addCount &#125;,]const router = createRouter(&#123; history: createWebHistory(), routes: routes&#125;)export default router ç„¶åé…ç½®main.js å¼•å…¥router 1234567891011121314151617import &#123; createApp &#125; from &#x27;vue&#x27;import App from &#x27;./App.vue&#x27;import &#x27;./index.css&#x27;//ä½¿ç”¨router//å¼•å…¥elementPlusimport ElementPlus from &#x27;element-plus&#x27;;import &#x27;element-plus/lib/theme-chalk/index.css&#x27;;//å¼•å…¥routerimport router from &#x27;./router/index&#x27;const app = createApp(App)//ä½¿ç”¨ElementPlusapp.use(ElementPlus)//ä½¿ç”¨routerapp.use(router)app.mount(&#x27;#app&#x27;) 2ã€è·¯ç”±çš„è·³è½¬æ–¹å¼ä¸€ å¼•å…¥useRouter 123456789101112131415161718192021&lt;template&gt; &lt;div&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;changeRouter&quot;&gt; è·³è½¬è·¯ç”± &lt;/el-button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; useRouter&#125; from &#x27;vue-router&#x27;export default &#123; setup() &#123; const router = useRouter() const changeRouter = () =&gt; &#123; router.push(&#x27;/father&#x27;) &#125; return &#123; changeRouter &#125; &#125;&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; æ–¹å¼äºŒrouter-link 1&lt;router-link to=&quot;/child&quot;&gt;å­é¡µé¢&lt;/router-link&gt; æ–¹å¼ä¸‰ 1234567891011121314151617181920&lt;template&gt; &lt;div&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;toAdd&quot;&gt;ä¸‹ä¸€é¡µ&lt;/el-button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import router from &#x27;../router/index.js&#x27;export default &#123; methods: &#123; toAdd() &#123; router.push(&#x27;/add&#x27;) &#125;, &#125;,&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; 3ã€è·¯ç”±çš„ä¼ å‚å¼•å…¥useRoute 1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;div&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;changeRouter&quot;&gt; è·³è½¬è·¯ç”± &lt;/el-button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; useRouter, useRoute &#125; from &#x27;vue-router&#x27;export default &#123; setup() &#123; const router = useRouter() const route = useRoute() const changeRouter = () =&gt; &#123; router.push(&#123; path: &#x27;/father&#x27;, query: &#123; name: &#x27;zz&#x27;, &#125;, &#125;) &#125; return &#123; changeRouter &#125; &#125;,&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; å¦‚ä¸‹å›¾ï¼šåœ¨fatheré¡µé¢å°±å¯ä»¥é€šè¿‡route.query.nameè·å–åˆ°â€zzâ€ 4ã€è·¯ç”±çš„åµŒå¥—é€šè¿‡router-viewå’Œå­è·¯ç”±çš„æ–¹å¼åµŒå¥— router/index.js 123456789101112131415161718192021222324252627282930import &#123; createRouter, createWebHistory &#125; from &quot;vue-router&quot;;const Father = () =&gt; import(&#x27;../components/father.vue&#x27;)const children = () =&gt; import(&#x27;../components/child.vue&#x27;)const routes = [ &#123; path: &quot;/&quot;, redirect: &#x27;/father&#x27; &#125;, &#123; path: &quot;/father&quot;, component: Father, children: [ &#123; path: &#x27;/child&#x27;, component: children &#125; ] &#125;,]const router = createRouter(&#123; history: createWebHistory(), routes: routes&#125;)export default router father.vue 12345678910111213141516&lt;template&gt; &lt;div&gt; &lt;h1 class=&quot;h&quot;&gt;æˆ‘æ˜¯çˆ·çˆ·&lt;/h1&gt; &lt;br /&gt; &lt;router-link to=&quot;/child&quot;&gt;ä¸‹ä¸€é¡µ&lt;/router-link&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123;&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; child.vue 123456789101112131415161718192021&lt;template&gt; &lt;div&gt; &lt;div&gt; &lt;hr&gt; &lt;h1&gt;æˆ‘æ˜¯å„¿å­&lt;/h1&gt; &lt;/div&gt; &lt;Sunzi /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import Sunzi from &#x27;./sunzi.vue&#x27;export default &#123; components: &#123; Sunzi, &#125;,&#125;&lt;/script&gt;&lt;style scoped&gt;&lt;/style&gt; è¿è¡Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š","categories":[],"tags":[{"name":"Vue3","slug":"Vue3","permalink":"https://gitee.com/shimmer612/myBlog/tags/Vue3/"}]},{"title":"å¦‚ä½•åœ¨vueçš„cssä¸­ä½¿ç”¨dataä¸­çš„å˜é‡","slug":"å¦‚ä½•åœ¨vueçš„cssä¸­ä½¿ç”¨dataä¸­çš„å˜é‡","date":"2021-03-14T16:00:00.000Z","updated":"2021-03-16T02:54:26.599Z","comments":true,"path":"2021/03/15/å¦‚ä½•åœ¨vueçš„cssä¸­ä½¿ç”¨dataä¸­çš„å˜é‡/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/15/%E5%A6%82%E4%BD%95%E5%9C%A8vue%E7%9A%84css%E4%B8%AD%E4%BD%BF%E7%94%A8data%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F/","excerpt":"","text":"å¦‚ä½•åœ¨vueçš„cssä¸­ä½¿ç”¨dataä¸­çš„å˜é‡ã€‚ å¾ˆç®€å•ç”¨v-bind ä¸€ä¸ªç®€å•çš„ä¾‹å­ 12345678910111213141516171819202122&lt;template&gt; &lt;div&gt; &lt;h1 class=&quot;h1&quot; &gt;æˆ‘æ˜¯&#123;&#123; color &#125;&#125;&lt;/h1&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; color: &#x27;red&#x27;, &#125; &#125; &#125;&#125;&lt;/script&gt;&lt;style scoped&gt;.h1 &#123; color: v-bind(color);&#125;&lt;/style&gt; è¿è¡Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæˆåŠŸè®¾ç½®äº†æ–‡å­—çš„é¢œè‰²ã€‚ è¿™æ ·å°±å¯ä»¥åšä¸€ä¸ªæ–‡å­—é¢œè‰²ä¸æ–­å˜åŒ–çš„demo 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;template&gt; &lt;div&gt; &lt;h1 class=&quot;h1&quot; @click=&quot;changeColor&quot;&gt;æˆ‘æ˜¯&#123;&#123; color &#125;&#125;&lt;/h1&gt; &lt;button @click=&quot;changeColor&quot;&gt;å˜è‰²&lt;/button&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; components: &#123; Child, &#125;, data() &#123; return &#123; color: &#x27;red&#x27;, count: 1, &#125; &#125;, created () &#123; setInterval(()=&gt;&#123; this.changeColor() &#125;,500) &#125;, methods: &#123; changeColor() &#123; const arr = [ &#x27;red&#x27;, &#x27;blue&#x27;, &#x27;pink&#x27;, &#x27;black&#x27;, &#x27;hotpink&#x27;, &#x27;purple&#x27;, &#x27;lime&#x27;, &#x27;skyblue&#x27;, ] this.color = arr[this.count] this.count++ if (this.count === 8) &#123; this.count = 0 &#125; &#125;, &#125;,&#125;&lt;/script&gt;&lt;style scoped&gt;.h1 &#123; color: v-bind(color);&#125;&lt;/style&gt; è¿è¡Œç»“æœå¦‚ä¸‹å›¾ï¼š æ˜¯ä¸æ˜¯æ„Ÿè§‰è¦æ–¹ä¾¿è®¸å¤šã€‚","categories":[],"tags":[{"name":"Vue3","slug":"Vue3","permalink":"https://gitee.com/shimmer612/myBlog/tags/Vue3/"}]},{"title":"CSSçš„ä¸€äº›çŸ¥è¯†ç‚¹","slug":"2021-03-12-CSSçš„ä¸€äº›çŸ¥è¯†ç‚¹","date":"2021-03-11T16:00:00.000Z","updated":"2021-03-12T08:32:26.410Z","comments":true,"path":"2021/03/12/2021-03-12-CSSçš„ä¸€äº›çŸ¥è¯†ç‚¹/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/12/2021-03-12-CSS%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"","text":"ä»Šå¤©æ˜¯ä¸‰æœˆåäºŒæ—¥æ¤æ ‘èŠ‚ï¼Œè®°å½•ä¸€äº›è‡ªå·±å†™æ ·å¼çš„æ—¶å€™ï¼Œä»¥å‰ä¸çŸ¥é“çš„ä¸œè¥¿ã€‚ 1ã€è®¾ç½®paddingçš„æ—¶å€™ä¸ºäº†ä¸æ”¹å˜ç›’å­çš„å¤§å°è¦è®¾ç½®box-sizing:border-box 2ã€ç›’å­å†…éƒ¨é˜´å½±åœ¨æœ«å°¾åŠ ä¸€ä¸ªinsetæ¯”å¦‚box-shadow: 0 0 5px 0 red inset 3ã€è®¾ç½®é€æ˜åº¦çš„æ—¶å€™opacity:0.8è¿™æ ·ä¼šè®©çˆ¶å…ƒç´ å­å…ƒç´ ä¹Ÿæ”¹å˜é€æ˜åº¦ã€‚å¯ä»¥æ”¹æˆrgba(255,255,255,0.8)çš„è¿™ç§æ–¹å¼ 4ã€ç½‘é¡µå­—ä½“æœ€å°å°±æ˜¯12px 5ã€è®¾ç½®èƒŒæ™¯å›¾æ—¶ä½¿ç”¨è·¯å¾„æ—¶ background-image: url(~@/assets/carMonitor/warn-info.png);å†™æˆè¿™ç§æ ·å¼ã€‚è¿˜æœ‰åŠ ä¸Š background-size: cover; ä¸æƒ³å†™äº†ï¼Œä»Šå¤©å¾ˆéš¾å—ï¼Œå¿ƒæƒ…å¾ˆä¸å¥½ã€‚","categories":[],"tags":[{"name":"css","slug":"css","permalink":"https://gitee.com/shimmer612/myBlog/tags/css/"}]},{"title":"node.js+express+mongodbæ¥å¼€å‘åç«¯","slug":"2021-03-10-node.js+express+mongodbæ¥å¼€å‘åç«¯","date":"2021-03-10T16:00:00.000Z","updated":"2021-03-11T01:21:12.502Z","comments":true,"path":"2021/03/11/2021-03-10-node.js+express+mongodbæ¥å¼€å‘åç«¯/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/11/2021-03-10-node.js+express+mongodb%E6%9D%A5%E5%BC%80%E5%8F%91%E5%90%8E%E7%AB%AF/","excerpt":"","text":"node.js+express+mongodbæ¥å¼€å‘åç«¯å¤§å››ä¸´è¿‘æ¯•ä¸šï¼Œè¦å¼€å§‹å†™æ¯•ä¸šè®¾è®¡ï¼Œä½†æ˜¯ä½œä¸ºå‰ç«¯çš„æˆ‘ï¼Œå¯¹åç«¯ä¸€çªä¸é€šã€‚ç„¶åæƒ³åˆ°nodejsä¹Ÿå¯ä»¥å†™åç«¯ã€‚ç”¨çš„å°±æ˜¯javascriptã€‚åº”è¯¥å­¦ä¹ æˆæœ¬ä¸æ˜¯å¾ˆé«˜ã€‚ å¦‚ä»Šå·²ç»å†™å¥½äº†æ¯•è®¾ã€‚ä½†æ˜¯å¯¹å½“æ—¶æ€ä¹ˆç”¨nodejs+express+mongodbå†™æ¥å£æœ‰ç‚¹é—å¿˜äº†ã€‚ ä»Šå¤©æ¥è®°å½•ä¸€ä¸‹ã€‚ä»¥ä¾¿åé¢æ¥å¤ä¹ å’ŒæŸ¥æ‰¾ã€‚ 1ã€å®‰è£…expressnpm install express --save 2ã€æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶123456789101112131415161718192021222324252627282930313233343536373839//å¼•å…¥expresså¹¶ç»‘å®šåˆ°appä¸Šconst express = require(&#x27;express&#x27;)const app = express()// é™æ€èµ„æºè·¯å¾„app.use(&#x27;/public&#x27;, express.static(&#x27;public&#x27;))// è·¨åŸŸapp.use(require(&#x27;cors&#x27;)())// express å¤„ç†jsonapp.use(express.json())// æ¥å£çš„å¼€å‘app.use(&#x27;/&#x27;,require(&#x27;./router/user&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/address&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/admin&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/banner&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/cat&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/goods&#x27;))// app.use(&#x27;/&#x27;,require(&#x27;./router/hotGoods&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/order&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/shopcart&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/star&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/upload&#x27;))app.use(&#x27;/&#x27;,require(&#x27;./router/goodsBuyCount&#x27;))// è¿è¡Œç«¯å£ï¼ŒæœåŠ¡è·‘åœ¨æœ¬åœ°çš„3002ç«¯å£ä¸Šapp.listen(3002, () =&gt; &#123; console.log(&#x27;success in port 3002ï¼ŒæœåŠ¡å·²ç»è·‘èµ·æ¥å•¦&#x27;);&#125;) 3ã€mongooseçš„ä½¿ç”¨å®‰è£…mongoose npm i mongoose --save æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ 123456789101112131415161718//å¼•å…¥mongooseconst mongoose = require(&#x27;mongoose&#x27;)// è¿æ¥æ•°æ®åº“mongoose.connect(&#x27;mongodb://localhost:27017/storedb&#x27;, &#123; useNewUrlParser: true, useCreateIndex: true, useUnifiedTopology: true&#125;)//åˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œç±»ä¼¼äºè¡¨const CateSchema = new mongoose.Schema(&#123; //å­—æ®µåç§°ä¸å­—æ®µç±»å‹ è¿˜å¯ä»¥åŠ ä¸€äº›åˆ¤æ–­ã€‚required:trueä»£è¡¨å¿…ä¼ ï¼Œunique ä»£è¡¨å”¯ä¸€çš„ cat_id: &#123; type:Number &#125;, cat_name: &#123; type: String, required: true &#125;&#125;)//ç»‘å®šåˆ°æ¨¡å‹const Category = mongoose.model(&#x27;category&#x27;, CateSchema, &#x27;category&#x27;) 4ã€æ¥å£çš„å®ç°è¿™é‡Œç›´æ¥ä½¿ç”¨express router ä¸ç›´æ¥ç”¨app.get()æˆ–è€…app.post()è¿™æ ·å»ä½¿ç”¨äº†ã€‚ æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ 1234567891011121314151617181920212223242526272829303132333435363738394041424344//å¼•å…¥expressconst express = require(&#x27;express&#x27;);//å¼•å…¥mongooseæ•°æ®æ¨¡å‹const &#123; Address &#125; = require(&#x27;../storedb&#x27;)//ç»‘å®šrouterlet router = express.Router();// è·å–ç”¨æˆ·åœ°å€router.get(&#x27;/getAddress&#x27;, async (req, res) =&gt; &#123; const address = await Address.find(&#123; user_id: req.query.user_id &#125;) res.send(address)&#125;)// åˆ é™¤åœ°å€router.delete(&#x27;/deleteAddress&#x27;, async (req, res) =&gt; &#123; const address = req.query const userId = req.query.user_id await Address.deleteOne(&#123; user_id: userId, add_id: address.add_id &#125;) res.send(&#123; message: &quot;åˆ é™¤åœ°å€æˆåŠŸï¼&quot; &#125;)&#125;)// ä¿®æ”¹åœ°å€router.post(&#x27;/changeAddress&#x27;, async (req, res) =&gt; &#123; const address = req.body const addId = req.body.add_id await Address.updateOne(&#123; add_id: addId &#125;, &#123; user_name: address.user_name, user_phone: address.user_phone, user_address: address.user_address &#125;) res.send(&#123; message: &quot;ä¿®æ”¹åœ°å€æˆåŠŸï¼&quot; &#125;)&#125;)//å¯¼å‡ºmodule.exports = router ä¸€èˆ¬æŸ¥è¯¢ç”¨get å¢åŠ ä¿®æ”¹ç”¨post åˆ é™¤ç”¨delete è¯´ä¸€ä¸‹mongooseçš„å¢åˆ æ”¹æŸ¥ å¢åŠ  Addressä»£è¡¨è¡¨å é‡Œé¢æ˜¯å¢åŠ çš„ä¸€ä¸ªåœ°å€ï¼Œ 123456Address.create(&#123; user_id: 1234, add_id: 123, user_name: &quot;zz&quot;, user_phone: 123456789, user_address: &quot;å¤§é“&quot; &#125;) åˆ é™¤ åˆ é™¤user_idä¸­add_idä¸º123çš„é‚£ä¸ªåœ°å€ Address.deleteOne(&#123; user_id: 1234, add_id: 123 &#125;) ä¿®æ”¹ ä¿®æ”¹ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¿®æ”¹å“ªä¸€ä¸ªï¼ŒæŸ¥æ‰¾æ¡ä»¶ã€‚add_idä¸ºå¤šå°‘çš„å“ªä¸€ä¸ªã€‚ ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¿®æ”¹åçš„æ•°æ® 12345Address.updateOne(&#123; add_id: addId &#125;, &#123; user_name: address.user_name, user_phone: address.user_phone, user_address: address.user_address &#125;) æŸ¥è¯¢ 12345//æŸ¥è¯¢æ‰€æœ‰çš„Address.find()//æŸ¥è¯¢user_idä¸º123çš„æ‰€æœ‰åœ°å€Address.find(&#123;user_id:123&#125;) mongooseçš„ä¸€äº›å¸¸ç”¨æŸ¥è¯¢å‚æ•° 1234567//skipæŸ¥è¯¢çš„æ—¶å€™è·³è¿‡å¤šå°‘ä¸ª//limité™åˆ¶ä¸€æ¬¡æŸ¥è¯¢å‡ ä¸ª//sortæ˜¯æ’åº 1æ˜¯æ­£åº-1æ˜¯å€’åº// skip(), limit(), sort()ä¸‰ä¸ªæ”¾åœ¨ä¸€èµ·æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œçš„é¡ºåºæ˜¯å…ˆ sort(), ç„¶åæ˜¯ skip()ï¼Œæœ€åæ˜¯æ˜¾ç¤ºçš„ limit()ã€‚ const goods = await Goods.find().limit(pageSize).skip((pageNum - 1) * pageSize).sort(&#123; goods_id: 1 &#125;) 12//$in æŸ¥è¯¢goods_idä¸º$inåé¢çš„æ•°ç»„const aa = await Goods.find(&#123; goods_id: &#123; $in: [1, 2, 3, 4, 5, 6, 7, 8] &#125; &#125;) 123456789//$or æ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å°±å¯ä»¥//$regex åŒ¹é…æŸ¥è¯¢const data = await Goods.find(&#123; $or: [ &#123; goods_name: &#123; $regex: reg &#125; &#125;, &#123; goods_title: &#123; $regex: reg &#125; &#125;, &#123; goods_subtitle: &#123; $regex: reg &#125; &#125; ] &#125;) 123456789101112131415161718192021222324//aggregateèšåˆæŸ¥è¯¢//$lookup ä¸¤ä¸ªè¡¨å…³è”æŸ¥è¯¢//ä¸‹é¢çš„æ„æ€æ˜¯æ ¹æ®cat_idåœ¨goodsè¡¨ä¸­æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°çš„æ•°æ®æ”¾åˆ°goodsè¿™ä¸ªå­—æ®µä¸‹ã€‚const index = req.params.categoryId - 1 await Category.aggregate([ &#123; $lookup: &#123; from: &quot;goods&quot;, localField: &quot;cat_id&quot;, foreignField: &quot;cat_id&quot;, as: &quot;goods&quot;, &#125; &#125;,&#123;$sort:&#123;&quot;cat_id&quot;:1&#125;&#125; ] , (err, data) =&gt; &#123; if (err) &#123; console.log(err); return &#125; res.send(data[index]) &#125; )&#125;) 5ã€ä¸Šä¼ æ–‡ä»¶12345678910111213141516171819202122232425262728293031323334353637383940414243const express = require(&#x27;express&#x27;);var formidable = require(&#x27;formidable&#x27;);fs = require(&#x27;fs&#x27;);const path = require(&#x27;path&#x27;);const &#123; Goods &#125; = require(&#x27;../storedb&#x27;)let router = express.Router();router.post(&#x27;/uploadImg&#x27;, (req, res, next) =&gt; &#123; const goods = req.query let form = new formidable.IncomingForm(); form.encoding = &#x27;utf-8&#x27;; // ç¼–ç  // ä¿ç•™æ‰©å±•å form.keepExtensions = true; //æ–‡ä»¶å­˜å‚¨è·¯å¾„ æœ€åè¦æ³¨æ„åŠ  &#x27;/&#x27; å¦åˆ™ä¼šè¢«å­˜åœ¨publicä¸‹ form.uploadDir = path.join(__dirname, &#x27;../public/imgs/accessory/&#x27;) form.parse(req, (err, fields, files) =&gt; &#123; if (err) throw err let oldFilename = files.file.name fs.rename(files.file.path, form.uploadDir + generateFilename(oldFilename), async err =&gt; &#123; if (err) &#123; console.log(&quot;é‡å‘½åå¤±è´¥&quot;); &#125; else &#123; await Goods.updateOne(&#123; goods_id: goods.goods_id &#125;, &#123; goods_pic: `public/imgs/accessory/$&#123;generateFilename(oldFilename)&#125;`, &#125;) &#125; &#125;) res.send(&#123; message: &quot;ä¿å­˜æˆåŠŸï¼&quot; &#125;) &#125;) function generateFilename(oldFilename) &#123; //å°†è€çš„æ–‡ä»¶åæ‹¼ä¸Šæ—¶é—´æˆ³ï¼Œè¿™æ ·æ—¢ä¸ä¼šå‘½åå†²çªåˆå¯ä»¥çœ‹å‡ºæ–‡ä»¶çš„ä¸Šä¼ äº‹ä»¶ let d = new Date(); let names = oldFilename.split(&quot;.&quot;); return `$&#123;names[0]&#125;_$&#123;&quot;&quot; + d.getFullYear() + (d.getMonth() + 1) + d.getDate() + &#x27;_&#x27; + d.getHours() + d.getMinutes() + d.getSeconds()&#125;.$&#123;names[1]&#125;`; &#125;&#125;); 6ã€å¯åŠ¨åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰“å¼€ç»ˆç«¯è¿è¡Œnode app.js 12345678//å‡ºç° success in port 3002ï¼ŒæœåŠ¡å·²ç»è·‘èµ·æ¥å•¦ //å› ä¸ºä¸Šé¢æ˜¯è¿™æ ·å†™çš„// è¿è¡Œç«¯å£ï¼ŒæœåŠ¡è·‘åœ¨æœ¬åœ°çš„3002ç«¯å£ä¸Šapp.listen(3002, () =&gt; &#123; console.log(&#x27;success in port 3002ï¼ŒæœåŠ¡å·²ç»è·‘èµ·æ¥å•¦&#x27;);&#125;) è¯´æ˜è¿è¡ŒæˆåŠŸã€‚ 7ã€è°ƒç”¨æ¥å£12345678910111213141516171819202122232425262728 // è·å–ç”¨æˆ·åœ°å€ async getAddress () &#123; const userId = window.sessionStorage.getItem(&#x27;userId&#x27;) const res = await this.$http.get(&#x27;getAddress&#x27;, &#123; params: &#123; user_id: userId &#125; &#125;) this.address = res.data &#125;,//è¯·æ±‚åœ°å€Request URL: http://localhost:3002/getAddress?user_id=1255Request Method: GETStatus Code: 200 OKRemote Address: [::1]:3002Referrer Policy: strict-origin-when-cross-origin//è¿”å›ç›¸åº”çš„æ•°æ®[&#123; &quot;_id&quot;:&quot;602e26a4a8185949dc9ea23e&quot;, &quot;user_id&quot;:&quot;1255&quot;, &quot;add_id&quot;:&quot;157&quot;, &quot;user_name&quot;:&quot;wky&quot;, &quot;user_phone&quot;:&quot;18888888888&quot;, &quot;user_address&quot;:&quot;æ— é”¡å¸‚æ»¨æ¹–åŒºå¤ªæ¹–å­¦é™¢åŒ—åŒº&quot;, &quot;__v&quot;:0&#125;] åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šå°±å®Œæˆäº†å¤§éƒ¨åˆ†çš„åŠŸèƒ½ã€‚ å½“ç„¶è¿˜æœ‰ç™»å½•æ³¨å†Œã€‚jwtç­¾åç”Ÿæˆtokenï¼Œå¯†ç çš„åŠ å¯†ç­‰ç­‰ã€‚ è¿™ä¸ªæˆ‘ä¹Ÿå¿˜è®°çš„å·®ä¸å¤šäº†ã€‚ å»æ•´ç†ä¸€ä¸‹ï¼Œå†è®°å½•ä¸‹æ¥ã€‚","categories":[],"tags":[{"name":"nodejs","slug":"nodejs","permalink":"https://gitee.com/shimmer612/myBlog/tags/nodejs/"},{"name":"express","slug":"express","permalink":"https://gitee.com/shimmer612/myBlog/tags/express/"},{"name":"mongodb","slug":"mongodb","permalink":"https://gitee.com/shimmer612/myBlog/tags/mongodb/"}]},{"title":"ä»æ•°ç»„ä¸­å–å‡ºéšæœºå‡ ä¸ªæ•°ç»„æˆæ–°æ•°ç»„ï¼ˆä¸é‡å¤å–ï¼‰","slug":"2021-03-10-ä»æ•°ç»„ä¸­å–å‡ºéšæœºå‡ ä¸ªæ•°ç»„æˆæ–°æ•°ç»„ï¼ˆä¸é‡å¤å–ï¼‰","date":"2021-03-09T16:00:00.000Z","updated":"2021-03-10T09:14:23.203Z","comments":true,"path":"2021/03/10/2021-03-10-ä»æ•°ç»„ä¸­å–å‡ºéšæœºå‡ ä¸ªæ•°ç»„æˆæ–°æ•°ç»„ï¼ˆä¸é‡å¤å–ï¼‰/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/10/2021-03-10-%E4%BB%8E%E6%95%B0%E7%BB%84%E4%B8%AD%E5%8F%96%E5%87%BA%E9%9A%8F%E6%9C%BA%E5%87%A0%E4%B8%AA%E6%95%B0%E7%BB%84%E6%88%90%E6%96%B0%E6%95%B0%E7%BB%84%EF%BC%88%E4%B8%8D%E9%87%8D%E5%A4%8D%E5%8F%96%EF%BC%89/","excerpt":"","text":"â€‹ è¦ç»™è‡ªå·±çš„å•†åŸï¼ŒåŠ ä¸€ä¸ªæ¨èå•†å“çš„åŠŸèƒ½ã€‚æƒ³è®©ä»–éšæœºä»å•†å“è¡¨ä¸­å–å‡º4ä¸ªæ•°æ®ã€‚ â€‹ ä¸€å¼€å§‹æˆ‘ç”¨Math.random()*arr.lengthä½†æ˜¯ä¼šå–å‡ºç›¸åŒçš„ã€‚è¿™æ ·å°±ä¸å¤ªå¯¹ï¼Œå“ªæœ‰æ¨èä¸¤ä¸ªç›¸åŒçš„å•†å“å‘¢ã€‚ â€‹ ç„¶åæƒ³åˆ°è·å–å½“å‰é€‰æ‹©çš„ä¸‹æ ‡ï¼ŒæŠŠé€‰æ‹©çš„é‚£ä¸ªåˆ é™¤ã€‚ä¸‹ä¸€æ¬¡éšæœºï¼Œå°±éšæœºä¸åˆ°é‚£ä¸ªæ•°äº†ã€‚ 123456789101112131415161718192021//å‰å°ä¼ æ¥çš„å½“å‰å•†å“çš„idconst nowGoodsIndex = req.query.goods_id-1 const goods = await Goods.find() let arr = [] //å­˜å…¥æ•°ç»„çš„id,å› ä¸ºidå°±æ˜¯ä»1å¼€å§‹å¾€ä¸ŠåŠ ã€‚ goods.forEach((element, index) =&gt; &#123; arr.push(index+1) &#125;); //ç”¨spliceæŠŠå½“å‰å•†å“çš„idåˆ é™¤é¿å…é‡å¤ arr.splice(nowGoodsIndex, 1); let newArr = [] //éšæœºå–å‡º4ä¸ªï¼Œå–å‡ºæ¥ä¸€ä¸ªå°±æŠŠé‚£ä¸ªæ•°åœ¨æ•°ç»„ä¸­åˆ æ‰ã€‚é¿å…é‡å¤ã€‚ for (let i = 0; i &lt;= 3; i++) &#123; let index = Math.floor(Math.random() * arr.length); newArr.push(arr[index]); //è·å–åï¼Œåœ¨æ•°ç»„ä¸­åˆ é™¤å·²ç»åŠ å…¥çš„éšæœºæ•° arr.splice(index, 1); &#125;","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"}]},{"title":"CSS marginæŠ˜å ","slug":"2021-03-09-CSS-marginæŠ˜å ","date":"2021-03-08T16:00:00.000Z","updated":"2021-03-09T09:49:37.080Z","comments":true,"path":"2021/03/09/2021-03-09-CSS-marginæŠ˜å /","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/09/2021-03-09-CSS-margin%E6%8A%98%E5%8F%A0/","excerpt":"","text":"marginæŠ˜å ä»Šå¤©åœ¨å†™é¡µé¢çš„æ—¶å€™å‘ç°ï¼Œå­å…ƒç´ è®¾ç½®äº†margin-top:101pxä¸ç”Ÿæ•ˆï¼Œçˆ¶å…ƒç´ å´å‘ä¸‹ç§»åŠ¨äº†ã€‚ è¿™å°±æ˜¯marginæŠ˜å  12345678910111213141516171819202122232425262728 //è¿™é‡Œç»™å­å…ƒç´ è®¾ç½®margin-top//çˆ¶å…ƒç´ å´å‘ä¸‹ç§»åŠ¨äº†101px&lt;div class=&quot;main&quot;&gt; &lt;div class=&quot;car-message&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;style&gt; .main &#123; width: 1440px; height: 810px; background-image: url(~@/assets/bg.png); background-size: cover; box-sizing: border-box; padding: 0 19px 0 17px;&#125;.car-message &#123; margin-top: 101px; background-image: url(~@/assets/one.png); background-size: cover; width: 1404px; height: 51px; display: flex; align-items: center;&#125;&lt;/style&gt; ç™¾åº¦äº†ä¸‹ å¤–è¾¹è·å åŠ å­˜åœ¨ä¸¤ç§æƒ…å†µï¼šä¸€æ˜¯çˆ¶å­å¤–è¾¹è·å åŠ ï¼›äºŒæ˜¯å…„å¼Ÿå¤–è¾¹è·å åŠ ã€‚ è§£å†³åŠæ³•å…„å¼Ÿé—´é‡å æ—¶ åº•éƒ¨å…ƒç´ å˜ä¸ºè¡Œå†…ç›’å­(display: inline-block); åº•éƒ¨å…ƒç´ çš„positionçš„å€¼ä¸ºabsolute/fixed çˆ¶å…ƒç´ ä¸å­å…ƒç´ é‡å  çˆ¶å…ƒç´ åŠ å…¥(overflow: hidden); çˆ¶å…ƒç´ æ·»åŠ é€æ˜è¾¹æ¡†(border:1px solid transparent); å­å…ƒç´ å˜ä¸ºè¡Œå†…ç›’å­(display: inline-block); å­å…ƒç´ åŠ å…¥æµ®åŠ¨å±æ€§æˆ–å®šä½ è¿™é‡Œæˆ‘ç»™çˆ¶å…ƒç´ è®¾ç½®äº†overflow:hiddenå°±è§£å†³äº†ã€‚","categories":[],"tags":[{"name":"css","slug":"css","permalink":"https://gitee.com/shimmer612/myBlog/tags/css/"}]},{"title":"react ä¸­ä½¿ç”¨Swiperè½®æ’­å›¾æ’ä»¶","slug":"2021-03-08-react-ä¸­ä½¿ç”¨Swiperè½®æ’­å›¾æ’ä»¶","date":"2021-03-07T16:00:00.000Z","updated":"2021-03-09T05:15:36.072Z","comments":true,"path":"2021/03/08/2021-03-08-react-ä¸­ä½¿ç”¨Swiperè½®æ’­å›¾æ’ä»¶/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/08/2021-03-08-react-%E4%B8%AD%E4%BD%BF%E7%94%A8Swiper%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%8F%92%E4%BB%B6/","excerpt":"","text":"ç¬¬ä¸€æ­¥ã€å®‰è£…1npm i swiper ç¬¬äºŒæ­¥ã€ä½¿ç”¨12345678910111213141516171819import &#123; Swiper, SwiperSlide &#125; from &#x27;swiper/react&#x27;;//æ ¹æ®è‡ªå·±çš„éœ€è¦å¼•ç”¨æ ·å¼import &#x27;swiper/swiper.less&#x27;;export default () =&gt; &#123; return ( &lt;Swiper spaceBetween=&#123;50&#125; slidesPerView=&#123;3&#125; onSlideChange=&#123;() =&gt; console.log(&#x27;slide change&#x27;)&#125; onSwiper=&#123;(swiper) =&gt; console.log(swiper)&#125; &gt; &lt;SwiperSlide&gt;Slide 1&lt;/SwiperSlide&gt; &lt;SwiperSlide&gt;Slide 2&lt;/SwiperSlide&gt; &lt;SwiperSlide&gt;Slide 3&lt;/SwiperSlide&gt; &lt;SwiperSlide&gt;Slide 4&lt;/SwiperSlide&gt; &lt;/Swiper&gt; );&#125;; åˆ°è¿™ä¸€ä¸ªè½®æ’­å›¾å°±å·²ç»å®ç°äº†ï¼Œä½†æ˜¯åªæ˜¯è½®æ’­å›¾æ²¡æœ‰åˆ«çš„ä¸œè¥¿ï¼Œæ¯”å¦‚å·¦å³çš„æŒ‰é’®ã€‚è¿™äº›éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ·»åŠ ã€‚ ç¬¬ä¸‰æ­¥ã€æ·»åŠ åŠŸèƒ½ï¼ˆä¾‹ï¼šnavigationæŒ‰é’®ï¼‰1234567891011121314//å¼•å…¥æ‰€éœ€åŠŸèƒ½å’Œæ ·å¼æ–‡ä»¶import SwiperCore, &#123; Navigation &#125; from &quot;swiper&quot;;import &quot;swiper/components/navigation/navigation.less&quot;;//ä½¿ç”¨SwiperCore.use([Navigation]);// ç»„ä»¶ä¸Šæ·»åŠ å±æ€§ &lt;Swiper spaceBetween=&#123;50&#125; slidesPerView=&#123;1&#125; navigation style=&#123;&#123; padding: &quot;24px&quot; &#125;&#125; &gt; ä»¥ä¸Šå°±æ˜¯åœ¨reactä¸­ä½¿ç”¨swiperæ’ä»¶ã€‚","categories":[],"tags":[{"name":"React","slug":"React","permalink":"https://gitee.com/shimmer612/myBlog/tags/React/"},{"name":"swiper","slug":"swiper","permalink":"https://gitee.com/shimmer612/myBlog/tags/swiper/"}]},{"title":"react hookså­¦ä¹ ","slug":"react hookså­¦ä¹ ","date":"2021-03-04T16:00:00.000Z","updated":"2021-03-23T07:16:48.075Z","comments":true,"path":"2021/03/05/react hookså­¦ä¹ /","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/05/react%20hooks%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"react hookså­¦ä¹ 01ã€ä»€ä¹ˆæ˜¯react hooksreact hookså°±æ˜¯reactæä¾›çš„å†…ç½®å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯ä»¥è®©ï¼Œå‡½æ•°å¼ç»„ä»¶å’Œç±»ç»„ä»¶ä¸€æ ·æ‹¥æœ‰ç»„ä»¶çŠ¶æ€å’Œå‰¯ä½œç”¨ã€‚ ä»€ä¹ˆæ˜¯çŠ¶æ€ï¼Ÿ Reactä¸­çš„æ”¾æ•°æ®çš„åœ°æ–¹ã€‚ ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨ï¼Ÿ åœ¨ React ç»„ä»¶ä¸­æ‰§è¡Œæ•°æ®è·å–ã€è®¢é˜…æˆ–è€…æ‰‹åŠ¨ä¿®æ”¹ DOMï¼Œæˆ‘ä»¬ç»Ÿä¸€æŠŠè¿™äº›æ“ä½œç§°ä¸ºâ€œå‰¯ä½œç”¨â€ 02ã€useStateuseState å°±ç±»ä¼¼äºç±»ç»„ä»¶ä¸­çš„this.state useStateçš„ç”¨æ³• 12345678910111213141516171819202122import React from &#x27;react&#x27;;import ReactDOM from &#x27;react-dom&#x27;;import &#123;useState , useEffect&#125; from &#x27;react&#x27;import &#x27;./index.css&#x27;;const Main =function() &#123; const [count, setCount] = useState(0);return( &lt;div&gt; &lt;h1 onClick=&#123;()=&gt;&#123;setCount(count+2)&#125;&#125;&gt;å½“å‰çš„æ•°ä¸ºï¼š&#123;count&#125;&lt;/h1&gt; &lt;/div&gt;)&#125;ReactDOM.render( &lt;Main /&gt;, document.getEementById(&#x27;root&#x27;)); 03ã€useEffectuseEffectå°±ç›¸å½“äºç”Ÿå‘½å‘¨æœŸçš„componentDidMountå’ŒcomponentDidUPdate ä½¿ç”¨æ–¹æ³• 12345678910111213141516171819202122232425262728293031import React from &#x27;react&#x27;;import ReactDOM from &#x27;react-dom&#x27;;import &#123;useState , useEffect&#125; from &#x27;react&#x27;import &#x27;./index.css&#x27;;const Main =function() &#123; const [count, setCount] = useState(0); // ç›¸å½“äºcomponentDidMountå’ŒcomponentDidUpdate //è¦åŠ ç¬¬äºŒä¸ªå‚æ•°ç©ºæ•°ç»„ï¼Œä¸ç„¶ä¼šä¸€ç›´è°ƒç”¨ useEffect(() =&gt; &#123; // æ‰“å°ç‚¹å‡»çš„æ¬¡æ•° console.log( `You clicked $&#123;count/2&#125; times`) &#125;,[])return( &lt;div&gt; &lt;h1 onClick=&#123;()=&gt;&#123;setCount(count+2)&#125;&#125;&gt;å½“å‰çš„æ•°ä¸ºï¼š&#123;count&#125;&lt;/h1&gt; &lt;/div&gt;)&#125;ReactDOM.render( &lt;Main /&gt;, document.getElementById(&#x27;root&#x27;));","categories":[],"tags":[{"name":"React","slug":"React","permalink":"https://gitee.com/shimmer612/myBlog/tags/React/"}]},{"title":"javascriptå¸¸ç”¨æ•°ç»„æ–¹æ³•çš„å¤ä¹ ","slug":"2021-03-04-javascriptå¸¸ç”¨æ•°ç»„æ–¹æ³•çš„å¤ä¹ ","date":"2021-03-03T16:00:00.000Z","updated":"2021-03-04T04:00:22.334Z","comments":true,"path":"2021/03/04/2021-03-04-javascriptå¸¸ç”¨æ•°ç»„æ–¹æ³•çš„å¤ä¹ /","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/04/2021-03-04-javascript%E5%B8%B8%E7%94%A8%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E7%9A%84%E5%A4%8D%E4%B9%A0/","excerpt":"","text":"åˆ†æé¡¹ç›®ä»£ç ç»å¸¸ä¼šçœ‹åˆ°ä¸€äº›æ•°ç»„æ–¹æ³•ï¼Œsome,sliceç­‰ç­‰ã€‚æ¦‚å¿µéƒ½æ¨¡ç³Šä¸æ¸…ï¼Œæ„Ÿè§‰çŸ¥é“åˆæ„Ÿè§‰ä¸çŸ¥é“ã€‚è¿˜æ˜¯è¦åˆ°W3Cä¸Šå»æŸ¥ä¸€ä¸‹ç”¨æ³•ã€‚ æ‰€ä»¥è¿™æ¬¡æŠŠä¸€äº›å¸¸ç”¨çš„æ•°ç»„æ–¹æ³•æ•´ç†ä¸€ä¸‹ï¼Œç”¨æ¥å·©å›ºå¤ä¹  forEach()forEach() å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹è¿›è¡Œæ“ä½œ callback å‡½æ•°æ¥æ”¶3ä¸ªå€¼ï¼Œitemæ•°ç»„é¡¹ï¼Œindexå…ƒç´ ä¸‹æ ‡ï¼Œarræ•°ç»„æœ¬èº« è¿”å›å€¼undefined 1234567let arr = [1,2,3,4,5,6]let arr1 = []arr.forEach(item=&gt;&#123; arr1.push(item*2) &#125;)console.log(arr1); //[ 2, 4, 6, 8, 10, 12 ] filter()filter() è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒ…å«å¤åˆè¦æ±‚çš„æ‰€æœ‰å…ƒç´  callback å‡½æ•°æ¥æ”¶3ä¸ªå€¼ï¼Œitemæ•°ç»„é¡¹ï¼Œindexå…ƒç´ ä¸‹æ ‡ï¼Œarræ•°ç»„æœ¬èº« è¿”å›å€¼ï¼šå¤åˆè¦æ±‚çš„æ–°æ•°ç»„ 123let arr = [1,2,3,4,5,6]let arr1 = arr.filter(item=&gt;item&gt;=3)console.log(arr1); //[ 3, 4, 5, 6 ] map()map() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ç»“æœæ˜¯è¯¥æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ˜¯è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ callback å‡½æ•°æ¥æ”¶3ä¸ªå€¼ï¼Œitemæ•°ç»„é¡¹ï¼Œindexå…ƒç´ ä¸‹æ ‡ï¼Œarræ•°ç»„æœ¬èº« è¿”å›å€¼ï¼šåŸæ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå›è°ƒå‡½æ•°çš„ç»“æœç»„æˆçš„æ–°æ•°ç»„ã€‚ 12345let arr = [1,2,3,4,5,6]let arr1 = arr.map(item=&gt;item*2)let arr2 = arr.map(item=&gt;item&gt;3)console.log(arr1); //[ 2, 4, 6, 8, 10, 12 ]console.log(arr2);//[ false, false, false, true, true, true ] slice()slice() æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡æ˜¯ä¸€ä¸ªç”± begin å’Œ end å†³å®šçš„åŸæ•°ç»„çš„æµ…æ‹·è´ï¼ˆåŒ…æ‹¬ beginï¼Œä¸åŒ…æ‹¬endï¼‰ã€‚åŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚ **begin å¯é€‰** æå–èµ·å§‹å¤„çš„ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œä»è¯¥ç´¢å¼•å¼€å§‹æå–åŸæ•°ç»„å…ƒç´ ã€‚ å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¡¨ç¤ºä»åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬å‡ ä¸ªå…ƒç´ å¼€å§‹æå–ï¼Œslice(-2) è¡¨ç¤ºæå–åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆåŒ…å«æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ã€‚ å¦‚æœçœç•¥ beginï¼Œåˆ™ slice ä»ç´¢å¼• 0 å¼€å§‹ã€‚ å¦‚æœ begin è¶…å‡ºåŸæ•°ç»„çš„ç´¢å¼•èŒƒå›´ï¼Œåˆ™ä¼šè¿”å›ç©ºæ•°ç»„ã€‚ end å¯é€‰ æå–ç»ˆæ­¢å¤„çš„ç´¢å¼•ï¼ˆä» 0 å¼€å§‹ï¼‰ï¼Œåœ¨è¯¥ç´¢å¼•å¤„ç»“æŸæå–åŸæ•°ç»„å…ƒç´ ã€‚slice ä¼šæå–åŸæ•°ç»„ä¸­ç´¢å¼•ä» begin åˆ° end çš„æ‰€æœ‰å…ƒç´ ï¼ˆåŒ…å« beginï¼Œä½†ä¸åŒ…å« endï¼‰ å¦‚æœè¯¥å‚æ•°ä¸ºè´Ÿæ•°ï¼Œ åˆ™å®ƒè¡¨ç¤ºåœ¨åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬å‡ ä¸ªå…ƒç´ ç»“æŸæŠ½å–ã€‚ slice(-2,-1) è¡¨ç¤ºæŠ½å–äº†åŸæ•°ç»„ä¸­çš„å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼ˆä¸åŒ…å«æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯åªæœ‰å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼‰ã€‚ å¦‚æœ end è¢«çœç•¥ï¼Œåˆ™ slice ä¼šä¸€ç›´æå–åˆ°åŸæ•°ç»„æœ«å°¾ã€‚ å¦‚æœ end å¤§äºæ•°ç»„çš„é•¿åº¦ï¼Œslice ä¹Ÿä¼šä¸€ç›´æå–åˆ°åŸæ•°ç»„æœ«å°¾ã€‚ è¿”å›å€¼ï¼šä¸€ä¸ªå«æœ‰è¢«æå–å…ƒç´ çš„æ–°æ•°ç»„ã€‚ 12345let arr = [1,2,3,4,5,6]let arr1 = arr.slice(2,4)let arr2 = arr.slice()console.log(arr1);//[ 3, 4 ]console.log(arr2);//[ 1, 2, 3, 4, 5, 6 ] find()find()æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› [undefined] callback å‡½æ•°æ¥æ”¶3ä¸ªå€¼ï¼Œitemæ•°ç»„é¡¹ï¼Œindexå…ƒç´ ä¸‹æ ‡ï¼Œarræ•°ç»„æœ¬èº« æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³æ‰€æä¾›æµ‹è¯•å‡½æ•°çš„å…ƒç´ çš„å€¼ï¼Œå¦åˆ™è¿”å› [undefined] 123let arr = [1,2,3,4,5,6]let arr1 = arr.find(item=&gt;item&gt;4)console.log(arr1); //5 sort()sort()å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œå¹¶è¿”å›æ•°ç»„ å¦‚æœçœç•¥ï¼Œå…ƒç´ æŒ‰ç…§è½¬æ¢ä¸ºçš„å­—ç¬¦ä¸²çš„å„ä¸ªå­—ç¬¦çš„Unicodeä½ç‚¹è¿›è¡Œæ’åºã€‚ 12345678910111213141516171819let arr = [5,4,3,2,1]let arr1 = arr.sort()console.log(arr1); //[ 1, 2, 3, 4, 5 ]let arr = [3,1,4,2,5,8,6,7]let arr3 = [3,1,4,2,5,8,6,7]let arr1 = arr.sort((a, b) =&gt; &#123; return a-b&#125;)console.log(arr1); //[ 1, 2, 3, 4, 5, 6, 7, 8 ]let arr2 = arr3.sort((a, b) =&gt; &#123; return b-a&#125;)console.log(arr2); //[ 8, 7, 6, 5, 4, 3, 2, 1 ] some()some() æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­æ˜¯ä¸æ˜¯è‡³å°‘æœ‰1ä¸ªå…ƒç´ é€šè¿‡äº†è¢«æä¾›çš„å‡½æ•°æµ‹è¯•ã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªBooleanç±»å‹çš„å€¼ã€‚ æ³¨æ„ï¼šå¦‚æœç”¨ä¸€ä¸ªç©ºæ•°ç»„è¿›è¡Œæµ‹è¯•ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹å®ƒè¿”å›çš„éƒ½æ˜¯falseã€‚ callback å‡½æ•°æ¥æ”¶3ä¸ªå€¼ï¼Œitemæ•°ç»„é¡¹ï¼Œindexå…ƒç´ ä¸‹æ ‡ï¼Œarræ•°ç»„æœ¬èº« è¿”å›å€¼ï¼š æ•°ç»„ä¸­æœ‰è‡³å°‘ä¸€ä¸ªå…ƒç´ é€šè¿‡å›è°ƒå‡½æ•°çš„æµ‹è¯•å°±ä¼šè¿”å›trueï¼›æ‰€æœ‰å…ƒç´ éƒ½æ²¡æœ‰é€šè¿‡å›è°ƒå‡½æ•°çš„æµ‹è¯•è¿”å›å€¼æ‰ä¼šä¸ºfalseã€‚ 123456let arr = [1, 2, 3, 4, 5, 6]const aa = arr.some(item =&gt; item &gt; 5)const bb = arr.some(item =&gt; item &gt; 7)console.log(aa);//trueconsole.log(bb); //false every()every()æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŸä¸ªæŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ æ³¨æ„ï¼šè‹¥æ”¶åˆ°ä¸€ä¸ªç©ºæ•°ç»„ï¼Œæ­¤æ–¹æ³•åœ¨ä¸€åˆ‡æƒ…å†µä¸‹éƒ½ä¼šè¿”å› trueã€‚ callback å‡½æ•°æ¥æ”¶3ä¸ªå€¼ï¼Œitemæ•°ç»„é¡¹ï¼Œindexå…ƒç´ ä¸‹æ ‡ï¼Œarræ•°ç»„æœ¬èº« è¿”å›å€¼ï¼šå¦‚æœå›è°ƒå‡½æ•°çš„æ¯ä¸€æ¬¡è¿”å›éƒ½ä¸ºtrueï¼Œè¿”å› true ï¼Œå¦åˆ™è¿”å› falseã€‚ 123456let arr = [2, 5, 6, 7, 8, 9]const aa = arr.every(item =&gt; item &gt; 3)const bb = arr.every(item =&gt; item &gt; 1)console.log(aa); //fasleconsole.log(bb); //true å·®ä¸å¤šå°±æ˜¯è¿™äº›å¸¸ç”¨çš„ã€‚","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"}]},{"title":"æ‰©å±•è¿ç®—ç¬¦(...)çš„å¤ä¹ ","slug":"2021-03-04-æ‰©å±•è¿ç®—ç¬¦(...)çš„å¤ä¹ ","date":"2021-03-03T16:00:00.000Z","updated":"2021-03-04T01:39:59.558Z","comments":true,"path":"2021/03/04/2021-03-04-æ‰©å±•è¿ç®—ç¬¦(...)çš„å¤ä¹ /","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/04/2021-03-04-%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6(...)%E7%9A%84%E5%A4%8D%E4%B9%A0/","excerpt":"","text":"æœ€è¿‘çœ‹é¡¹ç›®ä»£ç ï¼Œç»å¸¸çœ‹åˆ°å‡½æ•°é‡Œè¿ç”¨æ‰©å±•è¿ç®—ç¬¦ã€‚æ€»æ˜¯æ¨¡æ¨¡ç³Šç³Šçš„ï¼Œçœ‹æ˜ç™½åˆå¥½åƒæ²¡æœ‰æ˜ç™½çš„æ„Ÿè§‰ã€‚ åƒä¸‹é¢è¿™æ · 1234567891011121314151617181920212223 setCacheComponents([ ...cacheComponentsClone, &#123; ...currentPane, name: name || obj.item.props.children[1] // å¦‚æœè°ƒç”¨addtabæ—¶ä¼ å…¥äº†nameåˆ™ä½¿ç”¨æ­¤name &#125; ]);//------------------------------------------------------------------------------------------ return &#123; ...state, tableData: [ ...state.tableData, &#123; params: &#123; ...payload.params, page: payload.page || 1, pageSize: payload.pageSize || 10 &#125;, tableKey: payload.tableKey, loading: true &#125; ] &#125; å°±æ•´ç†äº†ä¸€ä¸‹æ‰©å±•è¿ç®—ç¬¦çš„ç”¨æ³•ã€‚ 1234567891011121314151617181920212223242526272829// æµ…æ‹·è´const obj = &#123; name: &quot;å¼ ä¸‰&quot;, age: &quot;20&quot;, sex: &quot;ç”·&quot;, hobby:&#123; play: &quot;ball&quot;, &#125;&#125;const newObj = &#123; ...obj&#125;console.log(newObj);//&#123; name: &#x27;å¼ ä¸‰&#x27;, age: &#x27;20&#x27;, sex: &#x27;ç”·&#x27;, hobby: &#123; play: &#x27;ball&#x27; &#125; &#125;// è¿æ¥æ•°ç»„const arr = [1,2,3]const arr1 = [4,5,6]const newArr = [...arr,...arr1]console.log(newArr); //[ 1, 2, 3, 4, 5, 6 ]// å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„const str = &#x27;abcdefg&#x27; const newStr = [...str]console.log(newStr); //[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;,&#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;,&#x27;g&#x27;]// è§£æ„èµ‹å€¼ æ•°ç»„å¯¹è±¡éƒ½å¯ä»¥const aa = [1,2,3]const bb = [...aa,4,5,6]console.log(bb); //[ 1, 2, 3, 4, 5, 6 ] é¡¹ç›®é‡Œå¸¸ç”¨çš„å°±æ˜¯åœ¨å‡½æ•°é‡Œï¼Œç”¨æ¥è§£æ„èµ‹å€¼çš„æ¯”è¾ƒå¤š","categories":[],"tags":[{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"}]},{"title":"ä¸€äº›å°è®°å½•","slug":"å°è®°","date":"2021-03-02T16:00:00.000Z","updated":"2021-03-03T08:17:17.395Z","comments":true,"path":"2021/03/03/å°è®°/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/03/%E5%B0%8F%E8%AE%B0/","excerpt":"","text":"å¼€å‘ä¸­å†™æ ·å¼lessä¸­ï¼Œæœ€å¤–å±‚å–ä¸€ä¸ªä¸æ˜“é‡çš„ç±»åï¼Œå…¶ä½™å­å…ƒç´ ç±»åå†™åœ¨é‡Œé¢ å°½é‡ä¸è¦å†™åˆ°marginè´Ÿå€¼ æ ·å¼éµå¾ªè®¾è®¡å›¾ å›¾ç‰‡åç§°èµ·ç›¸å…³è‹±æ–‡å flexå¸ƒå±€å¤šä½¿ç”¨space-aroundåšåˆ†å‰²ï¼Œé™¤éå¿…é¡»ç”¨space-between ç±»åè¿‡é•¿ç”¨xx-xxè¿™æ ·å†™ é¡µé¢èµ·åå¤§é©¼å³°æ¯”å¦‚ChargeManage","categories":[],"tags":[{"name":"tips","slug":"tips","permalink":"https://gitee.com/shimmer612/myBlog/tags/tips/"}]},{"title":"Reacté¡¹ç›®(UmiJS)ä¸­ä½¿ç”¨é«˜å¾·åœ°å›¾","slug":"2021-03-02-Reacté¡¹ç›®(UmiJS)ä¸­ä½¿ç”¨é«˜å¾·åœ°å›¾","date":"2021-03-01T16:00:00.000Z","updated":"2021-03-02T01:21:36.707Z","comments":true,"path":"2021/03/02/2021-03-02-Reacté¡¹ç›®(UmiJS)ä¸­ä½¿ç”¨é«˜å¾·åœ°å›¾/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/03/02/2021-03-02-React%E9%A1%B9%E7%9B%AE(UmiJS)%E4%B8%AD%E4%BD%BF%E7%94%A8%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE/","excerpt":"","text":"React AMapè¿™æ˜¯ä¸€ä¸ªåŸºäº React å°è£…çš„é«˜å¾·åœ°å›¾ç»„ä»¶. æ–‡æ¡£åœ°å€ https://uiw.gitee.io/react-amap/#/ 01ã€å®‰è£…npm install @uiw/react-amap --save 02ã€ä½¿ç”¨åœ¨æ–‡æ¡£å·¦ä¾§æ‰¾åˆ°éœ€è¦ä½¿ç”¨çš„ä¾‹å­ã€‚åœ¨å³ä¾§ç›´æ¥å¤åˆ¶å¯¹åº”ä»£ç ã€‚æŒ‰éœ€è¿›è¡Œä¿®æ”¹ã€‚ 03ã€ä¾‹å­ï¼ˆè´å¡å°”æ›²çº¿çš„ä½¿ç”¨ï¼‰123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import React, &#123; useState &#125; from &quot;react&quot;;import &#123; Map, APILoader, BezierCurve &#125; from &quot;@uiw/react-amap&quot;;const CarLine = () =&gt; &#123; const [show] = useState(true); const path = [// æ¯ä¸ªå¼§çº¿æ®µæœ‰ä¸¤ç§æè¿°æ–¹å¼ [116.39, 39.91, 116.37, 39.91],// èµ·ç‚¹ // ç¬¬ä¸€æ®µå¼§çº¿ [116.380298, 39.907771, 116.38, 39.90],// æ§åˆ¶ç‚¹ï¼Œé€”ç»ç‚¹ // ç¬¬äºŒæ®µå¼§çº¿ [116.385298, 39.907771, 116.40, 39.90],// æ§åˆ¶ç‚¹ï¼Œé€”ç»ç‚¹// å¼§çº¿æ®µæœ‰ä¸¤ç§æè¿°æ–¹å¼1 // ç¬¬ä¸‰æ®µå¼§çº¿ [// å¼§çº¿æ®µæœ‰ä¸¤ç§æè¿°æ–¹å¼2 [116.392872, 39.887391],// æ§åˆ¶ç‚¹ [116.40772, 39.909252],// æ§åˆ¶ç‚¹ [116.41, 39.89]// é€”ç»ç‚¹ ], // ç¬¬å››æ®µå¼§çº¿ [116.423857, 39.889498, 116.422312, 39.899639, 116.425273, 39.902273] // æ§åˆ¶ç‚¹ï¼Œæ§åˆ¶ç‚¹ï¼Œé€”ç»ç‚¹ï¼Œæ¯æ®µæœ€å¤šä¸¤ä¸ªæ§åˆ¶ç‚¹ ]; const handleParams = (values) =&gt; &#123; return values &#125; return ( &lt;&gt; &lt;APILoader akay=&quot;a7a90e05a37d3f6bf76d4a9032fc9129&quot;&gt; &lt;div style=&#123;&#123; width: &quot;100%&quot;, height: &quot;600px&quot; &#125;&#125; &gt; &lt;Map zoom=&#123;14&#125; center=&#123;[116.397637, 39.900001]&#125;&gt; &lt;BezierCurve visiable=&#123;show&#125; path=&#123;path&#125; isOutline=&#123;true&#125; outlineColor=&quot;&quot; borderWeight=&#123;3&#125; strokeColor=&quot;red&quot; strokeOpacity=&#123;1&#125; strokeWeight=&#123;6&#125; // çº¿æ ·å¼è¿˜æ”¯æŒ &#x27;dashed&#x27; strokeStyle=&quot;solid&quot; // strokeStyleæ˜¯dashedæ—¶æœ‰æ•ˆ strokeDasharray=&#123;[10, 10]&#125; lineJoin=&quot;round&quot; lineCap=&quot;round&quot; zIndex=&#123;50&#125; /&gt; &lt;/Map&gt; &lt;/div&gt; &lt;/APILoader&gt; &lt;/&gt; );&#125;export default CarLine","categories":[],"tags":[{"name":"React UmiJS","slug":"React-UmiJS","permalink":"https://gitee.com/shimmer612/myBlog/tags/React-UmiJS/"}]},{"title":"å¯¹Ant-Design Tableç»„ä»¶è¿›è¡Œå°è£…","slug":"2021-02-26-å¯¹Ant-Design-Tableç»„ä»¶è¿›è¡Œå°è£…","date":"2021-02-25T16:00:00.000Z","updated":"2021-03-09T05:15:22.392Z","comments":true,"path":"2021/02/26/2021-02-26-å¯¹Ant-Design-Tableç»„ä»¶è¿›è¡Œå°è£…/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/02/26/2021-02-26-%E5%AF%B9Ant-Design-Table%E7%BB%84%E4%BB%B6%E8%BF%9B%E8%A1%8C%E5%B0%81%E8%A3%85/","excerpt":"","text":"Tableç»„ä»¶å°è£…é¡µé¢, dataSourceé€šè¿‡Modalä¸­çš„è·å–çš„æ•°æ®ä¼ è¿‡æ¥ï¼Œä¸»è¦å¯¹columnsè¿›è¡Œå°è£…ã€‚æŠŠä¸€äº›å¸¸ç”¨çš„å±æ€§ç»™æš´éœ²å‡ºæ¥ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122import &#123; connect &#125; from &quot;umi&quot;;import &#123; Spin, Table, Space, Popconfirm, Tooltip &#125; from &quot;antd&quot;;import CommonPagination from &quot;@/components/CommonPagination&quot;;import moment from &quot;moment&quot;;import &#123; formatNum &#125; from &quot;@/utils/utils&quot;const SearchForm = (&#123; tableConfig, tableData &#125;) =&gt; &#123; const tableItem = tableData.find((item) =&gt; item.tableKey === tableConfig.tableKey) || &#123;&#125;; const &#123; loading &#125; = tableItem; // æ ¹æ®tablekeyå–åˆ°å¯¹åº”è¯·æ±‚çš„loadingçŠ¶æ€ const dataSource = tableItem.data || []; const columns = tableConfig.columns.map(item =&gt; &#123; if (item.actionMap) &#123; item = &#123; ...item, render(res) &#123; // ç”Ÿæˆactionåˆ—è¡¨ const actionList = (item.actionMap || []).map((action, index) =&gt; &#123; switch (action.type) &#123; case &quot;href&quot;: if (action.render) &#123; return &lt;div key=&#123;index&#125; onClick=&#123;() =&gt; &#123; if (action.onClick) &#123; action.onClick(res) &#125; &#125;&#125;&gt;&#123;action.render(res)&#125;&lt;/div&gt; &#125; return &lt;a key=&#123;index&#125; onClick=&#123;() =&gt; &#123; if (action.onClick) &#123; action.onClick(res) &#125; &#125;&#125;&gt;&#123;action.text&#125;&lt;/a&gt; case &quot;confirm&quot;: return &lt;Popconfirm key=&#123;index&#125; title=&#123;&lt;div&gt;ç¡®è®¤è¦æ‰§è¡Œ&#123;action.text ? &lt;a href=&quot;#&quot;&gt;&#123;action.text&#125;&lt;/a&gt; : action.render(res)&#125;æ“ä½œå—ï¼Ÿ&lt;/div&gt;&#125; onConfirm=&#123;() =&gt; &#123; if (action.onConfirm) &#123; action.onConfirm(res) &#125; &#125;&#125; onCancel=&#123;() =&gt; &#123; if (action.onCancel) &#123; action.onCancel(res) &#125; &#125;&#125; okText=&quot;ç¡®è®¤&quot; cancelText=&quot;å–æ¶ˆ&quot; &gt; &#123;action.text ? &lt;a href=&quot;#&quot;&gt;&#123;action.text&#125;&lt;/a&gt; : action.render(res)&#125; &lt;/Popconfirm&gt; default: return &lt;span key=&#123;index&#125;&gt;æœªçŸ¥ç±»å‹ï¼Œè¯·æ£€æŸ¥&lt;/span&gt; &#125; &#125;); return &lt;Space size=&quot;middle&quot;&gt; &#123; actionList.map(action =&gt; action) &#125; &lt;/Space&gt; &#125; &#125; &#125; else if (item.numFormat) &#123; item = &#123; ...item, render(res) &#123; return formatNum(res, ...item.numFormat); &#125; &#125; &#125; else if (item.timeFormat) &#123; item = &#123; ...item, render(res) &#123; return res ? moment(res).format(item.timeFormat) : &quot;--&quot; &#125; &#125; &#125; else if (item.tipCol) &#123; const render = item.render; item = &#123; ...item, ellipsis: &#123; show: false &#125;, render(res) &#123; if (item.tipCol === false) &#123; return res &#125; if (item.tipCol === true) &#123; return ( &lt;Tooltip placement=&quot;topLeft&quot; title=&#123;render ? render(res) : res&#125;&gt; &lt;span&gt;&#123;render ? render(res) : res&#125;&lt;/span&gt; &lt;/Tooltip&gt; ) &#125; &#125; &#125; &#125; return item; &#125;) return ( &lt;Spin spinning=&#123;loading === true&#125;&gt; &lt;div style=&#123;&#123; marginTop: 24, padding: 24, background: &quot;#fff&quot; &#125;&#125;&gt; &lt;Table pagination=&#123;false&#125; columns=&#123;columns&#125; dataSource=&#123;dataSource || []&#125; scroll=&#123;&#123; x: &quot;max-content&quot; &#125;&#125; bordered /&gt; &lt;CommonPagination tableKey=&#123;tableConfig.tableKey&#125; /&gt; &lt;/div&gt; &lt;/Spin&gt; );&#125;;export default connect((&#123; global &#125;) =&gt; (&#123; tableData: global.tableData || [],&#125;))(SearchForm); åˆ†é¡µå°è£…é¡µé¢ æ ¹æ®modalä¼ è¿‡æ¥çš„æ•°æ®è¿›è¡Œå‰å°åˆ†é¡µã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import &#123; connect &#125; from &quot;umi&quot;;import &#123; Pagination &#125; from &quot;antd&quot;;const styles = &#123; display: &quot;flex&quot;, justifyContent: &quot;flex-end&quot;, alignItems: &quot;center&quot;, backgroundColor: &quot;#fff&quot;, height: &quot;60px&quot;&#125;const CommonPagination = (props) =&gt; &#123; const &#123; dispatch, tableData, tableKey &#125; = props; const &#123; page: pageData, params &#125; = tableData.find(item =&gt; item.tableKey === tableKey) || &#123;&#125;; // åˆ†é¡µå˜åŒ– const pageChange = (page) =&gt; &#123; dispatch(&#123; type: &quot;global/getTableData&quot;, payload: &#123; tableKey, params: &#123; page, &#125; &#125;, &#125;); &#125;; return ( &lt;div style=&#123;styles&#125;&gt; &#123;pageData &amp;&amp; ( &lt;Pagination total=&#123;pageData.total&#125; showTotal=&#123;() =&gt; `å…±è®¡ $&#123;pageData.total&#125; ä¸ª`&#125; defaultCurrent=&#123;1&#125; showSizeChanger=&#123;false&#125; onChange=&#123;pageChange&#125; current=&#123;params.page&#125; /&gt; )&#125; &lt;/div&gt; );&#125;;export default connect((&#123;global &#125;) =&gt; (&#123; tableData: global.tableData || [],&#125;))(CommonPagination); ä½¿ç”¨ ### CommonTableï¼ˆé€šç”¨è¡¨æ ¼ï¼‰ å¿…ä¼ å‚æ•°tableConfig 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495tableConfig=&#123; tableKey:&#x27;tableKey&#x27;, // å¿…ä¼  columns:[ // å¿…ä¼  &#123; title: &quot;Age&quot;, key: &quot;age&quot;, width: 100, numFormat:[1,true] &#125;, &#123; title: &quot;Time&quot;, width: 150, key: &quot;time&quot;, timeFormat: &quot;YYYY-MM-DD HH:mm:ss&quot; &#125;, &#123; title: &quot;Action&quot;, width: 200, actionMap:[ &#123; type: &quot;href&quot;, text: &quot;123&quot;, onClick(res) &#123; console.log(&quot;123&quot;,res); &#125;, render(res)&#123; return &lt;span&gt;&#123;res.name&#125;&lt;/span&gt; &#125; &#125;, &#123; type: &quot;confirm&quot;, onConfirm() &#123; console.log(&quot;onOk&quot;); &#125;, onCancel() &#123; console.log(&quot;onCancel&quot;); &#125;, text: &quot;åˆ é™¤&quot;, render(res)&#123; return &lt;a&gt;&#123;res.name&#125;&lt;/a&gt; &#125; &#125;, ], &#125; ], config:&#123;&#125; // tableçš„é…ç½®ï¼Œä¸å®˜æ–¹æ–‡æ¡£ä¸€è‡´&#125;&lt;CommonTable tableConfig=&#123;tableConfig&#125; /&gt; å…¶ä¸­columnsä¸å®˜æ–¹æ–‡æ¡£é…ç½®ä¸€è‡´ï¼Œå½“æœ‰å¦‚ä¸‹å‚æ•°æ—¶ä¼šè¿›è¡Œç‰¹æ®Šå¤„ç†ï¼š tipCol (æ–‡å­—è¿‡é•¿çœç•¥,Tooltipä¸Šæ–¹æç¤º) 12345678910111213141516171819columns: [ &#123; title: &quot;Address&quot;, dataIndex: &quot;address&quot;, width: 150, key: &quot;address&quot;, tipCol: true, &#125;,] trueæ—¶å¼€å¯falseå…³é—­ numFormatï¼ˆæ—¶é—´æ ¼å¼åŒ–ï¼‰ 1234567891011121314151617columns: [ &#123; title: &quot;Age&quot;, key: &quot;age&quot;, width: 100, numFormat:[1,true] &#125;] numFormat[ä¿ç•™å‡ ä½å°æ•°ï¼Œæ˜¯å¦è¿›è¡Œåƒåˆ†ä½æ ¼å¼åŒ–]ï¼ŒnumFormat[2,true]æ•ˆæœ1234.567=&gt;1,234.57 timeFormatï¼ˆæ—¥æœŸæ ¼å¼åŒ–ï¼‰ 1234567891011121314151617columns: [ &#123; title: &quot;Time&quot;, width: 150, key: &quot;time&quot;, timeFormat: &quot;YYYY-MM-DD HH:mm:ss&quot; &#125;,] timeFormat:æ—¶é—´æˆ³æ ¼å¼ï¼Œæ ¼å¼åŒ–ä¸ºæŒ‡å®šæ ¼å¼ actionMapï¼ˆæ“ä½œæ ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859&#123; title: &quot;Action&quot;, width: 200, actionMap:[ &#123; type: &quot;href&quot;, text: &quot;123&quot;, onClick(res) &#123; console.log(&quot;123&quot;,res); &#125;, render(res)&#123; return &lt;span&gt;&#123;res.name&#125;&lt;/span&gt; &#125; &#125;, &#123; type: &quot;confirm&quot;, onConfirm() &#123; console.log(&quot;onOk&quot;); &#125;, onCancel() &#123; console.log(&quot;onCancel&quot;); &#125;, text: &quot;åˆ é™¤&quot;, render(res)&#123; return &lt;a&gt;&#123;res.name&#125;&lt;/a&gt; &#125; &#125;, ],&#125; actionMapçš„typeç”¨äºå†³å®šæ“ä½œç±»å‹ï¼Œå…·ä½“å¦‚ä¸‹ï¼š hrefï¼Œtextå’Œrenderè‡³å°‘æœ‰ä¸€ä¸ªï¼Œrenderä¼˜å…ˆçº§é«˜äºtextã€‚å½“åªæœ‰textå‚æ•°æ—¶ï¼Œç”Ÿæˆç»“æœä¸º&lt;a&gt;&#123;text&#125;&lt;/a&gt;ã€‚å½“æœ‰renderæ—¶ï¼Œç”Ÿæˆç»“æœä¸ºrenderçš„è¿”å›å€¼ã€‚ confirmï¼Œç”¨äºæ“ä½œå‰çš„ç¡®è®¤ã€‚renderä¸textçš„å…³ç³»ä¸hrefä¸€è‡´ã€‚","categories":[],"tags":[{"name":"AntDesign","slug":"AntDesign","permalink":"https://gitee.com/shimmer612/myBlog/tags/AntDesign/"},{"name":"React","slug":"React","permalink":"https://gitee.com/shimmer612/myBlog/tags/React/"}]},{"title":"Vue3.0åˆæ¢","slug":"vue3ç¬”è®°","date":"2021-02-25T16:00:00.000Z","updated":"2021-03-16T02:54:39.632Z","comments":true,"path":"2021/02/26/vue3ç¬”è®°/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/02/26/vue3%E7%AC%94%E8%AE%B0/","excerpt":"","text":"âœ¨ å®˜ç½‘åœ°å€å®˜ç½‘æ–‡æ¡£ï¼šhttps://v3.cn.vuejs.org/ ä¸€ã€vue3å®‰è£…ä¸é¡¹ç›®åˆ›å»ºã€æŒæ¡ã€‘å‚è€ƒåœ°å€ï¼šhttps://www.vue3js.cn/docs/zh/guide/installation.html å‡†å¤‡å·¥ä½œï¼šå‡çº§è„šæ‰‹æ¶å¯¹äº Vue 3ï¼Œä½ åº”è¯¥ä½¿ç”¨ npm ä¸Šå¯ç”¨çš„ Vue CLI v4.5 ä½œä¸º @vue/cli@nextã€‚è¦å‡çº§ï¼Œä½ åº”è¯¥éœ€è¦å…¨å±€é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ @vue/cliï¼š 123yarn global add @vue/cli@next# ORnpm install -g @vue/cli@next ç„¶ååœ¨ Vue é¡¹ç›®è¿è¡Œï¼š 1vue upgrade --next æ–¹å¼1ï¼šä»¥åŸæœ‰vueCliè„šæ‰‹æ¶åˆ›å»ºåˆ›å»ºé¡¹ç›®ï¼š 1vue create demo ç›´æ¥é€‰æ‹© Vue 3 Preview ï¼Œå¹¶å›è½¦ï¼Œä¸è€ƒè™‘eslinté—®é¢˜ã€‚ ç„¶åæ‰§è¡Œï¼š 123456# è¿›å…¥ç›®å½•cd demo# ç”¨vscodeæ‰“å¼€å½“å‰ç›®å½•code .# è¿è¡Œé¡¹ç›®yarn serve æ–¹å¼2ï¼šviteåˆ›å»º12345678910111213npm init vite-app demo# ç›¸å½“äºnpx create-vite-app demo# å®‰è£…åæ‰§è¡Œnpm install# oryarn# è¿è¡Œé¡¹ç›®npm run dev# oryarn dev åˆ›å»ºé¡¹ç›®å¹¶è¿è¡Œï¼Œä¼šå‘ç°æˆ‘ä»¬ npm run dev åæ˜¯ç§’å¼€é¡¹ç›®çš„ï¼Œè¿è¡Œé€Ÿåº¦æå¿«ã€‚ äºŒã€Composition APIï¼ˆç»„åˆå¼APIï¼‰ã€æŒæ¡ã€‘ ç›¸å½“äº React Hooks æˆ‘ä»¬å…ˆä½¿ç”¨ä»¥å‰vue2çš„æ–¹å¼å®ç°ä¸€ä¸ªç´¯åŠ ï¼š 12345678910111213141516171819&lt;template&gt; &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;h2&gt; &lt;button @click&#x3D;&quot;btnClick&quot;&gt;ç´¯åŠ &lt;&#x2F;button&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; data()&#123; return &#123; count: 0 &#125; &#125;, methods: &#123; btnClick()&#123; this.count++; &#125; &#125;&#125;&lt;&#x2F;script&gt; è¿™å¥—ä»£ç å¯ä»¥å®ç°ä¸€ä¸ªç´¯åŠ çš„æ•ˆæœï¼Œä½†å¦‚æœä»¥åæˆ‘ä»¬æƒ³æŠŠè¿™ä¸ªç»„ä»¶ä¸­çš„ count å­—æ®µä¸ btnClick å•ç‹¬æ‹å‡ºæ¥ç®¡ç†ï¼Œé‚£å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œå› ä¸º count å’Œ btnClick ä¸åœ¨åŒä¸€ä¸ªæ–¹æ³•å†…ï¼Œå¾ˆéš¾æŠ½ç¦»ã€‚ 1ã€setupsetupæœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š 1ã€setupå‡½æ•°æ˜¯å¤„äº ç”Ÿå‘½å‘¨æœŸå‡½æ•° beforeCreate å’Œ Created ä¸¤ä¸ªé’©å­å‡½æ•°ä¹‹é—´çš„å‡½æ•° ä¹Ÿå°±è¯´åœ¨ setupå‡½æ•°ä¸­æ˜¯æ— æ³• ä½¿ç”¨ data å’Œ methods ä¸­çš„æ•°æ®å’Œæ–¹æ³•çš„ 2ã€setupå‡½æ•°æ˜¯ Composition APIï¼ˆç»„åˆAPIï¼‰çš„å…¥å£ 3ã€åœ¨setupå‡½æ•°ä¸­å®šä¹‰çš„å˜é‡å’Œæ–¹æ³•æœ€åéƒ½æ˜¯éœ€è¦ return å‡ºå»çš„ ä¸ç„¶æ— æ³•å†æ¨¡æ¿ä¸­ä½¿ç”¨ 4ã€ç”±äºæˆ‘ä»¬ä¸èƒ½åœ¨ setupå‡½æ•°ä¸­ä½¿ç”¨ data å’Œ methodsï¼Œæ‰€ä»¥Vue ä¸ºäº†é¿å…æˆ‘ä»¬é”™è¯¯çš„ä½¿ç”¨ï¼Œç›´æ¥å°† setupå‡½æ•°ä¸­çš„thisä¿®æ”¹æˆäº† undefined 5ã€setupå‡½æ•°åªèƒ½æ˜¯åŒæ­¥çš„ä¸èƒ½æ˜¯å¼‚æ­¥çš„ 2ã€API - refæˆ‘ä»¬å…ˆæ¥ä½“éªŒä¸€ä¸‹vue3æ€ä¹ˆå¤„ç†è¿™ä¸ªç´¯åŠ æ•ˆæœï¼š 123456789101112131415161718192021&lt;template&gt; &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;h2&gt; &lt;button @click&#x3D;&quot;btnClick&quot;&gt;ç´¯åŠ &lt;&#x2F;button&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123;ref&#125; from &#39;vue&#39;export default &#123; data()&#123; return &#123; count: 0 &#125; &#125;, setup()&#123; const count &#x3D; ref(1); &#x2F;&#x2F; æ­¤æ—¶æˆ‘ä»¬ä½¿ç”¨refæŒ‡å®šcountçš„é»˜è®¤å€¼ä¸º1ï¼Œå› æ­¤ä¸Šé¢dataä¸­çš„countä¼šå¤±æ•ˆ let btnClick &#x3D; () &#x3D;&gt; &#123; count.value++; &#x2F;&#x2F; ä¿®æ”¹refä¸­çš„å€¼è¦ç”¨xxx.value &#125; return &#123;count, btnClick&#125; &#125;&#125; æ­¤æ—¶å¦‚æœæˆ‘æƒ³å•ç‹¬ç®¡ç†è¿™ä¸ªç´¯åŠ æ•ˆæœï¼Œæˆ‘å°±å¯ä»¥è¿™ä¹ˆæ“ä½œï¼š 123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;/h2&gt; &lt;button @click=&quot;btnClick&quot;&gt;ç´¯åŠ &lt;/button&gt;&lt;/template&gt;&lt;script&gt;import &#123;ref&#125; from &#x27;vue&#x27;export default &#123; data()&#123; return &#123; // count: 0 // ä¸€æ—¦æŠŠsetupä¸­çš„ä»£ç æŠ½ç¦»ï¼Œreturnä¸­å¯¹åº”çš„å€¼è¦å»æ‰ï¼Œå¦åˆ™refæ— æ•ˆ &#125; &#125;, setup()&#123; // å‡½æ•°è°ƒç”¨åå°±ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥return return clickCountFn() // å¦‚æœåæœŸè¿˜æƒ³åŒæ—¶è¿”å›å…¶ä»–æ•°æ®ï¼Œå¯ä»¥å°†clickCountFn()çš„è¿”å›ç»“æœå±•å¼€ // return &#123;...clickCountFn(), å…¶ä»–æ•°æ®&#125; &#125;&#125;// å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·è¿™å—åŠŸèƒ½æˆ‘ä»¬å°±èƒ½å•ç‹¬ç®¡ç†äº†function clickCountFn()&#123; const count = ref(1); let btnClick = () =&gt; &#123; count.value++; &#125; return &#123;count, btnClick&#125;&#125;&lt;/script&gt; 3ã€API - reactiveå†æ¥äº†è§£å¦ä¸€ä¸ªAPI ï¼š reactiveå‡½æ•°å’Œrefä½œç”¨éå¸¸æ¥è¿‘ï¼Œä½†æ˜¯å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡ä¸­å®šä¹‰å…¶æ–¹æ³•ï¼Œè€Œé€šè¿‡è¿™ä¸ªå½¢å¼ï¼Œå°±ä¸éœ€è¦å†å¯¹å…¶è¿›è¡Œè¿›è¡Œ .value è°ƒç”¨äº†ã€‚ 123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;h2&gt; &lt;button @click&#x3D;&quot;btnClick&quot;&gt;ç´¯åŠ &lt;&#x2F;button&gt; &lt;p&gt;å§“åï¼š&#123;&#123;obj.username&#125;&#125;&lt;&#x2F;p&gt; &lt;button @click&#x3D;&quot;btnClick1&quot;&gt;ä¿®æ”¹å§“å&lt;&#x2F;button&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123;ref, reactive&#125; from &#39;vue&#39;export default &#123; setup()&#123; &#x2F;&#x2F; ä½¿ç”¨reactive let obj &#x3D; reactive(&#123; username: &quot;Jack&quot; &#125;) let btnClick1 &#x3D; () &#x3D;&gt; &#123; obj.username &#x3D; &quot;Mary&quot; &#125; return &#123;...clickCountFn(), obj, btnClick1&#125; &#125;&#125;function clickCountFn()&#123; const count &#x3D; ref(1); let btnClick &#x3D; () &#x3D;&gt; &#123; count.value++; &#125; return &#123;count, btnClick&#125;&#125;&lt;&#x2F;script&gt; ä½¿ç”¨ reactive ç”Ÿæˆçš„å¯¹è±¡ä¸ ref ç”Ÿæˆçš„å€¼éƒ½æ˜¯å“åº”å¼çš„ã€‚ è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨ html ä¸­è°ƒç”¨æ•°æ®æ—¶ï¼Œä½¿ç”¨çš„æ˜¯ obj.username ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥å†™ username å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œä½†è¿™é‡Œéœ€è¦æ³¨æ„ï¼š ç”±äºreactiveè¿”å›çš„å¯¹è±¡æœ¬è´¨ä¸Šå·²ç»æ˜¯ä¸€ä¸ªProxyå¯¹è±¡ï¼Œæ‰€ä»¥é€šè¿‡â€¦æ‰©å±•ç¬¦å·å±•å¼€çš„å±æ€§ï¼Œæ˜¯æ— æ³•è¿›è¡Œå“åº”å¼çš„ ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¿™ä¹ˆå†™ï¼š 1return &#123;...clickCountFn(), ...obj, btnClick1&#125; é‚£ä¹ˆæ˜¯æ— æ³•å®ç°çš„ã€‚ 4ã€API - toRefsæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ï¼š 12345678910111213141516171819202122232425262728&lt;template&gt; &lt;h2&gt;&#123;&#123;count&#125;&#125;&lt;&#x2F;h2&gt; &lt;button @click&#x3D;&quot;btnClick&quot;&gt;ç´¯åŠ &lt;&#x2F;button&gt; &lt;!-- æ— éœ€obj.usernameï¼Œç›´æ¥usernameå³å¯ --&gt; &lt;p&gt;å§“åï¼š&#123;&#123;username&#125;&#125;&lt;&#x2F;p&gt; &lt;button @click&#x3D;&quot;btnClick1&quot;&gt;ä¿®æ”¹å§“å&lt;&#x2F;button&gt;&lt;&#x2F;template&gt;&lt;script&gt;&#x2F;&#x2F; æ–°å¢toRefsæ–¹æ³•import &#123;ref, reactive, toRefs&#125; from &#39;vue&#39;export default &#123; setup()&#123; let obj &#x3D; reactive(&#123; username: &quot;Jack&quot; &#125;) let btnClick1 &#x3D; () &#x3D;&gt; &#123; obj.username &#x3D; &quot;Mary&quot; &#125; &#x2F;&#x2F; é€šè¿‡toRefsæ–¹æ³• let refObj &#x3D; toRefs(obj); &#x2F;&#x2F; é€šè¿‡...refObjå°†æ•°æ®æ‰©å±• return &#123;...clickCountFn(), ...refObj, btnClick1&#125; &#125;&#125;&#x2F;&#x2F; å…¶ä»–ä»£ç ...&lt;&#x2F;script&gt; ä¸‰ã€Provideä¸Injectï¼ˆæä¾›/æ³¨å…¥ï¼‰ã€æŒæ¡ã€‘1ã€Vue2å†™æ³•ä»¥å¾€æˆ‘ä»¬çš„çˆ¶ä¼ å­æ˜¯é€šè¿‡propsä¼ çš„ï¼š 1234567891011121314151617181920212223242526272829&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Child :num&#x3D;&quot;num&quot; &#x2F;&gt;&lt;&#x2F;template&gt;&lt;script&gt;import Child from &#39;.&#x2F;Child.vue&#39;export default &#123; data()&#123; return &#123; num: 123 &#125; &#125;, components: &#123; Child &#125;&#125;&lt;&#x2F;script&gt;&lt;!-- Child.vueå­ç»„ä»¶ --&gt;&lt;template&gt; &lt;h2&gt;çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼š&#123;&#123;num&#125;&#125;&lt;&#x2F;h2&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; props: [&#39;num&#39;]&#125;&lt;&#x2F;script&gt; è¿™ä¸ªæ—¶å€™é™åˆ¶æ­»äº†æ•°æ®å¿…é¡»æ¥è‡ªçˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å…¶å®è¿˜æœ‰ Provide å’Œ Inject ï¼š 123456789101112131415161718192021222324252627&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Child &#x2F;&gt;&lt;&#x2F;template&gt;&lt;script&gt;import Child from &#39;.&#x2F;Child.vue&#39;export default &#123; components: &#123; Child &#125;, provide: &#123; num: 456 &#125;&#125;&lt;&#x2F;script&gt;&lt;!-- Child.vueå­ç»„ä»¶ --&gt;&lt;template&gt; &lt;h2&gt;çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å€¼ï¼š&#123;&#123;num&#125;&#125;&lt;&#x2F;h2&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; inject: [&#39;num&#39;]&#125;&lt;&#x2F;script&gt; Provide/Inject ç›¸æ¯”äº props çš„å¥½å¤„åœ¨äºï¼š å¦‚æœç»„ä»¶åµŒå¥—è¾ƒå¤šï¼Œé‚£ä¹ˆ props éœ€è¦ä¸€çº§ä¸€çº§å¾€ä¸‹ä¼ é€’ï¼ŒåæœŸå¾ˆéš¾ç»´æŠ¤ã€‚Provide+Inject ç›¸å½“äºæ˜¯è·¨çº§ç»„ä»¶ä¼ å€¼ï¼Œæ¯”å¦‚å­™å­ç»„ä»¶ä¹Ÿæƒ³ç”¨ä¸Šé¢è¿™ä¸ª num çš„å€¼ï¼Œå°±ä¸ç”¨ä¸€çº§ä¸€çº§å¾€ä¸‹ä¼ ï¼Œç›´æ¥åœ¨å­™å­ç»„ä»¶ä½¿ç”¨å³å¯ï¼š 1234567891011&lt;!-- Sun.vueå­™å­ç»„ä»¶ --&gt;&lt;template&gt; &lt;h4&gt;å­™å­ç»„ä»¶ï¼š&#123;&#123;num&#125;&#125;&lt;&#x2F;h4&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; &#x2F;&#x2F; å°†Sunç»„ä»¶åœ¨Childç»„ä»¶ä¸­å¼•å…¥ï¼Œå³å¯å®ç°è·¨çº§ç»„ä»¶ä¼ å€¼ inject: [&#39;num&#39;]&#125;&lt;&#x2F;script&gt; 2ã€Vue3å†™æ³•vue3ä¸­çš„ provide/injectã€‚ä¸¤è€…éƒ½åªèƒ½åœ¨å½“å‰æ´»åŠ¨å®ä¾‹çš„ setup() æœŸé—´è°ƒç”¨ã€‚ æ ¼å¼ä¸ºï¼š 123456789101112131415161718// provideimport &#123;provide&#125; from &#x27;vue&#x27; // æ˜¾å¼å¯¼å…¥export default &#123; setup() &#123; // æ­¤å¤„nameå¿…é¡»æ˜¯Stringç±»å‹ï¼Œvalueåˆ™ä¸é™åˆ¶ provide(name, value) &#125;&#125;// injectimport &#123;inject&#125; from &#x27;vue&#x27; // æ˜¾å¼å¯¼å…¥export default &#123; setup()&#123; // nameå³ä¸ºä¼ è¿‡æ¥çš„å­—æ®µï¼Œç¬¬äºŒä¸ªå‚æ•°å¯é€‰ï¼Œå¯å¡«å†™é»˜è®¤å€¼ const val = inject(name, defaultValue); return &#123;val&#125; &#125;&#125; æˆ‘ä»¬ä¿®æ”¹ä»¥ä¸Šæ¡ˆä¾‹çš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Child &#x2F;&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123;provide&#125; from &#39;vue&#39; &#x2F;&#x2F; æ˜¾å¼å¯¼å…¥import Child from &#39;.&#x2F;Child.vue&#39;export default &#123; components: &#123; Child &#125;, setup()&#123; provide(&#39;num&#39;, 789) &#125;&#125;&lt;&#x2F;script&gt;&lt;!-- Sun.vueå­™å­ç»„ä»¶ --&gt;&lt;template&gt; &lt;h4&gt;å­™å­ç»„ä»¶ï¼š&#123;&#123;mynum&#125;&#125;&lt;&#x2F;h4&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123;inject&#125; from &#39;vue&#39; &#x2F;&#x2F; æ˜¾å¼å¯¼å…¥export default &#123; setup()&#123; const mynum &#x3D; inject(&#39;num&#39;); return &#123;mynum&#125; &#125;&#125;&lt;&#x2F;script&gt; 3ã€å“åº”æ€§æ‰€è°“çš„ Provide/Inject å“åº”æ€§ï¼Œå…¶å®å°±æ˜¯æŠŠä¼ é€’çš„å€¼ç»“åˆä¸Šæ–‡æåŠçš„ ref æˆ– reactive ä¸€èµ·ä½¿ç”¨ï¼š 1234567891011121314151617181920212223242526272829&lt;!-- Father.vueçˆ¶ç»„ä»¶ --&gt;&lt;template&gt; &lt;Child &#x2F;&gt; &lt;button @click&#x3D;&quot;changeNumFn&quot;&gt;ä¿®æ”¹num&lt;&#x2F;button&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123;provide, ref&#125; from &#39;vue&#39; &#x2F;&#x2F; æ˜¾å¼å¯¼å…¥import Child from &#39;.&#x2F;Child.vue&#39;export default &#123; components: &#123; Child &#125;, setup()&#123; &#x2F;&#x2F; ä½¿ç”¨refæ¥å®šä¹‰numçš„å€¼ const num &#x3D; ref(123); &#x2F;&#x2F; å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œä¸“é—¨ç”¨äºä¿®æ”¹num let changeNumFn &#x3D; () &#x3D;&gt; &#123; num.value &#x3D; 456; &#125; provide(&#39;num&#39;, num) &#x2F;&#x2F; è¿”å›è¿™ä¸ªå‡½æ•° return &#123;changeNumFn&#125; &#125;&#125;&lt;&#x2F;script&gt; æ­¤æ—¶ï¼Œå½“ä½ ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå­™å­ç»„ä»¶æ¥æ”¶åˆ°çš„ num å°±ä¼šè¢«ä¿®æ”¹äº†ã€‚ å››ã€Teleportï¼ˆä¼ é€é—¨ï¼‰ã€æŒæ¡ã€‘åœ¨vue2ä¸­ï¼Œæƒ³è¦å°†å­èŠ‚ç‚¹æ¸²æŸ“åˆ°å­˜åœ¨äºçˆ¶ç»„ä»¶ä»¥å¤–çš„ DOM èŠ‚ç‚¹æ—¶ï¼Œéœ€è¦é€šè¿‡ç¬¬ä¸‰æ–¹åº“ portal-vue å»å®ç°ã€‚è€Œvue3ä¸­ï¼ŒTeleport æ˜¯ä¸€ç§èƒ½å¤Ÿå°†æˆ‘ä»¬çš„æ¨¡æ¿ç§»åŠ¨åˆ° DOM ä¸­ Vue app ä¹‹å¤–çš„å…¶ä»–ä½ç½®çš„æŠ€æœ¯ã€‚ å®˜æ–¹æ–‡æ¡£ï¼šã€Šteleportã€‹ ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š æˆ‘ä»¬åœ¨ index.html ä¸­ #app åŒçº§çš„åœ°æ–¹æ–°å¢ä¸€ä¸ª #test å…ƒç´ ï¼š 12&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;&lt;div id=&quot;test&quot;&gt;&lt;/div&gt; ç”±äºvueçš„ main.js ä¸­è§„å®šäº†æ‰“åŒ…å‡ºæ¥çš„ä»£ç éƒ½æ”¾å…¥ #app ä¸­ï¼š 1createApp(App).mount(&#x27;#app&#x27;) å› æ­¤ï¼Œä½ ç°åœ¨æ²¡æœ‰åŠæ³•å°†ä»£ç æ”¾å…¥ #test ä¸­ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¼ é€é—¨ï¼š App.vue ä¸­ï¼š 12345678910111213&lt;template&gt; &lt;Home &#x2F;&gt;&lt;&#x2F;template&gt;&lt;script&gt;import Home from &#39;.&#x2F;components&#x2F;Home.vue&#39;export default &#123; name: &#39;App&#39;, components: &#123; Home &#125;&#125;&lt;&#x2F;script&gt; Home.vue ä¸­ï¼š 123456789&lt;template&gt; &lt;p&gt;è¿™æ®µè¯æ˜¯æ¸²æŸ“åœ¨#appä¸­çš„&lt;&#x2F;p&gt; &lt;teleport to&#x3D;&quot;#test&quot;&gt; &lt;p&gt;è¿™æ®µè¯æ˜¯æ¸²æŸ“åœ¨#testä¸­çš„--1&lt;&#x2F;p&gt; &lt;&#x2F;teleport&gt; &lt;teleport to&#x3D;&quot;#test&quot;&gt; &lt;p&gt;è¿™æ®µè¯æ˜¯æ¸²æŸ“åœ¨#testä¸­çš„--2&lt;&#x2F;p&gt; &lt;&#x2F;teleport&gt;&lt;&#x2F;template&gt; æ­¤æ—¶ï¼Œä½ æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œå°±å¯ä»¥çœ‹åˆ°ç¬¬2ã€3ä¸ªpæ ‡ç­¾å·²ç»è¢«æ¸²æŸ“åˆ° #test ä¸­ã€‚ å¤‡æ³¨ï¼š 1ã€æ ‡ç­¾èº«ä¸Šéƒ½toå±æ€§ï¼Œå¡«å†™çš„æ˜¯cssé€‰æ‹©å™¨ã€‚ 2ã€å¤šä¸ªä¼ é€é—¨ä¹¦å†™æ—¶ï¼Œä¼šæŒ‰ç…§è‡ªä¸Šè€Œä¸‹çš„é¡ºåºä¼ é€è‡³å¦ä¸€ä¸ªDOMå…ƒç´ ã€‚ äº”ã€Suspenseï¼ˆç­‰å¾…ï¼‰ã€æŒæ¡ã€‘Suspenseç»„ä»¶ç”¨äºåœ¨ç­‰å¾…æŸä¸ªå¼‚æ­¥ç»„ä»¶è§£ææ—¶æ˜¾ç¤ºåå¤‡å†…å®¹ã€‚ é‚£æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™éœ€è¦ä½¿ç”¨å¼‚æ­¥ç»„ä»¶å‘¢ï¼Ÿå¤šäº†å»äº†ï¼Œæ¯”å¦‚ï¼š åœ¨é¡µé¢åŠ è½½ä¹‹å‰æ˜¾ç¤ºåŠ è½½åŠ¨ç”» æ˜¾ç¤ºå ä½ç¬¦å†…å®¹ å¤„ç†å»¶è¿ŸåŠ è½½çš„å›¾åƒ é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ Suspense æ€ä¹ˆä½¿ç”¨ï¼Œæˆ‘ä»¬å…ˆæ¥æä¸€ä¸ªéœ€æ±‚ï¼š åœ¨ç­‰å¾…ç»„ä»¶è·å–æ•°æ®å¹¶è§£ææ—¶æ˜¾ç¤ºâ€œç©å‘½åŠ è½½ä¸­â€¦â€ä¹‹ç±»çš„å†…å®¹ OKï¼Œæˆ‘ä»¬æ¥å†™ä¸€ä¸ª Article.vue ç»„ä»¶ï¼š 12345678910111213141516171819&lt;template&gt; &lt;p&gt;&#123;&#123; content &#125;&#125;&lt;&#x2F;p&gt;&lt;&#x2F;template&gt;&lt;script&gt;import &#123; ref &#125; from &quot;vue&quot;;export default&#123; async setup() &#123; let content &#x3D; ref(&#39;å†…å®¹&#39;) content.value &#x3D; await new Promise((resolve,reject)&#x3D;&gt;&#123; setTimeout(() &#x3D;&gt; &#123; &#x2F;&#x2F; 3ç§’åä¿®æ”¹content resolve(&quot;ä½ å¥½ä¸–ç•Œ&quot;); &#125;, 3000); &#125;) return &#123;content&#125; &#125;,&#125;&lt;&#x2F;script&gt; ç”¨ä¸ª Home.vue ç»„ä»¶æ¥è°ƒç”¨å®ƒï¼š 12345678910111213141516171819&lt;template &lt;Suspense&gt; &lt;template #default&gt; &lt;Article&gt;&lt;&#x2F;Article&gt; &lt;&#x2F;template&gt; &lt;template #fallback&gt; &lt;p&gt;ç©å‘½åŠ è½½ä¸­...&lt;&#x2F;p&gt; &lt;&#x2F;template&gt; &lt;&#x2F;Suspense&gt;&lt;&#x2F;template&gt;&lt;script&gt;import Article from &#39;.&#x2F;Article.vue&#39;export default &#123; components:&#123; Article &#125;&#125;&lt;&#x2F;script&gt; å¯ä»¥çœ‹å‡ºï¼Œ&lt;Suspense&gt; ä¸­ï¼ŒåŒ…å«äº†ä¸¤ä¸ªtemplateæ ‡ç­¾ï¼Œ#default å®šä¹‰äº†æˆ‘ä»¬è¦å†™å…¥çš„å†…å®¹ï¼Œ #fallback å®šä¹‰äº†æˆ‘ä»¬è¦é¢„æ˜¾ç¤ºçš„å†…å®¹ã€‚ âš ï¸ æ³¨æ„ï¼š ä½œä¸ºtemplateä¸­çš„å†…å®¹ï¼ˆå³æ’æ§½ï¼‰ï¼Œå¿…é¡»è¦æœ‰æ ¹å…ƒç´ ã€‚ å…­ã€Fragmentï¼ˆç¢ç‰‡ï¼‰ã€äº†è§£ã€‘vue2ä¸­ï¼Œå¦‚æœä½ åˆ›å»ºä¸€ä¸ªVueç»„ä»¶ï¼Œé‚£ä¹ˆå®ƒåªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€ä¸èƒ½åˆ›å»ºè¿™æ ·çš„ç»„ä»¶ï¼š 1234&lt;template&gt; &lt;div&gt;ä½ å¥½&lt;&#x2F;div&gt; &lt;div&gt;ä¸–ç•Œ&lt;&#x2F;div&gt;&lt;&#x2F;template&gt; åŸå› æ˜¯ä»£è¡¨ä»»ä½•Vueç»„ä»¶çš„Vueå®ä¾‹éœ€è¦ç»‘å®šåˆ°ä¸€ä¸ªå•ä¸€çš„DOMå…ƒç´ ä¸­ã€‚å”¯ä¸€å¯ä»¥åˆ›å»ºä¸€ä¸ªå…·æœ‰å¤šä¸ªDOMèŠ‚ç‚¹çš„ç»„ä»¶çš„æ–¹æ³•å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åº•å±‚Vueå®ä¾‹çš„åŠŸèƒ½ç»„ä»¶ã€‚ è¿™æƒ…å†µåŒæ ·å­˜åœ¨äºreactï¼Œä½†reactå¯ä»¥ä½¿ç”¨ç©ºæ ‡ç­¾ &lt;&gt;&lt;/&gt; æ¥åŒ…è£¹ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨ä¸€ä¸ªåä¸ºFragmentçš„è™šæ‹Ÿå…ƒç´ ï¼š 12345678910class Columns extends React.Component &#123; render() &#123; return ( &lt;React.Fragment&gt; &lt;td&gt;ä½ å¥½&lt;/td&gt; &lt;td&gt;ä¸–ç•Œ&lt;/td&gt; &lt;/React.Fragment&gt; ) &#125;&#125; å°½ç®¡Fragmentçœ‹èµ·æ¥åƒä¸€ä¸ªæ™®é€šçš„DOMå…ƒç´ ï¼Œä½†å®ƒæ˜¯è™šæ‹Ÿçš„ï¼Œæ ¹æœ¬ä¸ä¼šåœ¨DOMæ ‘ä¸­å‘ˆç°ã€‚ç›®å‰ä½ å¯ä»¥åœ¨Vue 2ä¸­ä½¿ç”¨vue-fragmentsåº“æ¥ä½¿ç”¨Fragmentsï¼Œè€Œåœ¨Vue 3ä¸­ï¼Œä½ ç›´æ¥ä½¿ç”¨å°±è¡Œäº†ï¼Œæ— éœ€å¼•å…¥ä»»ä½•åº“ã€‚ ä¸ƒã€TreeShakingï¼ˆæ¶ˆé™¤æœªä½¿ç”¨ä»£ç ï¼‰ã€äº†è§£ã€‘TreeShaking æ˜¯ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯åœ¨æ‰“åŒ…æ„å»ºè¿‡ç¨‹ä¸­ç§»é™¤æ²¡æœ‰è¢«å¼•ç”¨åˆ°çš„ä»£ç ï¼Œè¿™äº›ä»£ç å¯ä»¥æˆä¸º dead codeã€‚è¿™ä¸ªæ¦‚å¿µæœ€æ—©åœ¨åŸºäº ES6 çš„æ‰“åŒ…å·¥å…· Rollup ä¸­æå‡ºï¼Œåæ¥è¢«å¼•å…¥åˆ° webpack ä¸­ã€‚TreeShaking æ¯”è¾ƒä¾èµ–äº ES6 æ¨¡å—ç³»ç»Ÿçš„é™æ€ç»“æ„ç‰¹æ€§ï¼Œæ¯”å¦‚ import å’Œ exportã€‚ æ–‡æ¡£å‚è€ƒï¼šhttps://vue3js.cn/docs/zh/guide/migration/global-api-treeshaking.html#_2-x-%E8%AF%AD%E6%B3%95 ä¸¾ä¸ªä¾‹å­ï¼š vue2ä¸­æˆ‘ä»¬å¸¸ä½¿ç”¨ Vue.nextTick(()=&gt;&#123;&#125;) æ¥é¢„æ“ä½œDOMï¼Œä½†æœ‰æ—¶å€™æˆ‘ä»¬ä¸ç”¨è¿™ä¸ª nextTick ï¼Œæ¯”å¦‚æ”¹ç”¨åˆ«çš„æ–¹å¼æ¥ä»£æ›¿ï¼ˆå¦‚setTimeoutï¼‰ï¼Œé‚£ä¹ˆé¡¹ç›®æ‰“åŒ…æ—¶ï¼Œvue å…¨å±€çš„ nextTick å°±æˆä¸ºä¸€ä¸ªå¤šä½™çš„ä»£ç ï¼Œä»è€Œä½¿ä½ çš„é¡¹ç›®æ‰“åŒ…ä½“ç§¯å˜å¤§ã€‚ åœ¨vue3ä¸­ï¼Œå®˜æ–¹å›¢é˜Ÿé‡æ„äº†æ‰€æœ‰å…¨å±€ API çš„ç»„ç»‡æ–¹å¼ï¼Œè®©æ‰€æœ‰çš„ API éƒ½æ”¯æŒäº† TreeShakingã€‚æ‰€ä»¥vue3ä¸­å¦‚æœè¿˜æƒ³ä½¿ç”¨å…¨å±€çš„ nextTick ï¼Œå°±éœ€è¦å¼•å…¥ï¼š 12345import &#123; nextTick &#125; from &#x27;vue&#x27;; nextTick(() =&gt; &#123; // å’Œ DOM æœ‰å…³çš„ä¸€äº›æ“ä½œ&#125;); å¦‚æœä½ åœ¨ Vue 3 ä¸­ä¸å¼•å…¥è€Œç›´æ¥è°ƒç”¨ Vue.nextTick() ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªæŠ¥é”™ï¼šundefined is not a functionã€‚ å®˜æ–¹ä¹Ÿç»™å‡ºäº†Vue 2.x ä¸­çš„å—æ­¤æ›´æ”¹å½±å“çš„å…¨å±€ APIï¼š Vue.nextTick Vue.observable (ç”¨ Vue.reactive æ›¿æ¢) Vue.version Vue.compile (ä»…å…¨æ„å»º) Vue.set (ä»…å…¼å®¹æ„å»º) Vue.delete (ä»…å…¼å®¹æ„å»º) å…«ã€Performanceï¼ˆæ€§èƒ½ï¼‰ã€äº†è§£ã€‘vue3.0ç›¸å¯¹äºvue2.0æ¥è¯´æ€§èƒ½å¿«1.2åˆ°1.5å€ï¼Œä¸»è¦åŸå› å¦‚ä¸‹ï¼š 1ã€diffæ–¹æ³•ä¼˜åŒ– \u001dVue2 ä¸­çš„è™šæ‹Ÿdomæ˜¯è¿›è¡Œå…¨é‡çš„å¯¹æ¯” Vue3 æ–°å¢äº†é™æ€æ ‡è®°ï¼ˆPatchFlagï¼‰ï¼Œåªæ¯”å¯¹å¸¦æœ‰ PF çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”é€šè¿‡ Flag çš„ä¿¡æ¯å¾—çŸ¥ å½“å‰èŠ‚ç‚¹è¦æ¯”å¯¹çš„å…·ä½“å†…å®¹ã€‚ 2ã€é™æ€æå‡ Vue2ä¸­æ— è®ºå…ƒç´ æ˜¯å¦å‚ä¸æ›´æ–°, æ¯æ¬¡éƒ½ä¼šé‡æ–°åˆ›å»º, ç„¶åå†æ¸²æŸ“ Vue3ä¸­å¯¹äºä¸å‚ä¸æ›´æ–°çš„å…ƒç´ , ä¼šåšé™æ€æå‡, åªä¼šè¢«åˆ›å»ºä¸€æ¬¡, åœ¨æ¸²æŸ“æ—¶ç›´æ¥å¤ç”¨å³å¯ 3ã€cacheHandlers äº‹ä»¶ä¾¦å¬å™¨ç¼“å­˜ é»˜è®¤æƒ…å†µä¸‹onClickä¼šè¢«è§†ä¸ºåŠ¨æ€ç»‘å®š, æ‰€ä»¥æ¯æ¬¡éƒ½ä¼šå»è¿½è¸ªå®ƒçš„å˜åŒ– ä½†æ˜¯å› ä¸ºæ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æ²¡æœ‰è¿½è¸ªå˜åŒ–, ç›´æ¥ç¼“å­˜èµ·æ¥å¤ç”¨å³å¯ 4ã€ssræ¸²æŸ“ å½“æœ‰å¤§é‡é™æ€çš„å†…å®¹æ—¶å€™ï¼Œè¿™äº›å†…å®¹ä¼šè¢«å½“åšçº¯å­—ç¬¦ä¸²æ¨è¿›ä¸€ä¸ªbufferé‡Œé¢ï¼Œ å³ä½¿å­˜åœ¨åŠ¨æ€çš„ç»‘å®šï¼Œä¼šé€šè¿‡æ¨¡æ¿æ’å€¼åµŒå…¥è¿›å»ã€‚è¿™æ ·ä¼šæ¯”é€šè¿‡è™šæ‹Ÿdmoæ¥æ¸²æŸ“çš„å¿«ä¸Šå¾ˆå¤šå¾ˆå¤šã€‚ å½“é™æ€å†…å®¹å¤§åˆ°ä¸€å®šé‡çº§æ—¶å€™ï¼Œä¼šç”¨_createStaticVNodeæ–¹æ³•åœ¨å®¢æˆ·ç«¯å»ç”Ÿæˆä¸€ä¸ªstatic nodeï¼Œ è¿™äº›é™æ€nodeï¼Œä¼šè¢«ç›´æ¥innerHtmlï¼Œå°±ä¸éœ€è¦åˆ›å»ºå¯¹è±¡ï¼Œç„¶åæ ¹æ®å¯¹è±¡æ¸²æŸ“ã€‚ ä¹ã€Setupçš„ç”Ÿå‘½å‘¨æœŸã€äº†è§£ã€‘ç»„åˆå¼APIéœ€è¦åœ¨setupä¸­ä½¿ç”¨ï¼Œsetupä¸­å«æœ‰çš„ç”Ÿå‘½é’©å­ä¸vueçš„å¤§ä½“ä¸€è‡´ï¼š å…·ä½“å‚è€ƒï¼šã€Šsetupç”Ÿå‘½å‘¨æœŸé’©å­ã€‹ åã€TypeScriptæ”¯æŒã€äº†è§£ã€‘vue3æ–°å¢äº†å¯¹TSè¯­æ³•çš„æ”¯æŒã€‚","categories":[],"tags":[{"name":"Vue3","slug":"Vue3","permalink":"https://gitee.com/shimmer612/myBlog/tags/Vue3/"}]},{"title":"davJså­¦ä¹ 02","slug":"umiä¸­ï¼Œdavjså­¦ä¹ 02","date":"2021-02-23T16:00:00.000Z","updated":"2021-02-24T07:30:24.443Z","comments":true,"path":"2021/02/24/umiä¸­ï¼Œdavjså­¦ä¹ 02/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/02/24/umi%E4%B8%AD%EF%BC%8Cdavjs%E5%AD%A6%E4%B9%A002/","excerpt":"","text":"æœ€è¿‘å…¬å¸æ–°é¡¹ç›®ç”¨çš„UmiJs3.xï¼Œæ•´ä¸ªé¡¹ç›®çš„æ•°æ®ï¼Œé€šè¿‡å†…ç½®çš„Davjsæ¥æ§åˆ¶ã€‚ æ˜¨å¤©è‡ªå·±åˆ†æäº†ä¸€ä¸‹Davjsã€‚ä½†æ˜¯è„‘æµ·ä¸­çš„æ¦‚å¿µè¿˜æ˜¯å¾ˆæ¨¡ç³Šã€‚ä»Šå¤©å†æ¢³ç†ä¸€ä¸‹ã€‚ ç¬¬ä¸€æ­¥é¦–å…ˆæ˜¯åœ¨Modelsæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªJSæ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233const GlobalModel = &#123; //modelçš„åç§° namespace: &quot;global&quot;, state: &#123; //æ”¾æ•°æ®çš„åœ°æ–¹ user:&#123;&#125; &#125;, effects: &#123; // å¼‚æ­¥è·å–æ•°æ®ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œéœ€è¦é€šè¿‡putè°ƒç”¨reducersçš„æ–¹æ³•ã€‚ `å…¶ä¸­callå’Œæ™®é€šæ˜¯dva æä¾›çš„effect å‡½æ•°å†…éƒ¨çš„å¤„ç†å‡½æ•° callï¼šæ‰§è¡Œå¼‚æ­¥å‡½æ•°ï¼Œ putï¼šå‘å‡ºä¸€ä¸ª Actionï¼Œç±»ä¼¼äº dispatch selectè·å–æ•°æ®ï¼Œ` *getTableData(&#123; payload &#125;, &#123; put, select, call &#125;) &#123; const tableList = yield select((state) =&gt; state.global.tableData); yield put(&#123; type: &quot;setTableParams&quot;, payload, &#125;); &#125;, reducers: &#123; //åŒæ­¥è·å–æ•°æ® setTableParams(state) &#123; return &#123; ...state &#125; &#125; &#125;,&#125;;export default GlobalModel; ç¬¬äºŒæ­¥å¯¹åº”é¡µé¢ä¸­ 12345678910111213141516171819202122232425262728import React from &quot;react&quot;;import &#123; connect &#125; from &quot;umi&quot;;const TableDemo = (props) =&gt; &#123; //èƒ½ç›´æ¥è·å–åˆ°users const &#123;dispatch, users&#125; = props dispatch(&#123; //globalè¿™ä¸ªmodelä¸­ï¼ŒgetTableDataè¿™ä¸ªå¼‚æ­¥æ“ä½œå‡½æ•° type: &quot;global/getTableData&quot;, payload: &#123; &#125;, &#125;); return ( &lt;div&gt; &#123;users.name&#125; &lt;/div&gt; )&#125;//æŠŠglobalä¸­stateä¸­çš„æ•°æ®ç»‘å®šåˆ°é¡µé¢çš„propsä¸Šexport default connect((&#123; global &#125;) =&gt; (&#123; users: global.users&#125;))(TableDemo); è¿˜å¯ä»¥è°ƒç”¨Serviceæ–‡ä»¶å¤¹é‡Œçš„æ¥å£ï¼Œè·å–æ•°æ®","categories":[],"tags":[{"name":"React","slug":"React","permalink":"https://gitee.com/shimmer612/myBlog/tags/React/"},{"name":"Davjs","slug":"Davjs","permalink":"https://gitee.com/shimmer612/myBlog/tags/Davjs/"},{"name":"UmiJs","slug":"UmiJs","permalink":"https://gitee.com/shimmer612/myBlog/tags/UmiJs/"}]},{"title":"Davç»“æ„çš„åˆ†æ","slug":"davjså­¦ä¹ ","date":"2021-02-23T10:34:00.000Z","updated":"2021-03-06T01:55:47.053Z","comments":true,"path":"2021/02/23/davjså­¦ä¹ /","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/02/23/davjs%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"ä¸‹é¢æ˜¯davjs modelsçš„ä¸€ä¸ªåŸºæœ¬ç»“æ„ 1234567891011121314151617181920212223242526272829303132333435export default &#123; //dav modelçš„åå­—namespace: &#x27;example&#x27;,//æ•°æ®state: &#123;num:1&#125;, //è¡¨ç¤ºå½“å‰çš„exampleä¸­çš„stateçŠ¶æ€ï¼Œè¿™é‡Œå¯ä»¥ç»™åˆå§‹å€¼ï¼Œè¿™é‡Œnumåˆå§‹ä¸º1 //è¿™é‡Œæ˜¯åšå¼‚æ­¥å¤„ç†çš„ç›¸å½“äºVueXçš„actioneffects: &#123; //payloadæ˜¯å‚æ•° putè§¦å‘action ï¼Œselectè·å–æ•°æ®ï¼Œ callå¼‚æ­¥æ“ä½œ *addByONe(&#123; payload&#125;, &#123; call, put,select &#125;) &#123; //è¿™é‡Œä½¿ç”¨selectconst num = yield select(state =&gt; state.num) //è¿™é‡Œå°±è·å–åˆ°äº†å½“å‰stateä¸­çš„æ•°æ®numlet param1; param1 = num + payload; è¿™é‡Œå°±å¯ä»¥ä½¿ç”¨numè¿›è¡Œæ“ä½œäº†yield put(&#123;type: &#x27;save&#x27;,num:param1&#125;);&#125;&#125;, //ç”¨æ¥ä¿å­˜æ›´æ–°stateå€¼ ä¸Šé¢çš„putæ–¹æ³•è°ƒç”¨è¿™é‡Œçš„æ–¹æ³•,reducers: &#123;save(state, action) &#123; //è¿™é‡Œçš„stateæ˜¯å½“å‰æ€»çš„stateï¼Œè¿™é‡Œçš„actionåŒ…å«äº†ä¸Šé¢ä¼ é€’çš„å‚æ•°å’Œtype return &#123; ...state, ...action.num &#125;; //è¿™é‡Œç”¨ES6è¯­æ³•æ¥æ›´æ–°å½“å‰stateä¸­numçš„å€¼&#125;&#125;, &#125;;","categories":[],"tags":[{"name":"React","slug":"React","permalink":"https://gitee.com/shimmer612/myBlog/tags/React/"},{"name":"Davjs","slug":"Davjs","permalink":"https://gitee.com/shimmer612/myBlog/tags/Davjs/"}]},{"title":"å…³äºæˆ‘","slug":"å…³äºæˆ‘","date":"2021-02-11T16:00:00.000Z","updated":"2021-04-12T08:26:57.639Z","comments":true,"path":"2021/02/12/å…³äºæˆ‘/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/02/12/%E5%85%B3%E4%BA%8E%E6%88%91/","excerpt":"","text":"ä¸€ä¸ªæ­£åœ¨æ…¢æ…¢æˆé•¿çš„å‰ç«¯ç¨‹åºå‘˜ã€‚","categories":[],"tags":[{"name":"Aboutme","slug":"Aboutme","permalink":"https://gitee.com/shimmer612/myBlog/tags/Aboutme/"}]},{"title":"æ–°å¹´å¿«ä¹","slug":"hello-world","date":"2021-02-10T16:00:00.000Z","updated":"2021-02-23T05:25:35.342Z","comments":true,"path":"2021/02/11/hello-world/","link":"","permalink":"https://gitee.com/shimmer612/myBlog/2021/02/11/hello-world/","excerpt":"","text":"å¤§å®¶æ–°å¹´å¿«ä¹","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E9%9A%8F%E7%AC%94/"},{"name":"antd","slug":"antd","permalink":"https://gitee.com/shimmer612/myBlog/tags/antd/"},{"name":"react","slug":"react","permalink":"https://gitee.com/shimmer612/myBlog/tags/react/"},{"name":"è§‚åæ„Ÿ","slug":"è§‚åæ„Ÿ","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E8%A7%82%E5%90%8E%E6%84%9F/"},{"name":"éšæ„Ÿ","slug":"éšæ„Ÿ","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E9%9A%8F%E6%84%9F/"},{"name":"javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"},{"name":"-javascript","slug":"javascript","permalink":"https://gitee.com/shimmer612/myBlog/tags/javascript/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E7%AE%97%E6%B3%95/"},{"name":"æ’åº","slug":"æ’åº","permalink":"https://gitee.com/shimmer612/myBlog/tags/%E6%8E%92%E5%BA%8F/"},{"name":"css","slug":"css","permalink":"https://gitee.com/shimmer612/myBlog/tags/css/"},{"name":"express","slug":"express","permalink":"https://gitee.com/shimmer612/myBlog/tags/express/"},{"name":"webSocket","slug":"webSocket","permalink":"https://gitee.com/shimmer612/myBlog/tags/webSocket/"},{"name":"react hooks","slug":"react-hooks","permalink":"https://gitee.com/shimmer612/myBlog/tags/react-hooks/"},{"name":"vue3","slug":"vue3","permalink":"https://gitee.com/shimmer612/myBlog/tags/vue3/"},{"name":"Vue3","slug":"Vue3","permalink":"https://gitee.com/shimmer612/myBlog/tags/Vue3/"},{"name":"nodejs","slug":"nodejs","permalink":"https://gitee.com/shimmer612/myBlog/tags/nodejs/"},{"name":"mongodb","slug":"mongodb","permalink":"https://gitee.com/shimmer612/myBlog/tags/mongodb/"},{"name":"React","slug":"React","permalink":"https://gitee.com/shimmer612/myBlog/tags/React/"},{"name":"swiper","slug":"swiper","permalink":"https://gitee.com/shimmer612/myBlog/tags/swiper/"},{"name":"tips","slug":"tips","permalink":"https://gitee.com/shimmer612/myBlog/tags/tips/"},{"name":"React UmiJS","slug":"React-UmiJS","permalink":"https://gitee.com/shimmer612/myBlog/tags/React-UmiJS/"},{"name":"AntDesign","slug":"AntDesign","permalink":"https://gitee.com/shimmer612/myBlog/tags/AntDesign/"},{"name":"Davjs","slug":"Davjs","permalink":"https://gitee.com/shimmer612/myBlog/tags/Davjs/"},{"name":"UmiJs","slug":"UmiJs","permalink":"https://gitee.com/shimmer612/myBlog/tags/UmiJs/"},{"name":"Aboutme","slug":"Aboutme","permalink":"https://gitee.com/shimmer612/myBlog/tags/Aboutme/"}]}